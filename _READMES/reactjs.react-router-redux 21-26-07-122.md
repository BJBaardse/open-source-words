were moving react router redux is going to live alongside react router in fact its already set up over there go take a look this repo is for react router redux 4 x which is only compatible with react router 2 x and 3 x the next version of react router redux will be 5 0 0 and will be compatible with react router 4 x it is currently being actively developed over there feel free to help out react router redux keep your router in sync with application state sparkles formerly known as redux simple router youre a smart person you use redux to manage your application state you use react router to do routing all is good but the two libraries dont coordinate you want to do time travel with your application state but react router doesnt navigate between pages when you replay actions it controls an important part of application state the url this library helps you keep that bit of state in sync with your redux store we keep a copy of the current location hidden in state when you rewind your application state with a tool like redux devtools that state change is propagated to react router so it can adjust the component tree accordingly you can jump around in state rewinding replaying and resetting as much as youd like and this library will ensure the two stay in sync at all times this library is not necessary for using redux together with react router you can use the two together just fine without any additional libraries it is useful if you care about recording persisting and replaying user actions using time travel if you dont care about these features just use redux and react router directly installation npm install save react router redux how it works this library allows you to use react routers apis as they are documented and you can use redux like you normally would with a single app state the library simply enhances a history instance to allow it to synchronize any changes it receives into application state history store redux → react router redux → enhanced history → react router tutorial lets take a look at a simple example js import react from react import reactdom from react dom import createstore combinereducers from redux import provider from react redux import router route browserhistory from react router import synchistorywithstore routerreducer from react router redux import reducers from reducers add the reducer to your store on the routing key const store createstore combinereducers reducers routing routerreducer create an enhanced history that syncs navigation events with the store const history synchistorywithstore browserhistory store reactdom render tell the router to use our enhanced history document getelementbyid mount now any time you navigate which can come from pressing browser buttons or navigating in your application code the enhanced history will first pass the new location through the redux store and then on to react router to update the component tree if you time travel it will also pass the new state to react router to update the component tree again how do i watch for navigation events such as for analytics simply listen to the enhanced history via history listen this takes in a function that will receive a location any time the store updates this includes any time travel activity performed on the store js const history synchistorywithstore browserhistory store history listen location analyticsservice track location pathname for other kinds of events in your system you can use middleware on your redux store like normal to watch any action that is dispatched to the store what if i use immutable js or another state wrapper with my redux store when using a wrapper for your stores state such as immutable js you will need to change two things from the standard setup by default the library expects to find the history state at state routing if your wrapper prevents accessing properties directly or you want to put the routing state elsewhere pass a selector function to access the historystate via the selectlocationstate option on synchistorywithstore provide your own reducer function that will receive actions of type location change and return the payload merged into the locationbeforetransitions property of the routing state for example state set routing locationbeforetransitions action payload these two hooks will allow you to store the state that this library uses in whatever format or wrapper you would like how do i access router state in a container component react router provides route information via a route components props this makes it easy to access them from a container component when using react redux to connect your components to state you can access the routers props from the 2nd argument of mapstatetoprops js function mapstatetoprops state ownprops return id ownprops params id filter ownprops location query filter you should not read the location state directly from the redux store this is because react router operates asynchronously to handle things such as dynamically loaded components and your component tree may not yet be updated in sync with your redux state you should rely on the props passed by react router as they are only updated after it has processed all asynchronous code what if i want to issue navigation events via redux actions react router provides singleton versions of history browserhistory and hashhistory that you can import and use from anywhere in your application however if you prefer redux style actions the library also provides a set of action creators and a middleware to capture them and redirect them to your history instance js import createstore combinereducers applymiddleware from redux import routermiddleware push from react router redux apply the middleware to the store const middleware routermiddleware browserhistory const store createstore reducers applymiddleware middleware dispatch from anywhere like normal store dispatch push foo examples examples basic basic reference implementation examples from the community react redux styled hot universal ssr universal webpack redux react router webpack 2 babel styled components and more shakacode react webpack rails tutorial react router redux including server rendering using react on rails live at www reactrails com davezuko react redux starter kit popular redux starter kit tip migrating from react router redux 3 0 0 use this commit as a reference svrcekmichal universal react universal react app with async actions provided by svrcekmichal reasync package steveniseki react router redux example minimal react router redux example includes css modules and universal rendering choonkending react webpack node full stack universal redux app kuy treemap with router an example for react router redux with d3s treemap → have an example to add send us a pr ← api routerreducer you must add this reducer to your store for syncing to work a reducer function that stores location updates from history if you use combinereducers it should be nested under the routing key history synchistorywithstore history store options creates an enhanced history from the provided history this history changes history listen to pass all location updates through the provided store first this ensures if the store is updated either from a navigation event or from a time travel action such as a replay the listeners of the enhanced history will stay in sync you must provide the enhanced history to your router component this ensures your routes stay in sync with your location and your store at the same time the options object takes in the following optional keys selectlocationstate default state state routing a selector function to obtain the history state from your store useful when not using the provided routerreducer to store history state allows you to use wrappers such as immutable js adjusturlonreplay default true when false the url will not be kept in sync during time travel this is useful when using persiststate from redux devtools and not wanting to maintain the url state when restoring state push location replace location go number goback goforward you must install routermiddleware for these action creators to work action creators that correspond with the history methods of the same name for reference they are defined as follows push pushes a new location to history becoming the current location replace replaces the current location in history go moves backwards or forwards a relative number of locations in history goforward moves forward one location equivalent to go 1 goback moves backwards one location equivalent to go 1 both push and replace take in a location descriptor which can be an object describing the url or a plain string url these action creators are also available in one single object as routeractions which can be used as a convenience when using reduxs bindactioncreators routermiddleware history a middleware you can apply to your redux store to capture dispatched actions created by the action creators it will redirect those actions to the provided history instance location change an action type that you can listen for in your reducers to be notified of route updates fires after any changes to history