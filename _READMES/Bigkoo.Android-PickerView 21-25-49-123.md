android pickerview english document 注意事项、详请使用方式、更新日志等，请查看 wiki文档 wiki文档，wiki文档，wiki文档 重要的事情说三遍 对于使用上有任何疑问或优化建议等，欢迎加入qq群讨论交流技术问题。 交流群1： 387051294（已满） 交流群2： 219962328 介绍 这是一款仿ios的pickerview控件，有时间选择器和选项选择器，新版本的详细特性如下： ——timepickerview 时间选择器，支持年月日时分，年月日，年月，时分等格式。 ——optionspickerview 选项选择器，支持一，二，三级选项选择，并且可以设置是否联动 。 支持三级联动 设置是否联动 设置循环模式 支持自定义布局。 支持item的分隔线设置。 支持item间距设置。 时间选择器支持起始和终止日期设定。 支持“年，月，日，时，分，秒”，“省，市，区”等选项的单位（label）显示、隐藏和自定义。 支持自定义文字、颜色、文字大小等属性 item的文字长度过长时，文字会自适应缩放到item的长度，避免显示不完全的问题 支持dialog 模式。 支持自定义设置容器。 实时回调。 有兴趣研究3d滚轮效果的实现机制，希望把源码研究透彻的可以看看这篇博客： android pickerview系列之源码解析篇（二） 使用注意事项 注意：当我们进行设置时间的启始位置时，需要特别注意月份的设定 原因：calendar组件内部的月份，是从0开始的，即0 11代表1 12月份 错误使用案例： startdate set 2013 1 1 enddate set 2020 12 1 正确使用案例： startdate set 2013 0 1 enddate set 2020 11 1 v4 1 3 版本更新说明（2018 4 14） 新增getdialog 方法，在设置 isdialog true 即dialog模式下，通过它获取dialog对象。 新增getdialogcontainerlayout 方法，用于设置dialog模式下选择器的显示宽度。 优化wheelview代码以及弹出动画效果。 更多历史版本详情，请查阅：更新日志（4 x版本） 方法名与参数请查阅：方法名与参数说明文档 如何使用： android pickerview 库使用示例： 1 添加jcenter仓库 gradle依赖： java compile com contrarywind android pickerview 4 1 4 或者 maven dependency groupid com contrarywind groupid artifactid android pickerview artifactid version 4 1 2 version type pom type dependency 2 在项目中添加如下代码： java 时间选择器 timepickerview pvtime new timepickerbuilder mainactivity this new ontimeselectlistener override public void ontimeselect date date view v toast maketext mainactivity this gettime date toast length short show build java 条件选择器 optionspickerview pvoptions new optionspickerbuilder mainactivity this new onoptionsselectlistener override public void onoptionsselect int options1 int option2 int options3 view v 返回的分别是三个级别的选中位置 string tx options1items get options1 getpickerviewtext options2items get options1 get option2 options3items get options1 get option2 get options3 getpickerviewtext tvoptions settext tx build pvoptions setpicker options1items options2items options3items pvoptions show 大功告成 3 如果默认样式不符合你的口味，可以自定义各种属性： java calendar selecteddate calendar getinstance calendar startdate calendar getinstance startdate set 2013 1 1 calendar enddate calendar getinstance enddate set 2020 1 1 正确设置方式 原因：注意事项有说明 startdate set 2013 0 1 enddate set 2020 11 31 pvtime new timepickerbuilder this new ontimeselectlistener override public void ontimeselect date date view v 选中事件回调 tvtime settext gettime date settype new boolean true true true true true true 默认全部显示 setcanceltext cancel 取消按钮文字 setsubmittext sure 确认按钮文字 setcontentsize 18 滚轮文字大小 settitlesize 20 标题文字大小 settitletext title 标题文字 setoutsidecancelable false 点击屏幕，点在控件外部范围时，是否取消显示 iscyclic true 是否循环滚动 settitlecolor color black 标题文字颜色 setsubmitcolor color blue 确定按钮文字颜色 setcancelcolor color blue 取消按钮文字颜色 settitlebgcolor 0xff666666 标题背景颜色 night mode setbgcolor 0xff333333 滚轮背景颜色 night mode setdate selecteddate 如果不设置的话，默认是系统时间 setrangdate startdate enddate 起始终止年月日设定 setlabel 年 月 日 时 分 秒 默认设置为年月日时分秒 iscenterlabel false 是否只显示中间选中项的label文字，false则每项item全部都带有label。 isdialog true 是否显示为对话框样式 build java pvoptions new optionspickerbuilder this new optionspickerview onoptionsselectlistener override public void onoptionsselect int options1 int option2 int options3 view v 返回的分别是三个级别的选中位置 string tx options1items get options1 getpickerviewtext options2items get options1 get option2 options3items get options1 get option2 get options3 getpickerviewtext tvoptions settext tx setoptionsselectchangelistener new onoptionsselectchangelistener override public void onoptionsselectchanged int options1 int options2 int options3 string str options1 options1 \noptions2 options2 \noptions3 options3 toast maketext mainactivity this str toast length short show setsubmittext 确定 确定按钮文字 setcanceltext 取消 取消按钮文字 settitletext 城市选择 标题 setsubcalsize 18 确定和取消文字大小 settitlesize 20 标题文字大小 settitlecolor color black 标题文字颜色 setsubmitcolor color blue 确定按钮文字颜色 setcancelcolor color blue 取消按钮文字颜色 settitlebgcolor 0xff333333 标题背景颜色 night mode setbgcolor 0xff000000 滚轮背景颜色 night mode setcontenttextsize 18 滚轮文字大小 setlinkage false 设置是否联动，默认true setlabels 省 市 区 设置选择的三级单位 iscenterlabel false 是否只显示中间选中项的label文字，false则每项item全部都带有label。 setcyclic false false false 循环与否 setselectoptions 1 1 1 设置默认选中项 setoutsidecancelable false 点击外部dismiss default true isdialog true 是否显示为对话框样式 isrestoreitem true 切换时是否还原，设置默认选中第一项。 build pvoptions setpicker options1items options2items options3items 添加数据源 4 如果需要自定义布局： java 注意：自定义布局中，id为 optionspicker 或者 timepicker 的布局以及其子控件必须要有，否则会报空指针 具体可参考demo 里面的两个自定义布局 pvcustomoptions new optionspickerbuilder this new optionspickerview onoptionsselectlistener override public void onoptionsselect int options1 int option2 int options3 view v 返回的分别是三个级别的选中位置 string tx carditem get options1 getpickerviewtext btn customoptions settext tx setlayoutres r layout pickerview custom options new customlistener override public void customlayout view v 自定义布局中的控件初始化及事件处理 final textview tvsubmit textview v findviewbyid r id tv finish final textview tvadd textview v findviewbyid r id tv add imageview ivcancel imageview v findviewbyid r id iv cancel tvsubmit setonclicklistener new view onclicklistener override public void onclick view v pvcustomoptions returndata tvsubmit ivcancel setonclicklistener new view onclicklistener override public void onclick view v pvcustomoptions dismiss tvadd setonclicklistener new view onclicklistener override public void onclick view v getdata pvcustomoptions setpicker carditem build pvcustomoptions setpicker carditem 添加数据 5 对使用还有疑问的话，可参考demo代码 请戳我查看demo代码 6 若只需要wheelview基础控件自行扩展实现逻辑，可直接添加基础控件库，gradle 依赖： java compile com contrarywind wheelview 4 0 6 wheelview 使用代码示例： xml布局： xml com contrarywind view wheelview android id id wheelview android layout width match parent android layout height wrap content java 代码： java wheelview wheelview findviewbyid r id wheelview wheelview setcyclic false final list string moptionsitems new arraylist moptionsitems add item0 moptionsitems add item1 moptionsitems add item2 wheelview setadapter new arraywheeladapter moptionsitems wheelview setonitemselectedlistener new onitemselectedlistener override public void onitemselected int index toast maketext mainactivity this moptionsitems get index toast length short show 效果图（招行信用卡的“掌上生活”里面条件选择器他们用的就是我这个库，大家可以当实际项目参考） thanks wheelview androidwheelview license copyright 2014 bigkoo licensed under the apache license version 2 0 the license you may not use this file except in compliance with the license you may obtain a copy of the license at http www apache org licenses license 2 0 unless required by applicable law or agreed to in writing software distributed under the license is distributed on an as is basis without warranties or conditions of any kind either express or implied see the license for the specific language governing permissions and limitations under the license