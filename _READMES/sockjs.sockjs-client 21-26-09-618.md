sockjs client sockjs is a browser javascript library that provides a websocket like object sockjs gives you a coherent cross browser javascript api which creates a low latency full duplex cross domain communication channel between the browser and the web server under the hood sockjs tries to use native websockets first if that fails it can use a variety of browser specific transport protocols and presents them through websocket like abstractions sockjs is intended to work for all modern browsers and in environments which dont support the websocket protocol for example behind restrictive corporate proxies sockjs client does require a server counterpart sockjs node is a sockjs server for node js philosophy the api should follow html5 websockets api as closely as possible all the transports must support cross domain connections out of the box its possible and recommended to host a sockjs server on a different server than your main web site there is support for at least one streaming protocol for every major browser streaming transports should work cross domain and should support cookies for cookie based sticky sessions polling transports are used as a fallback for old browsers and hosts behind restrictive proxies connection establishment should be fast and lightweight no flash inside no need to open port 843 which doesnt work through proxies no need to host crossdomain xml no need to wait for 3 seconds in order to detect problems subscribe to sockjs mailing list for discussions and support sockjs family sockjs client javascript client library sockjs node node js server sockjs erlang erlang server sockjs cyclone python cyclone twisted server sockjs tornado python tornado server sockjs twisted python twisted server sockjs aiohttp python aiohttp server spring framework java client server vert x java vert x server xitrum scala server atmosphere framework javaee server play framework netty vert x actix sockjs rust server actix framework work in progress sockjs ruby sockjs netty sockjs gevent sockjs gevent fork pyramid sockjs wildcloud websockets wai sockjs sockjs perl sockjs go getting started sockjs mimics the websockets api but instead of websocket there is a sockjs javascript object first you need to load the sockjs javascript library for example you can put that in your html head html script src https cdn jsdelivr net npm sockjs client 1 dist sockjs min js script after the script is loaded you can establish a connection with the sockjs server heres a simple example javascript var sock new sockjs https mydomain com my prefix sock onopen function console log open sock send test sock onmessage function e console log message e data sock close sock onclose function console log close sockjs client api sockjs class similar to the websocket api the sockjs constructor takes one or more arguments javascript var sockjs new sockjs url reserved options url may contain a query string if one is desired where options is a hash which can contain server string string to append to url for actual data connection defaults to a random 4 digit number transports string or array of strings sometimes it is useful to disable some fallback transports this option allows you to supply a list transports that may be used by sockjs by default all available transports will be used sessionid number or function both client and server use session identifiers to distinguish connections if you specify this option as a number sockjs will use its random string generator function to generate session ids that are n character long where n corresponds to the number specified by sessionid when you specify this option as a function the function must return a randomly generated string every time sockjs needs to generate a session id it will call this function and use the returned string directly if you dont specify this option the default is to use the default random string generator to generate 8 character long session ids although the sockjs object tries to emulate the websocket behaviour its impossible to support all of its features an important sockjs limitation is the fact that youre not allowed to open more than one sockjs connection to a single domain at a time this limitation is caused by an in browser limit of outgoing connections usually browsers dont allow opening more than two outgoing connections to a single domain a single sockjs session requires those two connections one for downloading data the other for sending messages opening a second sockjs session at the same time would most likely block and can result in both sessions timing out opening more than one sockjs connection at a time is generally a bad practice if you absolutely must do it you can use multiple subdomains using a different subdomain for every sockjs connection supported transports by browser html served from http or https browser websockets streaming polling ie 6 7 no no jsonp polling ie 8 9 cookies no no xdr streaming † xdr polling † ie 8 9 cookies yes no iframe htmlfile iframe xhr polling ie 10 rfc6455 xhr streaming xhr polling chrome 6 13 hixie 76 xhr streaming xhr polling chrome 14 hybi 10 rfc6455 xhr streaming xhr polling firefox 10 no ‡ xhr streaming xhr polling firefox 10 hybi 10 rfc6455 xhr streaming xhr polling safari 5 x hixie 76 xhr streaming xhr polling safari 6 rfc6455 xhr streaming xhr polling opera 10 70 no ‡ iframe eventsource iframe xhr polling opera 12 10 rfc6455 xhr streaming xhr polling konqueror no no jsonp polling † ie 8 supports xdomainrequest which is essentially a modified ajax xhr that can do requests across domains but unfortunately it doesnt send any cookies which makes it inappropriate for deployments when the load balancer uses jsessionid cookie to do sticky sessions ‡ firefox 4 0 and opera 11 00 and shipped with disabled websockets hixie 76 they can still be enabled by manually changing a browser setting supported transports by browser html served from file sometimes you may want to serve your html from file address for development or if youre using phonegap or similar technologies but due to the cross origin policy files served from file have no origin and that means some of sockjs transports wont work for this reason the sockjs transport table is different than usually major differences are browser websockets streaming polling ie 8 9 same as above iframe htmlfile iframe xhr polling other same as above iframe eventsource iframe xhr polling supported transports by name transport references websocket rfc6455 rfc 6455 websocket hixie 76 draft hixie thewebsocketprotocol 76 websocket hybi 10 draft ietf hybi thewebsocketprotocol 10 xhr streaming transport using cross domain xhr streaming capability readystate 3 xdr streaming transport using xdomainrequest streaming capability readystate 3 eventsource eventsource server sent events iframe eventsource eventsource server sent events used from an iframe via postmessage htmlfile htmlfile iframe htmlfile htmlfile used from an iframe via postmessage xhr polling long polling using cross domain xhr xdr polling long polling using xdomainrequest iframe xhr polling long polling using normal ajax from an iframe via postmessage jsonp polling slow and old fashioned jsonp polling this transport will show busy indicator aka spinning wheel when sending data connecting to sockjs without the client although the main point of sockjs is to enable browser to server connectivity it is possible to connect to sockjs from an external application any sockjs server complying with 0 3 protocol does support a raw websocket url the raw websocket url for the test server looks like ws localhost 8081 echo websocket you can connect any websocket rfc 6455 compliant websocket client to this url this can be a command line client external application third party code or even a browser though i dont know why you would want to do so deployment you should use a version of sockjs client that supports the protocol used by your server for example html script src https cdn jsdelivr net npm sockjs client 1 dist sockjs min js script for server side deployment tricks especially about load balancing and session stickiness take a look at the sockjs node readme development and testing sockjs client needs node js for running a test server and javascript minification if you want to work on sockjs client source code checkout the git repo and follow these steps cd sockjs client npm install to generate javascript run gulp browserify to generate minified javascript run gulp browserify min both commands output into the build directory testing once youve compiled the sockjs client you may want to check if your changes pass all the tests npm run test browser local this will start zuul and a test support server open the browser to http localhost 9090 zuul and watch the tests run browser quirks there are various browser quirks which we dont intend to address pressing esc in firefox before firefox 20 closes the sockjs connection for a workaround and discussion see 18 jsonp polling transport will show a spinning wheel aka busy indicator when sending data you cant open more than one sockjs connection to one domain at the same time due to the browsers limit of concurrent connections this limit is not counting native websocket connections although sockjs is trying to escape any strange unicode characters even invalid ones like surrogates \xd800 \xdbff or \xfffe and \xffff its advisable to use only valid characters using invalid characters is a bit slower and may not work with sockjs servers that have proper unicode support having a global function called onmessage or such is probably a bad idea as it could be called by the built in postmessage api from sockjs point of view there is nothing special about ssl https connecting between unencrypted and encrypted sites should work just fine although sockjs does its best to support both prefix and cookie based sticky sessions the latter may not work well cross domain with browsers that dont accept third party cookies by default safari in order to get around this make sure youre connecting to sockjs from the same parent domain as the main site for example sockjs a com is able to set cookies if youre connecting from www a com or a com trying to connect from secure https to insecure http is not a good idea the other way around should be fine long polling is known to cause problems on heroku but a workaround for sockjs is available sockjs websocket transport is more stable over ssl if youre a serious sockjs user then consider using ssl more info