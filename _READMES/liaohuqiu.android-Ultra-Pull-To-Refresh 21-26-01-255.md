welcome to follow me on github or twitter github https github com liaohuqiu twitter https twitter com liaohuqiu 中文版文档 wanna auto load more this will be what you want https github com liaohuqiu android cube app ultra pull to refresh its a replacement for the deprecated pull to refresh solution it can contain any view you want its easy to use and more powerful than swiperefreshlayout its well designed you can customize the ui effect you want as easy as adding a headview to listview support api level 8 all snapshots are taken from genymotion 2 3 7 download apk storehouse style first thanks to cbstorehouserefreshcontrol material style added 2014 12 09 there is a beautiful shadow which looks terrible in gif snapshot please check out the demo supports all of the views listview gridview scrollview framelayout or even a single textview supports all of the refresh types pull to refresh release to refresh keep header when refresh hide header when refresh auto refresh usage maven central this project has been pushed to maven central both in aar and apklib the latest version 1 0 11 has been published to https oss sonatype org content repositories snapshots in gradle maven url https oss sonatype org content repositories snapshots the stable version 1 0 11 https oss sonatype org content repositories releases in gradle mavencentral pom xml latest version xml dependency groupid in srain cube groupid artifactid ultra ptr artifactid type aar type or apklib format if you want type apklib type version 1 0 11 version dependency pom xml stable version xml dependency groupid in srain cube groupid artifactid ultra ptr artifactid type aar type or apklib format if you want type apklib type version 1 0 11 version dependency gradle latest version compile in srain cube ultra ptr 1 0 11 gradle stable version compile in srain cube ultra ptr 1 0 11 config there are 6 properties resistence this is the resistence while you are moving the frame default is 1 7f ratio of the height of the header to refresh the ratio of the height of the header to trigger refresh default is 1 2f duration to close the duration for moving from the position you relase the view to the height of header default is 200ms duration to close header the default value is 1000ms keep header while refreshing the default value is true pull to refresh release to refresh the default value is release to refresh config in xml xml in srain cube views ptr ptrframelayout android id id store house ptr frame xmlns cube ptr http schemas android com apk res auto android layout width match parent android layout height match parent cube ptr ptr resistance 1 7 cube ptr ptr ratio of header height to refresh 1 2 cube ptr ptr duration to close 300 cube ptr ptr duration to close header 2000 cube ptr ptr keep header when refresh true cube ptr ptr pull to fresh false linearlayout android id id store house ptr image content android layout width match parent android layout height match parent android background color cube mints 333333 android clickable true android padding 10dp in srain cube image cubeimageview android id id store house ptr image android layout width match parent android layout height match parent linearlayout or config in java code java the following are default settings mptrframe setresistance 1 7f mptrframe setratioofheaderheighttorefresh 1 2f mptrframe setdurationtoclose 200 mptrframe setdurationtocloseheader 1000 default is false mptrframe setpulltorefresh false default is true mptrframe setkeepheaderwhenrefresh true other config setpincontent pin the content only the headerview will be moved thiss the the performance of material style in support package v19 storehouse style config using string java header final storehouseheader header new storehouseheader getcontext header setpadding 0 localdisplay dp2px 15 0 0 using a string support a z 0 9 you can add more letters by link in srain cube views ptr header storehousepath addchar header initwithstring alibaba config using string array from xml java header initwithstringarray r array storehouse and in res values arrays xml xml resources string array name storehouse item 0 35 12 42 item item 12 42 24 35 item item 24 35 12 28 item item 0 35 12 28 item item 0 21 12 28 item item 12 28 24 21 item item 24 35 24 21 item item 24 21 12 14 item item 0 21 12 14 item item 0 21 0 7 item item 12 14 0 7 item item 12 14 24 7 item item 24 7 12 0 item item 0 7 12 0 item string array resources process refresh there is a ptrhandler by which you can refresh the data public interface ptrhandler check can do refresh or not for example the content is empty or the first child is in view p link in srain cube views ptr ptrdefaulthandler checkcontentcanbepulleddown public boolean checkcandorefresh final ptrframelayout frame final view content final view header when refresh begin param frame public void onrefreshbegin final ptrframelayout frame an example java ptrframe setptrhandler new ptrhandler override public void onrefreshbegin ptrframelayout frame frame postdelayed new runnable override public void run ptrframe refreshcomplete 1800 override public boolean checkcandorefresh ptrframelayout frame view content view header return ptrdefaulthandler checkcontentcanbepulleddown frame content header customize you can add a ptruihandler to ptrframelayout to implement any ui effect you want java public interface ptruihandler when the content view has reached top and refresh has been completed view will be reset param frame public void onuireset ptrframelayout frame prepare for loading param frame public void onuirefreshprepare ptrframelayout frame perform refreshing ui public void onuirefreshbegin ptrframelayout frame perform ui after refresh public void onuirefreshcomplete ptrframelayout frame public void onuipositionchange ptrframelayout frame boolean isundertouch byte status int oldposition int currentposition float oldpercent float currentpercent q a work with viewpager disablewhenhorizontalmove work with longpressed setintercepteventwhileworking contact help please fell free to contact me if there is any problem when using the library srain php net twitter https twitter com liaohuqiu weibo http weibo com liaohuqiu blog http www liaohuqiu net about how to use cube sdk ultra ptr 271918140 cube sdk this the rule for our tribes please read it before you request to join https github com liaohuqiu qq tribe rule for those who like thinking independently and are good at solving problem independently please join us we are all here on slack http join add1bit liaohuqiu net