lantern http www projecttalk io boards getlantern 2flantern utm campaign gh badge utm medium badge utm source github if youre looking for lantern installers you can find all of them at the following links windows xp sp 3 and above osx 10 8 and above ubuntu 14 04 32 bit ubuntu 14 04 64 bit arch linux if youre looking for help please visit below user forums english 中文 فارسی français building lantern prerequisites git brew install git apt get install git etc go 1 6 or higher gnu make to build and run lantern desktop just do sh git clone https github com getlantern lantern git cd lantern make lantern lantern during development youll likely want to do a clean build like this sh make clean desktop lantern lantern building mobile mobile prerequisites building the mobile library and app requires the following install java jdk 7 or 8 install go 1 6 or higher install android sdk tools install ndk http developer android com ndk downloads index html make sure to set these environment variables before trying to build any android components replace the paths based on wherever youve installed the android sdk and ndk bash export android home opt adt bundle mac x86 64 20130917 sdk export path android home tools android home platform tools android home build tools path export ndk home opt android ndk r10e export path ndk home path go android library the core lantern functionality can be packaged into a native android library with make android lib java android sdk the java based android sdk allows easy embedding of lantern functionality in 3rd party android apps such as manoto tv the sdk can be built with make android sdk lantern mobile testbed this simple android application provides a way to test the android sdk it can be built with make android testbed lantern mobile app debug to create a debug build of the full lantern mobile app make android debug to install on the default device make android install release to create a release build add the following to your gradle gradle properties file keystore pwd keystore password keystore file keystore release jks key pwd key password you can find the exact values to add to your gradle properties here then it can be built with sh secrets dir path to too many secrets \ version 2 0 0 beta1 make android release android tips uninstall for all users if you use adb to install and debug an app to your android device during development and then subsequently build a signed apk and try to install it on that same device you may receive an unhelpful error saying app not installed this typically means that you tried to install the same app but signed with a different key the solution is to uninstall the app first but you have to uninstall it for all users you can do this by selecting uninstall for all users from settings apps pick the app hamburger menu uninstall for all users if you forget to do this and just uninstall normally youll still encounter the error to fix this youll have to run the app with adb again and then uninstall for all users getting http connections to use proxy in android programmatic access to http resources typically uses the httpurlconnection class you can tell it to use a proxy by setting some system properties java system setproperty http proxyhost host system setproperty http proxyport port system setproperty https proxyhost host system setproperty https proxyport port you can disable proxying by clearing those properties java system clearproperty http proxyhost system clearproperty http proxyport system clearproperty https proxyhost system clearproperty https proxyport however there is one big caveat httpurlconnection uses keep alives to reuse existing tcp connections these tcp connections will still be using the old proxy settings this has several implications set the proxy settings as early in the applications lifecycle as possible ideally before any httpurlconnections have been opened dont expect the settings to take effect immediately if some httpurlconnections have already been opened disable keep alives if you need to which you can do like this java httpurlconnection urlconnection httpurlconnection url openconnection need to force closing so that old connections with old proxy settings dont get reused urlconnection setrequestproperty connection close building lantern for running on a server to run lantern on a server you simply need to set a flag to build it in headless mode and then tell it to run on any local address as opposed to binding to localhost so that its accessible from other machines you can do this as follows headless true make docker linux or if youre already running on linux just headless true make linux lantern linux amd64 addr 0 0 0 0 8787 or lantern linux 386 addr 0 0 0 0 8787 other generating assets sh make genassets if the environment variable update dist true is set make genassets also updates the resources in the dist folder an annotated tag can be added like this sh git tag a v1 0 0 m tagged 1 0 0 git push tags use make create tag as a shortcut for creating and uploading tags version 2 0 0 beta5 make create tag if you want to both create a package and upload a tag run the create tag task right after the packages task env variables make packages create tag updating icons the icons used for the system tray are stored in src github getlantern lantern icons to apply changes to the icons make your updates in the icons folder and then run make update icons continuous integration with travis ci continuous builds are run on travis ci these builds use the travis yml configuration the github com getlantern cf unit tests require an envvars bash to be populated with credentials for cloudflare the original envvars bash is available here an encrypted version is checked in as envvars bash enc which was encrypted per the instructions here documentation for developers dev readme please go to readme dev for an in depth explanation of the lantern internals and cloud services release readme please visit readme release for details on building release versions of lantern contributing changes lantern is a gost project that provides repeatable builds and consolidated pull requests for lantern go code in lantern must pass several tests errcheck golint go vet go test race you can find a generic git hook file which can be used as a pre push or pre commit hook to automatically ensure these tests are passed before committing any code only go packages in src github com getlantern will be tested and only those that have changes in them install by copying it into the local git hooks directory with the pre push file name if you want to run it before pushing alternatively you can copy pre commit hook to pre commit to run it before each commit bash ln s pwd prehook sh git hooks prehook sh ln s pwd pre push git hooks pre push important notice if you must commit without running the hooks you can run git with the no verify flag