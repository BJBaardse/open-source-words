php dotenv loads environment variables from env to getenv env and server automagically this is a php version of the original ruby dotenv why env you should never store sensitive credentials in your code storing configuration in the environment is one of the tenets of a twelve factor app anything that is likely to change between deployment environments – such as database credentials or credentials for 3rd party services – should be extracted from the code into environment variables basically a env file is an easy way to load custom configuration variables that your application needs without having to modify htaccess files or apache nginx virtual hosts this means you wont have to edit any files outside the project and all the environment variables are always set no matter how you run your project apache nginx cli and even php 5 4s built in webserver its way easier than all the other ways you know of to set environment variables and youre going to love it no editing virtual hosts in apache or nginx no adding php value flags to htaccess files easy portability and sharing of required env values compatible with phps built in web server and cli runner installation with composer shell curl s http getcomposer org installer php php composer phar require vlucas phpdotenv or on existing projects shell composer require vlucas phpdotenv usage the env file is generally kept out of version control since it can contain sensitive api keys and passwords a separate env example file is created with all the required environment variables defined except for the sensitive ones which are either user supplied for their own development environments or are communicated elsewhere to project collaborators the project collaborators then independently copy the env example file to a local env and ensure all the settings are correct for their local environment filling in the secret keys or providing their own values when necessary in this usage the env file should be added to the projects gitignore file so that it will never be committed by collaborators this usage ensures that no sensitive passwords or api keys will ever be in the version control history so there is less risk of a security breach and production values will never have to be shared with all project collaborators add your application configuration to a env file in the root of your project make sure the env file is added to your gitignore so it is not checked in the code shell s3 bucket dotenv secret key souper seekret key now create a file named env example and check this into the project this should have the env variables you need to have set but the values should either be blank or filled with dummy data the idea is to let people know what variables are required but not give them the sensitive production values shell s3 bucket devbucket secret key abc123 you can then load env in your application with php dotenv new dotenv\dotenv dir dotenv load optionally you can pass in a filename as the second parameter if you would like to use something other than env php dotenv new dotenv\dotenv dir myconfig dotenv load all of the defined variables are now accessible with the getenv method and are available in the env and server super globals php s3 bucket getenv s3 bucket s3 bucket env s3 bucket s3 bucket server s3 bucket you should also be able to access them using your frameworks request class if you are using a framework php s3 bucket request env s3 bucket s3 bucket request getenv s3 bucket s3 bucket request server get s3 bucket s3 bucket env s3 bucket nesting variables its possible to nest an environment variable within another useful to cut down on repetition this is done by wrapping an existing environment variable in … e g shell base dir var webroot project root cache dir base dir cache tmp dir base dir tmp immutability by default dotenv will not overwrite existing environment variables that are already set in the environment if you want dotenv to overwrite existing environment variables use overload instead of load php dotenv new dotenv\dotenv dir dotenv overload requiring variables to be set using dotenv you can require specific env vars to be defined env server or getenv throws an exception otherwise note it does not check for existence of a variable in a env file this is particularly useful to let people know any explicit required variables that your app will not work without you can use a single string php dotenv required database dsn or an array of strings php dotenv required db host db name db user db pass if any env vars are missing dotenv will throw a runtimeexception like this one or more environment variables failed assertions database dsn is missing empty variables beyond simply requiring a variable to be set you might also need to ensure the variable is not empty php dotenv required database dsn notempty if the environment variable is empty youd get an exception one or more environment variables failed assertions database dsn is empty integer variables you might also need to ensure that the variable is of an integer value you may do the following php dotenv required foo isinteger if the environment variable is not an integer youd get an exception one or more environment variables failed assertions foo is not an integer boolean variables you may need to ensure a variable is in the form of a boolean accepting on 1 yes off 0 and no you may do the following php dotenv required foo isboolean if the environment variable is not a boolean youd get an exception one or more environment variables failed assertions foo is not a boolean allowed values it is also possible to define a set of values that your environment variable should be this is especially useful in situations where only a handful of options or drivers are actually supported by your code php dotenv required session store allowedvalues filesystem memcached if the environment variable wasnt in this list of allowed values youd get a similar exception one or more environment variables failed assertions session store is not an allowed value comments you can comment your env file using the character e g shell this is a comment var value comment var value comment usage notes when a new developer clones your codebase they will have an additional one time step to manually copy the env example file to env and fill in their own values or get any sensitive values from a project co worker phpdotenv is made for development environments and generally should not be used in production in production the actual environment variables should be set so that there is no overhead of loading the env file on each request this can be achieved via an automated deployment process with tools like vagrant chef or puppet or can be set manually with cloud hosts like pagodabox and heroku command line scripts if you need to use environment variables that you have set in your env file in a command line script that doesnt use the dotenv library you can source it into your local shell session source env contributing fork it create your feature branch git checkout b my new feature make your changes run the tests adding new ones for your own code if necessary phpunit commit your changes git commit am added some feature push to the branch git push origin my new feature create new pull request