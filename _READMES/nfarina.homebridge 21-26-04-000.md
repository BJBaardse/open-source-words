homebridge homebridge is a lightweight nodejs server you can run on your home network that emulates the ios homekit api it supports plugins which are community contributed modules that provide a basic bridge from homekit to various 3rd party apis provided by manufacturers of smart home devices since siri supports devices added through homekit this means that with homebridge you can ask siri to control devices that dont have any support for homekit at all for instance using just some of the available plugins you can say siri unlock the back door pictured to the right siri open the garage door siri turn on the coffee maker siri turn on the living room lights siri good morning you can explore all available plugins at the npm website by searching for the keyword homebridge plugin community if youre having an issue with a particular plugin open an issue in that plugins github repository if youre having an issue with homebridge itself feel free to open issues and prs here there is a homebridge community on reddit you can also chat with us in slack installation quick overview node v4 3 2 or greater is required check by running node version the plugins you use may require newer versions on linux only install the libavahi compat libdnssd dev package sudo apt get install libavahi compat libdnssd dev install homebridge using npm install g homebridge or sudo npm install g unsafe perm homebridge see below install the plugins using npm install g plugin name create the config json file note if youre running on a raspberry pi you should have a look at the wiki installation details homebridge is published through npm and should be installed globally by typing sudo npm install g unsafe perm homebridge you may need to use the unsafe perm flag if you receive an error similar to this gyp warn eacces user root does not have permission to access the dev dir root node gyp 5 5 0 now you should be able to run homebridge homebridge no plugins found see the readme for information on installing plugins homebridge will complain if you dont have any plugins installed since it will essentially be useless although you can still pair with it see the next section installing plugins for more info once youve installed a plugin or two you can run homebridge again homebridge couldnt find a config json file snip however homebridge wont do anything until youve created a config json file containing your accessories and or platforms you can start by copying and modifying the included config sample json file which includes declarations for some example accessories and platforms each plugin will have its own expected configuration the documentation for plugins should give you some real world examples for that plugin note your config json file must be inside of homebridge which is inside of your home folder on macos and linux the full path for your config json would be homebridge config json any error messages will contain the exact path where your config is expected to be found really important you must use a plain text editor to create or modify config json do not use apps like textedit on mac or wordpad on windows apps like these will corrupt the formatting of the file in hard to debug ways making improper signs is an example i suggest using the free atom text editor once youve added your config file you should be able to run homebridge again homebridge loaded plugin homebridge lockitron registering accessory lockitron loaded config json with 1 accessories and 0 platforms loading 0 platforms loading 1 accessories back door initializing lockitron accessory homebridge is now ready to receive commands from ios installing plugins plugins are nodejs modules published through npm and tagged with the keyword homebridge plugin they must have a name with the prefix homebridge like homebridge mysmartlock plugins can publish accessories and or platforms accessories are individual devices like a smart switch or a garage door platforms act like a single device but can expose a set of devices like a house full of smart lightbulbs you install plugins the same way you installed homebridge as a global npm module for example sudo npm install g homebridge lockitron you can explore all available plugins at the npm website by searching for the keyword homebridge plugin important many of the plugins that homebridge used to include with its default installation have been moved to the single plugin homebridge legacy plugins adding homebridge to ios homekit itself is actually not an app its a database similar to healthkit and passkit where healthkit has the companion health app and passkit has passbook homekit has the home app introduced with ios 10 if you are a member of the ios developer program you might also find apples homekit catalog app to be useful as it provides straightforward and comprehensive management of all homekit database objects using the home app or most other homekit apps you should be able to add the single accessory homebridge assuming that youre still running homebridge and youre on the same wifi network adding this accessory will automatically add all accessories and platforms defined in config json when you attempt to add homebridge it will ask for a pin code the default code is 031 45 154 but this can be changed see config sample json interacting with your devices once your device has been added to homekit you should be able to tell siri to control your devices however realize that siri is a cloud service and ios may need some time to synchronize your device information with icloud one final thing to remember is that siri will almost always prefer its default phrase handling over homekit devices for instance if you name your sonos device radio and try saying siri turn on the radio then siri will probably start playing an itunes radio station on your phone even if you name it sonos and say siri turn on the sonos siri will probably just launch the sonos app instead this is why for instance the suggested name for the sonos accessory is speakers writing plugins for a great introduction to writing plugins with some example code check out frédéric barthelets excellent blog post there are also many existing plugins you can study you might start with the included example plugins right now this contains a single plugin that registers a platform that offers fake light accessories this will show you how to use the homebridge plugin api for more example on how to construct homekit services and characteristics see the many accessories in the legacy plugins repository you can also view the full list of supported homekit services and characteristics in the hap nodejs protocol repository and you can find an example plugin that publishes an individual accessory at here see more examples on how to create platform classes in the legacy plugins repository plugin development when writing your plugin youll want homebridge to load it from your development directory instead of publishing it to npm each time you can tell homebridge to look for your plugin at a specific location using the command line parameter p for example if you are in the homebridge directory as checked out from github you might type sh debug bin homebridge d p my great plugin this will start up homebridge and load your in development plugin from a nearby directory note that you can also direct homebridge to load your configuration from somewhere besides the default homebridge for example sh debug bin homebridge d u homebridge dev p my great plugin this is very useful when you are already using your development machine to host a real homebridge instance with all your accessories that you dont want to disturb common issues my ios app cant find homebridge two reasons why homebridge may not be discoverable homebridge server thinks its been paired with but ios thinks otherwise fix deleted persist directory which is next to your config json ios device has gotten your homebridge username looks like a mac address stuck somehow where its in the database but inactive fix change your username in the bridge section of config json to be some new value errors on startup the following errors are experienced when starting homebridge and can be safely ignored the cost of removing the issue at the core of the errors isnt worth the effort warning the program nodejs uses the apple bonjour compatibility layer of avahi warning please fix your application to use the native api of avahi warning for more information see http 0pointerde avahi compat s libdns sd e nodejs warning the program nodejs called dnsserviceregister which is not supported or only supported partially in the apple bonjour compatibility layer of avahi warning please fix your application to use the native api of avahi warning for more information see http 0pointerde avahi compat s libdns sd e nodejs f dnsserviceregister limitations one installation of homebridge can only expose 100 accessories due to a homekit limit you can however run multiple homebridge instances by pointing them to different config and persistence paths see issue 827 once an accessory has been added to the home app changing its name via homebridge wont be automatically reflected in ios you must change it via the home app as well why homebridge technically the device manufacturers should be the ones implementing the homekit api and im sure they will eventually when they do this project will be obsolete and i hope that happens soon in the meantime homebridge is a fun way to get a taste of the future for those who just cant bear to wait until real homekit devices are on the market credit the original homekit api work was done by khaost in his hap nodejs project