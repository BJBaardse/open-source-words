realm is a mobile database that runs directly inside phones tablets or wearables this repository holds the source code for the java version of realm which currently runs only on android features mobile first realm is the first database built from the ground up to run directly inside phones tablets and wearables simple data is directly exposed as objects and queryable by code removing the need for orms riddled with performance maintenance issues plus weve worked hard to keep our api down to very few classes most of our users pick it up intuitively getting simple apps up running in minutes modern realm supports easy thread safety relationships encryption fast realm is faster than even raw sqlite on common operations while maintaining an extremely rich feature set getting started please see the detailed instructions in our docs to add realm to your project documentation documentation for realm can be found at realm io docs java the api reference is located at realm io docs java api getting help need help with your code look for previous questions on the realm tag â€” or ask a new question we actively monitor answer questions on stackoverflow have a bug to report open an issue if possible include the version of realm a full log the realm file and a project that shows the issue have a feature request open an issue tell us what the feature should do and why you want the feature sign up for our community newsletter to get regular tips learn about other use cases and get alerted of blogposts and tutorials about realm using snapshots if you want to test recent bugfixes or features that have not been packaged in an official release yet you can use a snapshot release of the current development version of realm via gradle available on jfrog oss buildscript repositories jcenter google maven url http oss jfrog org artifactory oss snapshot local dependencies classpath io realm realm gradle plugin snapshot allprojects repositories jcenter google maven url http oss jfrog org artifactory oss snapshot local see version txt for the latest version number building realm in case you dont want to use the precompiled version you can build realm yourself from source prerequisites download the jdk 8 from oracle and install it download install the android sdk build tools 27 0 2 android oreo api 27 for example through android studios android sdk manager install cmake from sdk manager in android studio sdk tools cmake if you use android studio android studio 3 0 or higher is required realm currently requires version r10e of the ndk download the one appropriate for your development platform from the ndk archive you may unzip the file wherever you choose for macos a suggested location is library android the download will unzip as the directory android ndk r10e if you will be building with android studio you will need to tell it to use the correct ndk to do this define the variable ndk dir in realm local properties and assign it the full pathname of the directory that you unzipped above note that there is a local properites in the root directory that is not the one that needs to be edited ndk dir users brian library android android ndk r10e r10e add two environment variables to your profile presuming you installed the ndk in library android ndk r10e export android home library android sdk export android ndk home library android android ndk r10e if you are launching android studio from the macos finder you should also run the following two commands launchctl setenv android home android home launchctl setenv android ndk home android ndk home if youd like to specify the location in which to store the archives of realm core define the realm core download dir environment variable it enables you to keep cores archive when executing git clean xfd export realm core download dir realmcore macos users must also run the following command for android studio to see this environment variable launchctl setenv realm core download dir realm core download dir it would be a good idea to add all of the symbol definitions and their accompanying launchctl commands if you are using macos to your profile or zprofile if the login shell is zsh if you develop realm java with android studio we recommend you to exclude some directories from indexing target by executing following steps on android studio it really speeds up indexing phase after the build under realm realm library select build externalnativebuild and distribution folders in project view press command shift a to open find action dialog if you are not using default keymap nor using macos you can find your shortcut key in keymap preference by searching find action search excluded not exclude action and select it selected folder icons should become orange in default theme restart android studio download sources you can download the source code of realm java by using git since realm java has git submodules use recursive when cloning the repository git clone git github com realm realm java git recursive or git clone https github com realm realm java git recursive build once you have completed all the pre requisites building realm is done with a simple command gradlew assemble that command will generate a jar file for the realm gradle plugin an aar file for the realm library a jar file for the annotations a jar file for the annotations processor the full build may take an hour or more to complete other commands gradlew tasks will show all the available tasks gradlew javadoc will generate the javadocs gradlew monkeyexamples will run the monkey tests on all the examples gradlew installrealmjava will install the realm library and plugin to mavenlocal gradlew clean pdontcleanjnifiles will remove all generated files except for jni related files this reduces recompilation time a lot gradlew connectedunittests pbuildtargetabis adb shell getprop ro product cpu abi will build jni files only for the abi which corresponds to the connected device these tests require a running object server see below generating the javadoc using the command above may generate warnings the javadoc is generated despite the warnings upgrading gradle wrappers all gradle projects in this repository have wrapper task to generate gradle wrappers those tasks refer to gradleversion property defined in realm properties to determine gradle version of generating wrappers we have a script tools update gradle wrapper sh to automate these steps when you update gradle wrappers please obey the following steps edit gradleversion property in defined in realm properties to new gradle wrapper version execute tools update gradle wrapper sh gotchas the repository is organized into six gradle projects realm it contains the actual library including the jni layer and the annotations processor realm annotations it contains the annotations defined by realm realm transformer it contains the bytecode transformer gradle plugin it contains the gradle plugin examples it contains the example projects this project directly depends on gradle plugin which adds a dependency to the artifacts produced by realm the root folder is another gradle project all it does is orchestrate the other jobs this means that gradlew clean and gradlew cleanexamples will fail if assembleexamples has not been executed first note that intellij does not support multiple projects in the same window so each of the six gradle projects must be imported as a separate intellij project since the repository contains several completely independent gradle projects several independent builds are run to assemble it seeing a line like realm realm library compilebasedebugandroidtestsources up to date in the build log does not imply that you can run gradlew realm realm library compilebasedebugandroidtestsources examples the examples folder contains many example projects showing how realm can be used if this is the first time you checkout or pull a new version of this repository to try the examples you must call gradlew installrealmjava from the top level directory first otherwise the examples will not compile as they depend on all realm artifacts being installed in mavenlocal standalone examples can be downloaded from website running tests on a device to run these tests you must have a device connected to the build computer and the adb command must be in your path connect an android device and verify that the command adb devices shows a connected device sh adb devices list of devices attached 004c03eb5615429f device run instrumentation tests sh cd realm gradlew connectedbasedebugandroidtest these tests may take as much as half an hour to complete running tests using the realm object server tests in realm realm library src syncintegrationtest require a running testing server to work a docker image can be built from tools sync test server dockerfile to run the test server tools sync test server start server sh will build the docker image automatically to run a testing server locally install docker run tools sync test server start server sh sh cd tools sync test server start server sh this command will not complete until the server has stopped run instrumentation tests in a new terminal window run sh cd realm gradlew connectedobjectserverdebugandroidtest note that if using virtualbox genymotion the network needs to be bridged for the tests to work this is done in virtualbox network set adapter 2 to bridged adapter these tests may take as much as half an hour to complete contributing see contributing md for more details this project adheres to the contributor covenant code of conduct by participating you are expected to uphold this code please report unacceptable behavior to info realm io the directory realm config studio contains lint and style files recommended for project code import them from android studio with android studio preferences code style manage import or android studio preferences inspections manage import once imported select the style lint in the drop down to the left of the manage button license realm java is published under the apache 2 0 license realm core is also published under the apache 2 0 license and is available here this product is not being made available to any person located in cuba iran north korea sudan syria or the crimea region or to any other person that is not eligible to receive the product under u s law feedback if you use realm and are happy with it all we ask is that you please consider sending out a tweet mentioning realm to share your thoughts and if you dont like it please let us know what you would like improved so we can fix it