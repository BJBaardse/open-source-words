muuri muuri is a magical javascript layout engine that allows you to build all kinds of layouts and make them responsive sortable filterable draggable and or animated comparing to whats out there muuri is a combination of packery masonry isotope and sortable wanna see it in action check out the demo on the website muuris default first fit bin packing layout algorithm generates layouts similar to packery and masonry the implementation is heavily based on the maxrects approach as described by jukka jylänki in his research a thousand ways to pack the bin if thats not your cup of tea you can always provide your own layout algorithm to position the items as you wish muuri uses web animations to power its internal animation engine and hammer js to handle dragging and if youre wondering about the name of the library muuri is finnish meaning a wall features fully customizable layout drag drop even between grids nested grids fast animations filtering sorting table of contents getting started api grid constructor grid options grid methods grid events item methods credits license getting started 1 get muuri download from github muuri js for development not minified with comments muuri min js for production minified no comments or link directly via cdnjs html script src https cdnjs cloudflare com ajax libs muuri 0 5 4 muuri js script script src https cdnjs cloudflare com ajax libs muuri 0 5 4 muuri min js script or install with npm bash npm install muuri or install with bower bash bower install muuri 2 get the dependencies muuri uses web animations to handle all the animations by default if you need to use muuri on a browser that does not support web animations yet you need to use a polyfill if youre feeling lucky you might be interested to know that it is possible to replace muuris default animation engine with your own implementation by overwriting the muuri itemanimate constructor muuri uses hammer js v2 0 0 to handle all the drag events it is an optional dependency and only required if the dragging is enabled currently there is no easy way to use another library for handling the drag interaction almost all of the drag related logic exists within muuri itemdrag constructor which is instantiated for each item so if you really need to customize the drag behaviour beyond what is available via the options you can replace the muuri itemdrag constructor with your own implementation fingers crossed 3 add the script tags add muuri on your site and make sure to include the dependencies before muuri html script src web animations min js script script src hammer min js script script src muuri min js script 4 add the markup every grid must have a container element grid items must always consist of at least two elements the outer element is used for positioning the item and the inner element first direct child is used for animating the items visibility show hide methods you can insert any markup you wish inside the inner item element html safe zone enter your custom markup this can be anything safe zone ends safe zone enter your custom markup yippee safe zone ends 5 add the styles the container element must be positioned meaning that its css position property must be set to relative absolute or fixed also note that muuri automatically resizes the container elements width height depending on the area the items cover and the layout algorithm configuration the item elements must have their css position set to absolute and their display property set to block muuri actually enforces the display block rule and adds it as an inline style to all item elements just in case the item elements must not have any css transitions or animations applied to them because they might conflict with muuris internal animation engine however the container element can have transitions applied to it if you want it to animate when its size changes after the layout operation you can control the gaps between the items by giving some margin to the item elements one last thing never ever set overflow auto or overflow scroll to the container element muuris calculation logic does not account for that and you will see some item jumps when dragging starts always use a wrapper element for the container where you set the auto scroll overflow values css grid position relative item display block position absolute width 100px height 100px margin 5px z index 1 background 000 color fff item muuri item dragging z index 3 item muuri item releasing z index 2 item muuri item hidden z index 0 item content position relative width 100 height 100 6 fire it up the bare minimum configuration is demonstrated below you must always provide the container element or a selector so muuri can fetch the element for you everything else is optional javascript var grid new muuri grid you can view this little tutorial demo here after that you might want to check some other demos as well api grid constructor muuri is a constructor function and should be always instantiated with the new keyword for the sake of clarity we refer to a muuri instance as grid throughout the documentation syntax muuri element options parameters element — element string default value null you can provide the element directly or use a selector string which uses queryselector internally options — object optional check out the detailed options reference default options the default options are stored in muuri defaultoptions object which in its default state contains the following configuration javascript item elements items default show animation showduration 300 showeasing ease default hide animation hideduration 300 hideeasing ease items visible hidden state styles visiblestyles opacity 1 transform scale 1 hiddenstyles opacity 0 transform scale 0 5 layout layout fillgaps false horizontal false alignright false alignbottom false rounding true layoutonresize 100 layoutoninit true layoutduration 300 layouteasing ease sorting sortdata null drag drop dragenabled false dragcontainer null dragstartpredicate distance 0 delay 0 handle false dragaxis null dragsort true dragsortinterval 100 dragsortpredicate threshold 50 action move dragreleaseduration 300 dragreleaseeasing ease draghammersettings touchaction none classnames containerclass muuri itemclass muuri item itemvisibleclass muuri item shown itemhiddenclass muuri item hidden itempositioningclass muuri item positioning itemdraggingclass muuri item dragging itemreleasingclass muuri item releasing you can modify the default options easily javascript muuri defaultoptions showduration 400 muuri defaultoptions dragsortpredicate action swap this is how you would use the options javascript minimum configuration var grida new muuri grid a providing some options var gridb new muuri grid b items item grid options items showduration showeasing hideduration hideeasing visiblestyles hiddenstyles layout layoutonresize layoutoninit layoutduration layouteasing sortdata dragenabled dragcontainer dragstartpredicate dragaxis dragsort dragsortinterval dragsortpredicate dragreleaseduration dragreleaseeasing containerclass itemclass itemvisibleclass itemhiddenclass itempositioningclass itemdraggingclass itemreleasingclass items the initial item elements which should be children of the container element all elements that are not children of the container will be appended to the container you can provide an array of elements a node list or a selector string if you provide a selector muuri uses it to filter the current child elements of the container element and sets them as initial items by default all current child elements of the provided container element are used as initial items default value accepted types array of elements node list string null javascript use specific items var grid new muuri elem items elema elemb elemc use node list var grid new muuri elem items elem queryselectorall item use selector var grid new muuri elem items item showduration show animation duration in milliseconds set to 0 to disable show animation default value 300 accepted types number javascript var grid new muuri elem showduration 600 showeasing show animation easing accepts any valid animation easing value default value ease accepted types string javascript var grid new muuri elem showeasing cubic bezier 0 215 0 61 0 355 1 hideduration hide animation duration in milliseconds set to 0 to disable hide animation default value 300 accepted types number javascript var grid new muuri elem hideduration 600 hideeasing hide animation easing accepts any valid animation easing value default value ease accepted types string javascript var grid new muuri elem hideeasing cubic bezier 0 215 0 61 0 355 1 visiblestyles the styles that will be applied to all visible items these styles are also used for the show hide animations which means that you have to have the same style properties in visiblestyles and hiddenstyles options be sure to define all style properties camel cased default value opacity 1 transform scale 1 accepted types object javascript var grid new muuri elem visiblestyles opacity 1 transform rotate 45deg hiddenstyles opacity 0 transform rotate 45deg hiddenstyles the styles that will be applied to all hidden items these styles are also used for the show hide animations which means that you have to have the same style properties in visiblestyles and hiddenstyles options be sure to define all style properties camel cased default value opacity 0 transform scale 0 5 accepted types object javascript var grid new muuri elem visiblestyles opacity 1 transform rotate 45deg hiddenstyles opacity 0 transform rotate 45deg layout define how the items will be laid out although its not documented well at all in this section you can provide a function here also if you want to provide your own layout algorithm may the source be with you default value fillgaps false horizontal false alignright false alignbottom false accepted types function object provide an object to configure the default layout algorithm with the following properties fillgaps — boolean default value false when true the algorithm goes through every item in order and places each item to the first available free slot even if the slot happens to be visually before the previous elements slot practically this means that the items might not end up visually in order but there will be less gaps in the grid by default this option is false which basically means that the following condition will be always true when calculating the layout assuming alignright and alignbottom are false nextitem top previtem top nextitem top previtem top nextitem left previtem left this also means that the items will be visually in order horizontal — boolean default value false when true the grid works in landscape mode grid expands to the right use for horizontally scrolling sites when false the grid works in portrait mode and expands downwards alignright — boolean default value false when true the items are aligned from right to left alignbottom — boolean default value false when true the items are aligned from the bottom up rounding — boolean default value true when true the dimensions of the items will be automatically rounded for the layout calculations using math round set to false to use accurate dimensions in practice you would want disable this if you are using relative dimension values for items em rem etc if you have defined item dimensions with pixel values px it is recommended that you leave this on javascript var grid new muuri elem layout fillgaps true horizontal true alignright true alignbottom true rounding false layoutonresize should muuri automatically trigger layout method on window resize set to false to disable when a number or true is provided muuri will automatically lay out the items every time window is resized the provided number true is transformed to 0 equals to the amount of time in milliseconds that is waited before items are laid out after each window resize event default value 100 accepted types boolean number javascript no layout on resize var grid new muuri elem layoutonresize false javascript layout on resize instantly var grid new muuri elem layoutonresize true javascript layout on resize with 200ms debounce var grid new muuri elem layoutonresize 200 layoutoninit should muuri trigger layout method automatically on init default value true accepted types boolean javascript var grid new muuri elem layoutoninit false layoutduration the duration for items layout animation in milliseconds set to 0 to disable default value 300 accepted types number javascript var grid new muuri elem layoutduration 600 layouteasing the easing for items layout animation accepts any valid animation easing value default value ease accepted types string javascript var grid new muuri elem layouteasing cubic bezier 0 215 0 61 0 355 1 sortdata the sort data getter functions provide an object where the key is the name of the sortable attribute and the function returns a value from the item by which the items can be sorted default value null accepted types object null javascript var grid new muuri elem sortdata foo function item element return parsefloat element getattribute data foo bar function item element return element getattribute data bar touppercase refresh sort data whenever an items data foo or data bar changes grid refreshsortdata sort the grid by foo and bar grid sort foo bar dragenabled should items be draggable default value false accepted types boolean javascript var grid new muuri elem dragenabled true dragcontainer the element the dragged item should be appended to for the duration of the drag if set to null which is also the default value the grids container element will be used default value null accepted types element null javascript var grid new muuri elem dragcontainer document body dragstartpredicate a function that determines when the item should start to move when the item is being dragged by default uses the built in predicate which has some configurable options default value distance 0 delay 0 handle false accepted types function object if an object is provided the default sort predicate handler will be used you can define the following properties distance — number default value 0 how many pixels must be dragged before the dragging starts delay — number default value 0 how long in milliseconds the user must drag before the dragging starts handle — string boolean default value false the selector s which much match the event target element for the dragging to start if you provide a function you can totally customize the drag start logic when the user starts to drag an item this predicate function will be called until you return true or false if you return true the item will begin to move whenever the item is dragged if you return false the item will not be moved at all note that after you have returned true or false this function will not be called until the item is released and dragged again the predicate function receives two arguments item — muuri item the item thats being dragged event — object the drag event hammer js event javascript configure the default preficate var grid new muuri elem dragstartpredicate distance 10 delay 100 handle foo bar javascript provide your own predicate var grid new muuri elem dragstartpredicate function item e start moving the item after the item has been dragged for one second if e deltatime 1000 return true dragaxis force items to be moved only vertically or horizontally when dragged set to x for horizontal movement and to y for vertical movement by default items can be dragged both vertically and horizontally default value null accepted types string allowed values x y javascript move items only horizontally when dragged var grid new muuri elem dragaxis x javascript move items only vertically when dragged var grid new muuri elem dragaxis y dragsort should the items be sorted during drag a simple boolean will do just fine here alternatively you can do some advanced stuff and control within which grids a specific item can be sorted and dragged into to do that you need to provide a function which receives the dragged item as its first argument and should return an array of grid instances an important thing to note here is that you need to return all the grid instances you want the dragged item to sort within even the current grid instance if you return an empty array the dragged item will not cause sorting at all default value true accepted types boolean function javascript disable drag sorting var grid new muuri elem dragsort false javascript multigrid drag sorting var grida new muuri elema dragsort getallgrids var gridb new muuri elemb dragsort getallgrids var gridc new muuri elemc dragsort getallgrids function getallgrids item return grida gridb gridc dragsortinterval defines the amount of time the dragged item must be still before dragsortpredicate function is called the default dragsortpredicate is pretty heavy function which means that you might see some janky animations and or an unresponsive ui if you set this value too low 0 is not recommended default value 100 accepted types number javascript sort on every drag move var grid new muuri elem dragsortinterval 0 javascript sort with a decent buffer var grid new muuri elem dragsortinterval 150 dragsortpredicate defines the logic for the sort procedure during dragging an item default value action move threshold 50 accepted types function object if an object is provided the default sort predicate handler will be used you can define the following properties action — string default value move allowed values move swap should the dragged item be moved to the new position or should it swap places with the item it overlaps threshold — number default value 50 allowed values 1 100 how many percent the intersection area between the dragged item and the compared item should be from the maximum potential intersection area between the items before sorting is triggered alternatively you can provide your own callback function where you can define your own custom sort logic the callback function receives two arguments item — muuri item the item thats being dragged event — object the drag event hammer js event the callback should return a falsy value if sorting should not occur if however sorting should occur the callback should return an object containing the following properties index — number the index where the item should be moved to grid — muuri the grid where the item should be moved to defaults to the items current grid optional action — string the movement method default value move allowed values move or swap optional javascript customize the default predicate var grid new muuri elem dragsortpredicate threshold 90 action swap javascript provide your own predicate var grid new muuri elem dragsortpredicate function item e if e deltatime 1000 return index math round e deltatime 1000 2 0 1 0 action swap dragreleaseduration the duration for items drag release animation set to 0 to disable default value 300 accepted types number javascript var grid new muuri elem dragreleaseduration 600 dragreleaseeasing the easing for items drag release animation accepts any valid animation easing value default value ease accepted types string javascript var grid new muuri elem dragreleaseeasing ease out containerclass container elements classname default value muuri accepted types string javascript var grid new muuri elem containerclass foo itemclass item elements classname default value muuri item accepted types string javascript var grid new muuri elem itemclass foo item itemvisibleclass visible items classname default value muuri item shown accepted types string javascript var grid new muuri elem itemvisibleclass foo item shown itemhiddenclass hidden items classname default value muuri item hidden accepted types string javascript var grid new muuri elem itemhiddenclass foo item hidden itempositioningclass this classname will be added to the item element for the duration of positioning default value muuri item positioning accepted types string javascript var grid new muuri elem itempositioningclass foo item positioning itemdraggingclass this classname will be added to the item element for the duration of drag default value muuri item dragging accepted types string javascript var grid new muuri elem itemdraggingclass foo item dragging itemreleasingclass this classname will be added to the item element for the duration of release default value muuri item releasing accepted types string javascript var grid new muuri elem itemreleasingclass foo item releasing grid methods grid getelement grid getitems targets state gridgetitems targets state grid refreshitems items grid refreshsortdata items grid synchronize grid layout instant callback gridlayout instant callback grid add elements options grid remove items options grid show items options grid hide items options grid filter predicate options grid sort comparer options grid move item position options grid send item grid position options grid on event listener grid once event listener grid off event listener grid destroy removeelements grid getelement get the instance element returns — element javascript var elem grid getelement grid getitems targets state get all items in the grid optionally you can provide specific targets indices or elements and filter the results by the items state parameters targets — array element muuri item number an array of item instances elements indices optional state — string accepted values active inactive visible hidden showing hiding positioning dragging releasing migrating default value undefined optional returns — array returns the queried items javascript get all items both active and inactive var allitems grid getitems get all active visible items var activeitems grid getitems active get all inactive hidden items var inactiveitems grid getitems inactive get the first item active or inactive var firstitem grid getitems 0 0 get specific items by their elements inactive or active var items grid getitems elema elemb get specific inactive items var items grid getitems elema elemb inactive grid refreshitems items refresh the cached dimensions of the grids items when called without any arguments all active items are refreshed optionally you can provide specific the items which you want to refresh as the first argument parameters items — array element muuri item number string to target specific items provide an array of item instances elements indices by default all active items are targeted optional javascript refresh dimensions of all active item elements grid refreshitems refresh dimensions of specific item elements grid refreshitems 0 someelem someitem grid refreshsortdata items refresh the sort data of the instances items parameters items — array element muuri item number to target specific items provide an array of item instances elements indices by default all items are targeted optional javascript refresh the sort data for every item grid refreshsortdata refresh the sort data for specific items grid refreshsortdata 0 someelem someitem grid synchronize synchronize the item elements to match the order of the items in the dom this comes handy if you need to keep the dom structure matched with the order of the items note that if an items element is not currently a child of the container element if it is dragged for example it is ignored and left untouched javascript lets say we have to move the first item in the grid as the last grid move 0 1 now the dom order of the items is not in sync anymore with the order of the items we can sync the dom with synchronize method grid synchronize grid layout instant callback calculate item positions and move items to their calculated positions unless they are already positioned correctly the grids height width depends on the layout algorithm is also adjusted according to the position of the items parameters instant — boolean should the items be positioned instantly without any possible animation default value false optional callback — function a callback function that is called after the items have positioned receives one argument an array of all the items that were successfully positioned without interruptions optional javascript layout items grid layout layout items instantly without animations grid layout true layout all items and define a callback that will be called after all items have been animated to their positions grid layout function items console log layout done grid add elements options add new items by providing the elements you wish to add to the instance and optionally provide the index where you want the items to be inserted into all elements that are not already children of the container element will be automatically appended to the container element if an element has its css display property set to none it will be marked as inactive during the initiation process as long as the item is inactive it will not be part of the layout but it will retain its index you can activate items at any point with grid show method this method will automatically call grid layout if one or more of the added elements are visible if only hidden items are added no layout will be called all the new visible items are positioned without animation during their first layout parameters elements — array element an array of dom elements options index — number the index where you want the items to be inserted in a value of 1 will insert the items to the end of the list while 0 will insert the items to the beginning note that the dom elements are always just appended to the instance container regardless of the index value you can use the grid synchronize method to arrange the dom elments to the same order as the items default value 1 optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional returns — array returns the added items javascript add two new items to the end grid add elema elemb add two new items to the beginning grid add elema elemb index 0 skip the automatic layout grid add elema elemb layout false grid remove items options remove items from the instance parameters items — array element muuri item number an array of item instances elements indices options removeelements — boolean should the associated dom element be removed from the dom default value false optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional returns — array returns the destroyed items javascript remove the first item but keep the element in the dom grid remove 0 remove items and the associated elements grid remove elema elemb removeelements true skip the layout grid remove elema elemb layout false grid show items options show the targeted items parameters items — array element muuri item number an array of item instances elements indices options instant — boolean should the items be shown instantly without any possible animation default value false optional options onfinish — function a callback function that is called after the items are shown optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript show items with animation if any grid show elema elemb show items instantly without animations grid show elema elemb instant true show items with callback and with animations if any grid show elema elemb onfinish function items console log items shown grid hide items options hide the targeted items parameters items — array element muuri item number an array of item instances elements indices options instant — boolean should the items be hidden instantly without any possible animation default value false optional options onfinish — function a callback function that is called after the items are hidden optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript hide items with animation grid hide elema elemb hide items instantly without animations grid hide elema elemb instant true hide items and call the callback function after all items are hidden grid hide elema elemb onfinish function items console log items hidden grid filter predicate options filter items expects at least one argument a predicate which should be either a function or a string the predicate callback is executed for every item in the instance if the return value of the predicate is truthy the item in question will be shown and otherwise hidden the predicate callback receives the item instance as its argument if the predicate is a string it is considered to be a selector and it is checked against every item element in the instance with the native element matches method all the matching items will be shown and others hidden parameters predicate — function string a predicate callback or a selector options instant — boolean should the items be shown hidden instantly without any possible animation default value false optional options onfinish — function an optional callback function that is called after all the items are shown hidden optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript show all items that have the attribute data foo grid filter function item return item getelement hasattribute data foo or simply just grid filter data foo show all items that have a class foo grid filter foo grid sort comparer options sort items there are three ways to sort the items the first is simply by providing a function as the comparer which works almost identically to native array sort the only difference is that the sort is always stable alternatively you can sort by the sort data you have provided in the instances options just provide the sort data key s as a string separated by space and the items will be sorted based on the provided sort data keys lastly you have the opportunity to provide a presorted array of items which will be used to sync the internal items array in the same order parameters comparer — array function string provide a comparer function sort data keys as a string separated with space or a presorted array of items it is recommended to use the sort data feature because it allows you to cache the sort data and make the sorting faster options descending — boolean by default the items are sorted in ascending order if you want to sort them in descending order set this to true default value false optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript sort items by data id attribute value ascending grid sort function itema itemb var aid parseint itema getelement getattribute data id var bid parseint itemb getelement getattribute data id return aid bid sort items with a presorted array of items grid sort presorteditems sort items using the sort data keys ascending grid sort foo bar sort items using the sort data keys descending grid sort foo bar descending true sort items using the sort data keys sort some keys ascending and some keys descending grid sort foo bar desc grid move item position options move an item to another position in the grid parameters item — element muuri item number item instance element or index position — element muuri item number item instance element or index options action — string accepts the following values move moves item in place of another item swap swaps position of items default value move optional options layout — boolean function string by default grid layout is called at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript move elema to the index of elemb grid move elema elemb move the first item in the grid as the last grid move 0 1 swap positions of elema and elemb grid move elema elemb action swap swap positions of the first and the last item grid move 0 1 action swap grid send item grid position options move an item into another grid parameters item — element muuri item number the item that should be moved you can define the item with an item instance element or index grid — muuri the grid where the item should be moved to position — element muuri item number to which position should the item be placed to in the new grid you can define the position with an item instance element or index options appendto — element which element the item element should be appended to for the duration of the layout animation default value document body options layoutsender — boolean function string by default grid layout is called for the sending grid at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional options layoutreceiver — boolean function string by default grid layout is called for the receiving grid at the end of this method with this argument you can control the layout call you can disable the layout completely with false or provide a callback function for the layout method or provide the string instant to make the layout happen instantly without any animations default value true optional javascript move the first item of grida as the last item of gridb grida send 0 gridb 1 move the first item of grida as the last item of gridb grida send 0 gridb 1 appendto someelem do something after the item has been sent and the layout processes have finished grida send 0 gridb 1 layoutsender function isaborted items do your thing here layoutreceiver function isaborted items do your other thing here grid on event listener bind an event listener parameters event — string listener — function returns — object returns the instance javascript grid on layoutend function items console log items grid once event listener bind an event listener that is triggered only once parameters event — string listener — function returns — object returns the instance javascript grid once layoutend function items console log items grid off event listener unbind an event listener parameters event — string listener — function returns — object returns the instance javascript var listener function items console log items muuri on layoutend listener off layoutend listener grid destroy removeelements destroy the grid instance parameters removeelements — boolean should the item elements be removed or not default value false optional returns — object returns the instance javascript destroy the instance grid destroy destroy the instance and remove item elements grid destroy true grid events synchronize layoutstart layoutend add remove showstart showend hidestart hideend filter sort move send beforesend receive beforereceive draginit dragstart dragmove dragscroll dragend dragreleasestart dragreleaseend destroy synchronize triggered after grid synchronize is called javascript grid on synchronize function console log synced layoutstart triggered after grid layout is called just before the items are positioned arguments items — array the items that are about to be positioned javascript grid on layoutstart function items console log items layoutend triggered after grid layout is called after the items have positioned note that if grid layout is called during an ongoing layout animation the ongoing layout process will be aborted and its layoutend event will never be triggered arguments items — array the items that were intended to be positioned note that these items are always identical to what the layoutstart events callback receives as its argument so if for example you destroy an item during the layout animation and dont do call another layout the destroyed item will still be included in this array of items the original intention was to filter these items so that all items that were interrupted somehow during the layout process would be omitted from the results but that solution was much more prone to errors and much more harder to explain understand javascript grid on layoutend function items console log items add triggered after grid add is called arguments items — array the items that were succesfully added javascript grid on add function items console log items remove triggered after grid remove is called arguments items — array the items that were succesfully removed indices — array indices of the items that were succesfully removed javascript grid on remove function items indices console log items indices showstart triggered after grid show is called just before the items are shown arguments items — array the items that are about to be shown javascript grid on showstart function items console log items showend triggered after grid show is called after the items are shown arguments items — array the items that were succesfully shown without interruptions if you for example call grid hide to some of the items that are currently being shown those items will be omitted from this argument javascript grid on showend function items console log items hidestart triggered after grid hide is called just before the items are hidden arguments items — array the items that are about to be hidden javascript grid on hidestart function items console log items hideend triggered after grid hide is called after the items are hidden arguments items — array the items that were succesfully hidden without interruptions if you for example call grid show to some of the items that are currently being hidden those items will be omitted from this argument javascript grid on hideend function items console log items filter triggered after grid filter is called arguments shownitems — array the items that are shown hiddenitems — array the items that are hidden javascript grid on filter function shownitems hiddenitems console log shownitems console log hiddenitems sort triggered after grid sort is called arguments currentorder — array all items in their current order previousorder — array all items in their previous order javascript grid on sort function currentorder previousorder console log currentorder console log previousorder move triggered after grid move is called or when the grid is sorted during drag note that this is event not triggered when an item is dragged into another grid arguments data — object data item — muuri item the item that was moved data fromindex — number the index the item was moved from data toindex — number the index the item was moved to data action — string move or swap javascript grid on move function data console log data send triggered for the originating grid in the end of the send process after grid send is called or when an item is dragged into another grid note that this event is called before the items layout starts arguments data — object data item — muuri item the item that was sent data fromgrid — muuri the grid the item was sent from data fromindex — number the index the item was moved from data togrid — muuri the grid the item was sent to data toindex — number the index the item was moved to javascript grid on send function data console log data beforesend triggered for the originating grid in the beginning of the send process after grid send is called or when an item is dragged into another grid this event is highly useful in situations where you need to manipulate the sent item freeze its dimensions for example before it is appended to its temporary layout container as defined in send method options arguments data — object data item — muuri item the item that was sent data fromgrid — muuri the grid the item was sent from data fromindex — number the index the item was moved from data togrid — muuri the grid the item was sent to data toindex — number the index the item was moved to javascript grid on beforesend function data console log data receive triggered for the receiving grid in the end of the send process after grid send is called or when an item is dragged into another grid note that this event is called before the items layout starts arguments data — object data item — muuri item the item that was sent data fromgrid — muuri the grid the item was sent from data fromindex — number the index the item was moved from data togrid — muuri the grid the item was sent to data toindex — number the index the item was moved to javascript grid on receive function data console log data beforereceive triggered for the receiving grid in the beginning of the send process after grid send is called or when an item is dragged into another grid this event is highly useful in situations where you need to manipulate the received item freeze its dimensions for example before it is appended to its temporary layout container as defined in send method options arguments data — object data item — muuri item the item that was sent data fromgrid — muuri the grid the item was sent from data fromindex — number the index the item was moved from data togrid — muuri the grid the item was sent to data toindex — number the index the item was moved to javascript grid on beforereceive function data console log data draginit triggered in the beginning of the drag start process when dragging of an item begins this event is highly useful in situations where you need to manipulate the dragged item freeze its dimensions for example before it is appended to the dragcontainer arguments item — muuri item the dragged item event — object hammer js event data javascript grid on draginit function item event console log event console log item dragstart triggered in the end of the drag start process when dragging of an item begins arguments item — muuri item the dragged item event — object hammer js event data javascript grid on dragstart function item event console log event console log item dragmove triggered when an item is dragged after the drag start process arguments item — muuri item the dragged item event — object hammer js event data javascript grid on dragmove function item event console log event console log item dragscroll triggered when any of the scroll parents of a dragged item is scrolled arguments item — muuri item the dragged item event — object the scroll event data javascript grid on dragscroll function item event console log event console log item dragend triggered when dragging of an item ends arguments item — muuri item the dragged item event — object hammer js event data javascript grid on dragend function item event console log event console log item dragreleasestart triggered when a dragged item is released arguments item — muuri item the released item javascript grid on dragreleasestart function item console log item dragreleaseend triggered after released item has been animated to position arguments item — muuri item the released item javascript grid on dragreleaseend function item console log item destroy triggered after grid destroy is called javascript grid on destroy function console log muuri is no more item methods item getgrid item getelement item getwidth item getheight item getmargin item getposition item isactive item isvisible item isshowing item ishiding item ispositioning item isdragging item isreleasing item isdestroyed item getgrid get the instances grid instance returns — muuri javascript var grid item getgrid item getelement get the instance element returns — element javascript var elem item getelement item getwidth get instance elements cached width the returned value includes the elements paddings and borders returns — number javascript var width item getwidth item getheight get instance elements cached height the returned value includes the elements paddings and borders returns — number javascript var height item getheight item getmargin get instance elements cached margins returns — object obj left — number obj right — number obj top — number obj bottom — number javascript var margin item getmargin item getposition get instance elements cached position relative to the container element returns — object obj left — number obj top — number javascript var position item getposition item isactive check if the item is currently active only active items are considered to be part of the layout returns — boolean javascript var isactive item isactive item isvisible check if the item is currently visible returns — boolean javascript var isvisible item isvisible item isshowing check if the item is currently animating to visible returns — boolean javascript var isshowing item isshowing item ishiding check if the item is currently animating to hidden returns — boolean javascript var ishiding item ishiding item ispositioning check if the item is currently being positioned returns — boolean javascript var ispositioning item ispositioning item isdragging check if the item is currently being dragged returns — boolean javascript var isdragging item isdragging item isreleasing check if the item is currently being released returns — boolean javascript var isreleasing item isreleasing item isdestroyed check if the item is destroyed returns — boolean javascript var isdestroyed item isdestroyed credits created and maintained by niklas rämö this project owes much to david desandros masonry packery and isotope libraries you should go ahead and check them out right now if you havent yet thanks dave jukka jylänkis research a thousand ways to pack the bin came in handy when building muuris layout algorithms thanks jukka big thanks to the people behind web animations polyfill and hammer js for providing such awesome libraries muuri would be much less cool without animations and dragging haltu oy was responsible for initiating this project in the first place and funded the intial development thanks haltu license copyright © 2015 haltu oy licensed under the mit license