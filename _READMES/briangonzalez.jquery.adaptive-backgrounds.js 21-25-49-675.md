jquery adaptive backgrounds js a simple jquery plugin to extract the dominant color of an image and apply it to the background of its parent element check it out on the web getting started install via bower bower install save adaptive background then simply include jquery and the script in your page and invoke it like so javascript document ready function adaptivebackground run the script looks for image s with the data adaptive background attribute html img src image jpg data adaptive background using an element with a css background image instead of using an img element nested inside of parent element ab supports grabbing the dominant color of a background image of a standalone element then applying the corresponding dominant color as the background color of said element enable this functionality by adding a data property data ab css background to the element see the example below html div style background image url some image jpg data adaptive background data ab css background div demo heres a little demo of how it works 1 the page loads 2 the dominant background color of the image is extracted 3 said color is applied to parent of image demo drastically slowed down to show effect api this plugin exposes one method adaptivebackground run opts arg opts object an optional argument to be merged in with the defaults default options selector string default img data adaptive background 1 a css selector which denotes which images to grab process ideally this selector would start with img to ensure we only grab and try to process actual images parent falsy default null a css selector which denotes which parent to apply the background color to by default the color is applied to the parent one level up the dom tree normalizetextcolor boolean default false option to normalize the color of the parent text if background color is too dark or too light normalizedtextcolors object literal default dark 000 light fff text colors used when background is either too dark light shadevariation blend true false default option to shade the color of the parent ligher or darker see shadepercentage or blend the color of the parent with another color by a certain percentage see shadecolors shadepercentage float default 0 sets the percentage of shading or blending used can be adjusted from 1 00 to 1 00 shadecolors object literal default light rgb 255 255 255 dark rgb 0 0 0 sets the color that will be used to blend the background color with two values are provided to account for the background color to be light or dark to start with transparent transparent dominant color can be adjusted from 0 01 to 0 99 example call the run method passing in any options youd like to override javascript var defaults selector data adaptive background 1 parent null exclude rgb 0 0 0 rgba 255 255 255 shadevariation false shadepercentage 0 shadecolors light rgb 255 255 255 dark rgb 0 0 0 normalizetextcolor false normalizedtextcolors light fff dark 000 lumaclasses light ab light dark ab dark transparent null adaptivebackground run defaults events emitted ab color found event this event is fired when the dominant color of the image is found the payload includes the dominant color as well as the color palette contained in the image example bind to the ab color found event like so javascript img my image on ab color found function ev payload console log payload color the dominant color in the image console log payload palette the color palette found in the image console log ev the jquery event object success callback you may wish to supply a callback function which is called once the magic has been performed javascript adaptivebackground run success function img data console log success img data note this callback is called once for each image caveats this plugin utlizes the canvas element and the imagedata object and due to cross site security limitations the script will fail if one tries to extract the colors from an image not hosted on the current domain unless the image allows for cross origin resource sharing enabling cors on s3 to enable cors for images hosted on s3 buckets follow the amazon guide here adding the following to the buckets cors configuration xml corsrule allowedorigin allowedorigin allowedmethod get allowedmethod corsrule for all images you can optionally also include a cross origin attribute in your image this is not absolutely necessary since the anonymous origin is set in the javascript code but kudos to you for being a super developer html img src image jpg data adaptive background cross origin anonymous credit this plugin is built on top of a script called rgbaster collaborators brian gonzalez scott stern alfred j kwack this project exists thanks to all the people who contribute contribute backers thank you to all our backers üôè become a backer sponsors support this project by becoming a sponsor your logo will show up here with a link to your website become a sponsor license mit yo