presto presto is a distributed sql query engine for big data see the user manual for deployment instructions and end user documentation requirements mac os x or linux java 8 update 92 or higher 8u92 64 bit both oracle jdk and openjdk are supported maven 3 3 9 for building python 2 4 for running with the launcher script building presto presto is a standard maven project simply run the following command from the project root directory mvnw clean install on the first build maven will download all the dependencies from the internet and cache them in the local repository m2 repository which can take a considerable amount of time subsequent builds will be faster presto has a comprehensive set of unit tests that can take several minutes to run you can disable the tests when building mvnw clean install dskiptests running presto in your ide overview after building presto for the first time you can load the project into your ide and run the server we recommend using intellij idea because presto is a standard maven project you can import it into your ide using the root pom xml file in intellij choose open project from the quick start box or choose open from the file menu and select the root pom xml file after opening the project in intellij double check that the java sdk is properly configured for the project open the file menu and select project structure in the sdks section ensure that a 1 8 jdk is selected create one if none exist in the project section ensure the project language level is set to 8 0 as presto makes use of several java 8 language features presto comes with sample configuration that should work out of the box for development use the following options to create a run configuration main class com facebook presto server prestoserver vm options ea xx useg1gc xx g1heapregionsize 32m xx usegcoverheadlimit xx explicitgcinvokesconcurrent xmx2g dconfig etc config properties dlog levels file etc log properties working directory module dir use classpath of module presto main the working directory should be the presto main subdirectory in intellij using module dir accomplishes this automatically additionally the hive plugin must be configured with location of your hive metastore thrift service add the following to the list of vm options replacing localhost 9083 with the correct host and port or use the below value if you do not have a hive metastore dhive metastore uri thrift localhost 9083 using socks for hive or hdfs if your hive metastore or hdfs cluster is not directly accessible to your local machine you can use ssh port forwarding to access it setup a dynamic socks proxy with ssh listening on local port 1080 ssh v n d 1080 server then add the following to the list of vm options dhive metastore thrift client socks proxy localhost 1080 running the cli start the cli to connect to the server and run sql queries presto cli target presto cli executable jar run a query to see the nodes in the cluster select from system runtime nodes in the sample configuration the hive connector is mounted in the hive catalog so you can run the following queries to show the tables in the hive database default show tables from hive default developers we recommend you use intellij as your ide the code style template for the project can be found in the codestyle repository along with our general programming and java guidelines in addition to those you should also adhere to the following alphabetize sections in the documentation source files both in table of contents files and other regular documentation files in general alphabetize methods variables sections if such ordering already exists in the surrounding code when appropriate use the java 8 stream api however note that the stream implementation does not perform well so avoid using it in inner loops or otherwise performance sensitive sections categorize errors when throwing exceptions for example prestoexception takes an error code as an argument prestoexception hive too many open partitions this categorization lets you generate reports so you can monitor the frequency of various failures ensure that all files have the appropriate license header you can generate the license by running mvn license format consider using string formatting printf style formatting using the java formatter class format session property s is invalid s name value note that format should always be statically imported sometimes if you only need to append something consider using the operator avoid using the ternary operator except for trivial expressions use an assertion from airlifts assertions class if there is one that covers your case rather than writing the assertion by hand over time we may move over to more fluent assertions like assertj when writing a git commit message follow these guidelines