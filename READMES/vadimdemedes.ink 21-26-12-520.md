react for clis build and test your cli output using components install npm install ink usage jsx const h render component color require ink class counter extends component constructor super this state i 0 render return color green this state i tests passed color componentdidmount this timer setinterval this setstate i this state i 1 100 componentwillunmount clearinterval this timer render useful components ink redux redux bindings ink text input text input ink password input password input ink progress bar configurable component for rendering progress bars ink spinner spinner ink console render output from console method calls in a scrollable panel ink image display images inside the terminal ink confirm input yes no confirmation input ink checkbox list checkbox ink select input select dropdown input ink quicksearch select component with fast quicksearch like navigation ink autocomplete autocomplete ink table table component ink broadcast implementation of react broadcast for ink ink router implementation of react router for ink ink tab tab component ink link link component ink select select component ink scrollbar scrollbar component ink box box component ink text animation text animation component ink gradient gradient color component ink big text awesome text component built with ink emoj find relevant emoji on the command line emma terminal assistant to find and install npm packages guide getting started core api components props lifecycle methods state refs context stateless function components built in components inks goal is to provide the same component based ui building experience that react provides but for command line apps thats why it tries to implement the minimum required functionality of react if you are already familiar with react or preact since ink borrows a few ideas from it you already know ink the key difference you have to remember is that the rendering result isnt a dom but a string which ink writes to the output getting started to ensure all examples work and you can begin your adventure with ink make sure to set up a jsx transpiler and set jsx pragma to h you can use babel plugin transform react jsx to do this for example in package json json babel plugins transform react jsx pragma h dont forget to import h into every file that contains jsx jsx const h require ink const demo to get started quickly scaffold out a project using ink cli yeoman generator to create a new component that you intend to publish you can use ink component generator core api render tree stream mount a component listen for updates and update the output this method is used for interactive uis where you need state user input or lifecycle methods it automatically enables keypress events on process stdin since it requires raw mode to be enabled ink handles default behavior for you like exiting with ctrl c tree type vnode stream type stream default process stdout jsx const h render component require ink class counter extends component constructor super this state i 0 render props state return iteration state i componentdidmount this timer setinterval this setstate i this state i 1 100 componentwillunmount clearinterval this timer const unmount render settimeout enough counting unmount 1000 rendertostring tree prevtree render a component to a string and return it useful if you dont intend to use state or lifecycle methods and just want to render the ui once and exit jsx const h rendertostring require ink const hello hello world process stdout write rendertostring components similarly to react there are two kinds of components stateful components next component and stateless function components you can create a component by extending component class unlike stateless function components they have access to state context lifecycle methods and they can be accessed via refs js class demo extends component render props state context props this props state this state context this context return hello world if you need to extend the constructor to set the initial state or for other purposes make sure to call super with props and context js constructor props context super props context this state i 0 other initialization props props are basically arguments for components every parent component can pass props to their children jsx class child extends component render props props this props return hello props name class parent extends component render return to set default props on specific component use defaultprops js const test first second first second test defaultprops first hello second world hello world prop types ink supports prop types out of the box all you have to do is set them in the same way you would in react js const proptypes require prop types test proptypes first proptypes string isrequired second proptypes string note prop types are only checked when node env isnt production lifecycle methods lifecycle methods are component methods that are called whenever a certain event happens related to that specific component all lifecycle methods are called from top to down meaning that components on top receive those events earlier than their children componentwillmount component is initialized and is about to be rendered and written to the output componentdidmount component is rendered and written to the output componentwillunmount component is about to be unmounted and component instance is going to be destroyed this is the place to clean up timers cancel http requests etc componentwillreceiveprops nextprops nextstate component is going to receive new props or state at this point this props and this state contain previous props and state shouldcomponentupdate nextprops nextstate determines whether to rerender component for the next props and state return false to skip rerendering of components children by default returns true so component is always rerendered on update componentwillupdate nextprops nextstate component is about to rerender componentdidupdate component was rerendered and was written to the output state each component can have its local state accessible via this state whenever a state updates the component is rerendered to set the initial state extend the constructor and assign an object to this state the state is accessible via this state anywhere in the component and its also passed to render as a second argument js class demo extends component constructor props context super props context this state i 0 render props state return iteration state i setstate nextstate nextstate type object function default set a new state and update the output note setstate works by extending the state via object assign not replacing it with a new object therefore you can pass only changed values js class demo extends component constructor props context super props context this state i 0 render props state return iteration state i componentdidmount this setstate i this state i 1 the above example will increment the i state property and render iteration 1 as a result setstate also accepts a function which receives the current state as an argument the same effect of incrementing i could be achieved in a following way js this setstate state return i state i 1 this is useful when setstate calls are batched to ensure that you update the state in a stable way refs refs can be used to get a direct reference to a component instance this is useful if you want to access its methods for example refs work by setting a special ref prop on a component props value must be a function which receives a reference to a component as an argument or null when the wanted component is unmounted note you cant get refs to stateless function components jsx class child extends component render return null hello return hello world class parent extends component constructor props context super props context this state message ink is awesome render props state const setchildref ref this childref ref return div message child ref setchildref div componentdidmount this setstate message this childref hello context context is like a global state for all components every component can access context either via this context or inside render js render props state context context this context to add new entries to context add getchildcontext method to your component js class child extends component render return this context message class parent extends component getchildcontext return message hello world render return child stateless function components if you dont need state lifecycle methods context and refs its best to use stateless function components for their small amount of code and readability using stateful components js class demo extends component render props state context return hello world using stateless function components js const demo props context hello world as you may have noticed stateless function components still get access to props and context built in components surprise surprise our favorite div and span can be used in ink components they are useful for grouping elements the only difference between div and span is that div inserts a newline after children jsx const demo div a b c div theres also br which serves the same purpose as on the web a newline jsx const demo div line 1 br line 2 div ink also supports fragments for returning multiple children from a components render method jsx const h fragment require ink render or using the shorthand syntax jsx const h require ink render to use the fragments make sure you have pragmafrag in your configuration json babel plugins babel plugin transform react jsx pragma h pragmafrag h fragment you will also need babel v7 0 0 beta 31 or above which means you will also need to upgrade any other tools that use babel to their compatible versions like babel plugin transform react jsx and babel core the color compoment is a simple wrapper around the chalk api it supports all of the chalk methods as props jsx import color from ink hello hey there the bold and underline components render their children bolded and underlined respectively jsx import bold underline from ink i am bold i am underlined license mit © vadim demedes