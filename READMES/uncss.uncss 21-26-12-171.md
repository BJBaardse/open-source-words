uncss uncss is a tool that removes unused css from your stylesheets it works across multiple files and supports javascript injected css how the process by which uncss removes the unused rules is as follows the html files are loaded by jsdom and javascript is executed all the stylesheets are parsed by postcss document queryselector filters out selectors that are not found in the html files the remaining rules are converted back to css please note uncss cannot be run on non html pages such as templates or php files if you need to run uncss against your templates you should probably generate example html pages from your templates and run uncss on those generated files or run a live local dev server and point uncss at that uncss only runs the javascript that is run on page load it does not and cannot handle javascript that runs on user interactions like button clicks you must use the ignore option to preserve classes that are added by javascript on user interaction installation shell npm install g uncss usage online server https uncss online com unofficial server very convenient for testing or one off usage within node js js var uncss require uncss var files my array of html files or http urls com options ignore added at runtime test 0 9 media min width 700px handheld and orientation landscape csspath public css raw h1 color green stylesheets lib bootstrap dist css bootstrap css src public css main css ignoresheets fonts googleapis timeout 1000 htmlroot public report false banner false uncssrc uncssrc useragent mozilla 5 0 iphone cpu iphone os 10 3 like mac os x inject function window window document queryselector html classlist add no csscalc csscalc uncss files options function error output console log output look ma no options uncss files function error output console log output specifying raw html var rawhtml uncss rawhtml options function error output console log output at build time uncss can also be used in conjunction with other javascript build systems such as grunt broccoli or gulp grunt uncss – thanks to addyosmani gulp uncss – thanks to ben eb broccoli uncss thanks to sindresorhus from the command line usage uncss options e g uncss https getbootstrap com docs 3 3 examples jumbotron stylesheet css options h help output usage information v version output the version number i ignore do not remove given selectors m media process additional media queries c csspath relative path where the css files are located s stylesheets specify additional stylesheets to process s ignoresheets do not include specified stylesheets r raw pass in a raw string of css t timeout wait for js evaluation h htmlroot absolute paths root location u uncssrc load these options from n nobanner disable banner a useragent use a custom user agent string i inject path to javascript file to be executed before uncss runs note that you can pass both local file paths which are processed by glob and urls to the program ignore array provide a list of selectors that should not be removed by uncss for example styles added by user interaction with the page hover click since those are not detectable by uncss yet both literal names and regex patterns are recognized otherwise you can add a comment before specific selectors css uncss ignore selector1 this rule will be ignored selector2 this will not be ignored uncss ignore start all rules in here will be ignored uncss ignore end media array by default uncss processes only stylesheets with media query all screen and those without one specify here which others to include csspath string path where the css files are related to the html files by default uncss uses the path specified in the link rel stylesheet href path to file css stylesheets array use these stylesheets instead of those extracted from the html files prepend paths with the file protocol to force use of local stylesheets otherwise paths will be resolved as a browser would for an anchor tag href on the html page ignoresheets array do not process these stylesheets e g google fonts accepts strings or regex patterns raw string give the task a raw string of css in addition to the existing stylesheet options useful in scripting when your css hasnt yet been written to disk timeout number specify how long to wait for the js to be loaded htmlroot string where the project root is useful for example if you have html that references local files with root relative urls i e href css style css report boolean return the report object in callback uncssrc string load all options from a json file regular expressions for the ignore and ignoresheets options should be wrapped in quotation marks example uncssrc file json ignore unused js stylesheets css override css useragent string the user agent string that jsdom should send when requesting pages may be useful when loading markup from services which use user agent based device detection to serve custom markup to mobile devices defaults to uncss inject string function path to a local javascript file which is executed before uncss runs a function can also be passed directly in example inject js file js use strict module exports function window window document queryselector html classlist add no csscalc csscalc example of passing inject as a function js inject function window window document queryselector html classlist add no csscalc csscalc as a postcss plugin uncss can be used as a postcss plugin js postcss require uncss postcssplugin see postcss docs for examples for your environment note depending on your environment you might not be able to use uncss as a postcss plugin since the plugin is not directly exported in such cases use the wrapper library postcss uncss options html array provide a list of html files to parse for selectors and elements usage of globs is allowed ignore array provide a list of selectors that should not be removed by uncss for example styles added by user interaction with the page hover click since those are not detectable by uncss yet both literal names and regex patterns are recognized otherwise you can add a comment before specific selectors in your css css uncss ignore selector1 this rule will be ignored selector2 this will not be ignored example configuration js html index html about html team html ignore fade license copyright c 2013 giacomo martino see the license file for license rights and limitations mit