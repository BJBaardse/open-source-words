react select a select control built with and for react initially built for use in keystonejs v2 0 0 beta a major update to react select is coming v2 is all new with some major api improvements a powerful new styles and components api and support for some long requested features like option groups to install the new version yarn add react select next check out the v2 documentation and upgrade guide demo examples live demo jedwatson github io react select installation the easiest way to use react select is to install it from npm and build it into your app with webpack yarn add react select you can then import react select and its styles in your application as follows js import select from react select import react select dist react select css you can also use the standalone umd build by including dist react select js and dist react select css in your page if you do this youll also need to include the dependencies for example html usage react select generates a hidden text field containing the selected value so you can submit it as part of a standard form you can also listen for changes with the onchange event property options should be provided as an array of objects each with a value and label property for rendering and searching you can use a disabled property to indicate whether the option is disabled or not the value property of each option should be either a string or a number when the value is changed onchange selectedvalueorvalues will fire note that as of 1 0 you must handle the change and pass the updated value to the select js import react from react import select from react select class app extends react component state selectedoption handlechange selectedoption this setstate selectedoption selectedoption can be null when the x close button is clicked if selectedoption console log selected selectedoption label render const selectedoption this state return select name form field name value selectedoption onchange this handlechange options value one label one value two label two you can customise the valuekey and labelkey props to use a different option shape custom classnames you can provide a custom classname prop to the select component which will be added to the base select classname for the outer container the built in options renderer also support custom classnames just add a classname property to objects in the options array multiselect options you can enable multi value selection by setting multi true in this mode selected options will be removed from the dropdown menu by default if you want them to remain in the list set removeselected false the selected values are submitted in multiple input type hidden fields use the joinvalues prop to submit joined values in a single field instead the values of the selected items are joined using the delimiter prop to create the input value when joinvalues is true a simple value if provided will be split using the delimiter prop the onchange event provides an array of selected options or a comma separated string of values eg 1 2 3 if simplevalue is true by default only options in the options array can be selected use the creatable component which wraps select to allow new options to be created if they do not already exist hitting comma enter or tab will add a new option versions 0 9 x and below provided a boolean attribute on the select component allowcreate to achieve the same functionality it is no longer available starting with version 1 0 0 by default selected options can be cleared to disable the possibility of clearing a particular option add clearablevalue false to that option js var options value one label one value two label two clearablevalue false note the clearable prop of the select component should also be set to false to prevent allowing clearing all fields at once accessibility note selected values arent focus targets which means keyboard users cant tab to them and are restricted to removing them using backspace in order this isnt ideal and im looking at other options for the future in the meantime if you want to use a custom valuecomponent that implements tabindex and keyboard event handling see 2098 for an example async options if you want to load options asynchronously use the async export and provide a loadoptions function the function takes two arguments string input function callbackand will be called when the input text is changed when your async process finishes getting the options pass them to callback err data in a object options the select control will intelligently cache options for input strings that have already been fetched the cached result set will be filtered as more specific searches are input so if your async process would only return a smaller set of results for a more specific query also pass complete true in the callback object caching can be disabled by setting cache to false note that complete true will then have no effect unless you specify the property autoload false the control will automatically load the default set of options i e for input when it is mounted js import async from react select const getoptions input callback settimeout callback null options value one label one value two label two careful only set this to true when there are no more options or more specific queries will not be sent to the server complete true 500 note about filtering async options the async component doesnt change the default behaviour for filtering the options based on user input but if youre already filtering the options server side you may want to customise or disable this feature see filtering options below for example if you would like to completely disable client side filtering you can do so with js filteroptions options filter currentvalues do no filtering just return all options return options async options with promises loadoptions supports promises which can be used in very much the same way as callbacks everything that applies to loadoptions with callbacks still applies to the promises approach e g caching autoload an example using the fetch api and es6 syntax with an api that returns an object like js import async from react select assuming the api returns something like this const json value one label one value two label two const getoptions input return fetch users input json then response return response json then json return options json async options loaded externally if you want to load options asynchronously externally from the select component you can have the select component show a loading spinner by passing in the isloading prop set to true js import select from react select let isloadingexternally true user created tags the creatable component enables users to create new tags within react select it decorates a select and so it supports all of the default properties eg single multi mode filtering etc in addition to a couple of custom ones shown below the easiest way to use it is like so js import creatable from react select function render selectprops return combining async and creatable use the asynccreatable hoc if you want both async and creatable functionality it ties async and creatable components together and supports a union of their properties listed above use it as follows js import asynccreatable from react select function render props props can be a mix of async creatable and select properties return filtering options you can control how options are filtered with the following props matchpos start or any whether to match the text entered at the start or any position in the option value matchprop label value or any whether to match the value label or both values of each option when filtering ignorecase boolean whether to ignore case or match the text exactly when filtering ignoreaccents boolean whether to ignore accents on characters like ø or å matchprop and matchpos both default to any ignorecase defaults to true ignoreaccents defaults to true advanced filters you can also completely replace the method used to filter either a single option or the entire options array allowing custom sort mechanisms etc filteroption function object option string filter returns boolean will override matchpos matchprop ignorecase and ignoreaccents options filteroptions function array options string filter array currentvalues returns array filteredoptions will override filteroption matchpos matchprop ignorecase and ignoreaccents options for multi select inputs when providing a custom filteroptions method remember to exclude current values from the returned array of options filtering large lists the default filteroptions method scans the options array for matches each time the filter text changes this works well but can get slow as the options array grows to several hundred objects for larger options lists a custom filter function like react select fast filter options will produce better results efficiently rendering large lists with windowing the menurenderer property can be used to override the default drop down list of options this should be done when the list is large hundreds or thousands of items for faster rendering windowing libraries like react virtualized can then be used to more efficiently render the drop down menu like so the easiest way to do this is with the react virtualized select hoc this component decorates a select and uses the react virtualized virtualscroll component to render options demo and documentation for this component are available here you can also specify your own custom renderer the custom menurenderer property accepts the following named parameters parameter type description focusedoption object the currently focused option should be visible in the menu by default focusoption function callback to focus a new option receives the option as a parameter labelkey string option labels are accessible with this string key optionclassname string the classname that gets used for options optioncomponent reactclass the react component that gets used for rendering an option optionrenderer function the function that gets used to render the content of an option options array object ordered array of options to render selectvalue function callback to select a new option receives the option as a parameter valuearray array object array of currently selected options updating input values with oninputchange you can manipulate the input by providing a oninputchange callback that returns a new value please note when you want to use oninputchange only to listen to the input updates you still have to return the unchanged value js function cleaninput inputvalue strip all non number characters from the input return inputvalue replace 0 9 g overriding default key down behaviour with oninputkeydown select listens to keydown events to select items navigate drop down list via arrow keys etc you can extend or override this behaviour by providing a oninputkeydown callback js function oninputkeydown event switch event keycode case 9 tab extend default tab behaviour by doing something here break case 13 enter override default enter behaviour by doing stuff here and then preventing default event preventdefault break select props property type default description aria describedby string undefined html id s of element s that should be used to describe this input for assistive tech aria label string undefined aria label for assistive tech aria labelledby string undefined html id of an element that should be used as the label for assistive tech arrowrenderer function undefined renders a custom drop down arrow to be shown in the right hand side of the select arrowrenderer onmousedown isopen wont render when set to null autoblur boolean false blurs the input element after a selection has been made handy for lowering the keyboard on mobile devices autofocus boolean undefined deprecated use the autofocus prop instead autofocus boolean undefined autofocus the component on mount autoload boolean true whether to auto load the default async options set autosize boolean true if enabled the input will expand as the length of its value increases backspaceremoves boolean true whether pressing backspace removes the last item when there is no input value also see related prop deleteremoves backspacetoremovemessage string press backspace to remove last label prompt shown in input when at least one option in a multiselect is shown set to to clear classname string undefined classname for the outer element clearable boolean true should it be possible to reset value clearalltext string clear all title for the clear control when multi is true clearrenderer function undefined renders a custom clear to be shown in the right hand side of the select when clearable true clearrenderer clearvaluetext string clear value title for the clear control closeonselect boolean true whether to close the menu when a value is selected deleteremoves boolean true whether pressing delete key removes the last item when there is no input value also see related prop backspaceremoves delimiter string delimiter to use to join multiple values disabled boolean false whether the select is disabled or not escapeclearsvalue boolean true whether escape clears the value when the menu is closed filteroption function undefined method to filter a single option option filterstring boolean filteroptions boolean or function undefined boolean to enable default filtering or function to filter the options array options filterstring values options id string undefined html id to set on the input element for accessibility or tests ignoreaccents boolean true whether to strip accents when filtering ignorecase boolean true whether to perform case insensitive filtering inputprops object undefined custom attributes for the input in the select control e g data foo bar inputrenderer function undefined renders a custom input component instanceid string increment instance id used internally to set html ids on elements for accessibility specify for universal rendering isloading boolean false whether the select is loading externally or not such as options being loaded joinvalues boolean false join multiple values into a single hidden input using the delimiter labelkey string label the option property to use for the label matchpos string any any start match the start or entire string when filtering matchprop string any any label value which option property to filter on menubuffer number 0 buffer of px between the base of the dropdown and the viewport to shift if menu doesnt fit in viewport menucontainerstyle object undefined optional style to apply to the menu container menurenderer function undefined renders a custom menu with options accepts the following named parameters menurenderer focusedoption focusoption options selectvalue valuearray menustyle object undefined optional style to apply to the menu multi boolean undefined multi value input name string undefined field name for hidden input tag noresultstext string no results found placeholder displayed when there are no matching search results or a falsy value to hide it can also be a react component onblur function undefined onblur handler function event onblurresetsinput boolean true whether to clear input on blur or not if set to false it only works if oncloseresetsinput is false as well onchange function undefined onchange handler function newoption onclose function undefined handler for when the menu closes function oncloseresetsinput boolean true whether to clear input when closing the menu through the arrow onfocus function undefined onfocus handler function event oninputchange function undefined oninputchange handler interceptor function inputvalue string string oninputkeydown function undefined input keydown handler call event preventdefault to override default select behaviour function event onmenuscrolltobottom function undefined called when the menu is scrolled to the bottom onopen function undefined handler for when the menu opens function onselectresetsinput boolean true whether the input value should be reset when options are selected also input value will be set to empty if onselectresetsinput true and select will get new value that not equal previous value onvalueclick function undefined onclick handler for value labels function value event openonclick boolean true open the options menu when the control is clicked requires searchable true openonfocus boolean false open the options menu when the control gets focus optionclassname string undefined additional class es to apply to the elements optioncomponent function undefined option component to render in dropdown optionrenderer function undefined custom function to render the options in the menu options array undefined array of options removeselected boolean true whether the selected option is removed from the dropdown on multi selects pagesize number 5 number of options to jump when using page up down keys placeholder string or node select field placeholder displayed when theres no value required boolean false applies html5 required attribute when needed resetvalue any null value to set when the control is cleared rtl boolean false use react select in right to left direction scrollmenuintoview boolean true whether the viewport will shift to display the entire menu when engaged searchable boolean true whether to enable searching feature or not searchprompttext string or node type to search label to prompt for search input simplevalue boolean false pass the value to onchange as a string style object undefined optional styles to apply to the control tabindex string or number undefined tabindex of the control tabselectsvalue boolean true whether to select the currently focused value when the tab key is pressed trimfilter boolean true whether to trim whitespace from the filter value value any undefined initial field value valuecomponent function function which returns a custom way to render manage the value selected customvalue valuekey string value the option property to use for the value valuerenderer function undefined function which returns a custom way to render the value selected function option wrapperstyle object undefined optional styles to apply to the component wrapper async props property type default description autoload boolean true automatically call the loadoptions prop on mount cache object undefined sets the cache object used for options set to false if you would like to disable caching loadingplaceholder string or node loading label to prompt for loading search result loadoptions function undefined function that returns a promise or calls a callback with the options function input callback creatable properties property type description children function child function responsible for creating the inner select component this component can be used to compose hocs eg creatable and async expected signature props object proptypes element isoptionunique function searches for any matching option within the set of options this function prevents duplicate options from being created by default this is a basic case sensitive comparison of label and value expected signature option object options array labelkey string valuekey string boolean isvalidnewoption function determines if the current input text represents a valid option by default any non empty string will be considered valid expected signature label string boolean newoptioncreator function factory to create new option expected signature label string labelkey string valuekey string object onnewoptionclick function new option click handler it calls when new option has been selected function option shouldkeydowneventcreatenewoption function decides if a keydown event eg its keycode should result in the creation of a new option enter tab and comma keys create new options by default expected signature keycode number boolean prompttextcreator function factory for overriding default option creator prompt label by default it will read create option label expected signature label string string shownewoptionattop boolean true default show new option at top of list false show new option at bottom of list methods use the focus method to give the control focus all other methods on select elements should be considered private js focuses the input element instance focus contributing see our contributing md for information on how to contribute thanks to the projects this was inspired by selectize in terms of behaviour and user experience react autocomplete as a quality react combobox implementation as well as other select controls including chosen and select2 license mit licensed copyright c jed watson 2018