purifycss a function that takes content html js php etc and css and returns only the used css purifycss does not modify the original css files you can write to a new file like minification if your application is using a css framework this is especially useful as many selectors are often unused potential reduction bootstrap file 140k app using 40 of selectors minified 117k purified minified 35k usage standalone installation bash npm i d purify css javascript import purify from purify css const purify require purify css let content let css let options output filepath output css purify content css options build time grunt gulp webpack cli usage npm install g purify css purifycss h purifycss option options m min minify css boolean default false o out filepath to write purified css to string i info logs info on how much css was removed boolean default false r rejected logs the css rules that were removed boolean default false w whitelist list of classes that should not be removed array default h help show help boolean v version show version number boolean how it works used selector detection statically analyzes your code to pick up which selectors are used but will it catch all of the cases lets start off simple detecting the use of button active html html class directly on element div class button active click div javascript javascript anytime your class name is together in your files it will find it button addclass button active now lets get crazy detecting the use of button active javascript can detect if class is split var half button button addclass half active can detect if class is joined var dynamicclass button active join button addclass dynamicclass can detect various more ways including all javascript frameworks a react example var classes classnames button active this state buttonactive return submit examples example with source strings js var content login var css button active color green unused class display block console log purify content css logs out button active color green example with glob file patterns writing to a file js var content src js js src html html var css src css css var options will write purified css to this file output dist purified css purify content css options example with both glob file patterns and source strings minify logging rejected selectors js var content src js js src html html var css button active color green unused class display block var options output dist purified css will minify css code in addition to purify minify true logs out removed selectors rejected true purify content css options logs out unused class example with callback js var content src js js src html html var css src css css purify content css function purifiedresult console log purifiedresult example with callback options js var content src js js src html html var css src css css var options minify true purify content css options function purifiedandminifiedresult console log purifiedandminifiedresult api in depth javascript four possible arguments purify content css options callback the content argument type array or string array of glob file patterns to the files to search through for used classes html js php erb templates anything that uses css selectors string of content to look at for used classes the css argument type array or string array of glob file patterns to the css files you want to filter string of css to purify the optional options argument type object properties of options object minify set to true to minify default false output filepath to write purified css to returns raw string if false default false info logs info on how much css was removed if true default false rejected logs the css rules that were removed if true default false whitelist array of selectors to always leave in ex button active modal this will leave any selector that includes modal in it and selectors that match button active wrapping the string with s leaves all selectors that include it the optional callback argument type function a function that will receive the purified css as its argument example of callback use javascript purify content css options function purifiedcss console log purifiedcss is the result of purify example of callback without options javascript purify content css function purifiedcss console log callback without options and received purifiedcss example cli usage purifycss src css main css src css bootstrap css src js main js min info out src dist index css this will concat both main css and bootstrap css and purify it by looking at what css selectors were used inside of main js it will then write the result to dist index css the min flag minifies the result the info flag will print this to stdout purifycss has reduced the file size by 33 8 the cli currently does not support file patterns