carthage carthage is intended to be the simplest way to add frameworks to your cocoa application carthage builds your dependencies and provides you with binary frameworks but you retain full control over your project structure and setup carthage does not automatically modify your project files or your build settings quick start installing carthage adding frameworks to an application getting started if youre building for os x if youre building for ios tvos or watchos for both platforms optionally add build phase to warn about outdated dependencies swift binary framework download compatibility running a project that uses carthage adding frameworks to unit tests or a framework upgrading frameworks experimental resolver nested dependencies using submodules for dependencies automatically rebuilding dependencies caching builds bash zsh fish completion supporting carthage for your framework share your xcode schemes resolve build failures tag stable releases archive prebuilt frameworks into one zip file use travis ci to upload your tagged prebuilt frameworks build static frameworks to speed up your apps launch times declare your compatibility known issues dwarfs symbol problem carthagekit differences between carthage and cocoapods license quick start get carthage by running brew install carthage or choose another installation method create a cartfile in the same directory where your xcodeproj or xcworkspace is list the desired dependencies in the cartfile for example github alamofire alamofire 4 7 2 run carthage update a cartfile resolved file and a carthage directory will appear in the same directory where your xcodeproj or xcworkspace is drag the built framework binaries from carthage build platform into your applications xcode project if you are using carthage for an application follow the remaining steps otherwise stop here on your application targets build phases settings tab click the icon and choose new run script phase create a run script in which you specify your shell ex bin sh add the following contents to the script area below the shell sh usr local bin carthage copy frameworks add the paths to the frameworks you want to use under “input files for example srcroot carthage build ios alamofire framework add the paths to the copied frameworks to the “output files” for example built products dir frameworks folder path alamofire framework for an in depth guide read on from adding frameworks to an application installing carthage there are multiple options for installing carthage installer download and run the carthage pkg file for the latest release then follow the on screen instructions if you are installing the pkg via cli you might need to run sudo chown r whoami usr local first homebrew you can use homebrew and install the carthage tool on your system simply by running brew update and brew install carthage note if you previously installed the binary version of carthage you should delete library frameworks carthagekit framework from source if youd like to run the latest development version which may be highly unstable or incompatible simply clone the master branch of the repository then run make install requires xcode 9 0 swift 4 0 adding frameworks to an application once you have carthage installed you can begin adding frameworks to your project note that carthage only supports dynamic frameworks which are only available on ios 8 or later or any version of os x getting started if youre building for os x create a cartfile that lists the frameworks youd like to use in your project run carthage update this will fetch dependencies into a carthage checkouts folder and build each one or download a pre compiled framework on your application targets general settings tab in the embedded binaries section drag and drop each framework you want to use from the carthage build folder on disk additionally youll need to copy debug symbols for debugging and crash reporting on os x on your application targets build phases settings tab click the icon and choose new copy files phase click the destination drop down menu and select products directory for each framework youre using drag and drop its corresponding dsym file if youre building for ios tvos or watchos create a cartfile that lists the frameworks youd like to use in your project run carthage update this will fetch dependencies into a carthage checkouts folder then build each one or download a pre compiled framework on your application targets general settings tab in the “linked frameworks and libraries” section drag and drop each framework you want to use from the carthage build folder on disk on your application targets build phases settings tab click the icon and choose new run script phase create a run script in which you specify your shell ex bin sh add the following contents to the script area below the shell sh usr local bin carthage copy frameworks add the paths to the frameworks you want to use under “input files for example srcroot carthage build ios result framework srcroot carthage build ios reactiveswift framework srcroot carthage build ios reactivecocoa framework add the paths to the copied frameworks to the “output files” for example built products dir frameworks folder path result framework built products dir frameworks folder path reactiveswift framework built products dir frameworks folder path reactivecocoa framework with output files specified alongside the input files xcode only needs to run the script when the input files have changed or the output files are missing this means dirty builds will be faster when you havent rebuilt frameworks with carthage this script works around an app store submission bug triggered by universal binaries and ensures that necessary bitcode related files and dsyms are copied when archiving with the debug information copied into the built products directory xcode will be able to symbolicate the stack trace whenever you stop at a breakpoint this will also enable you to step through third party code in the debugger when archiving your application for submission to the app store or testflight xcode will also copy these files into the dsyms subdirectory of your applications xcarchive bundle for both platforms along the way carthage will have created some build artifacts the most important of these is the cartfile resolved file which lists the versions that were actually built for each framework make sure to commit your cartfile resolved because anyone else using the project will need that file to build the same framework versions optionally add build phase to warn about outdated dependencies you can add a run script phase to automatically warn you when one of your dependencies is out of date on your application targets build phases settings tab click the icon and choose new run script phase create a run script in which you specify your shell ex bin sh add the following contents to the script area below the shell sh usr local bin carthage outdated xcode warnings swift binary framework download compatibility carthage will check to make sure that downloaded swift and mixed objective c swift frameworks were built with the same version of swift that is in use locally if there is a version mismatch carthage will proceed to build the framework from source if the framework cannot be built from source carthage will fail because carthage uses the output of xcrun swift version to determine the local swift version make sure to run carthage commands with the swift toolchain that you intend to use for many use cases nothing additional is needed however for example if you are building a swift 2 3 project using xcode 8 x one approach to specifying your default swift for carthage bootstrap is to use the following command toolchains com apple dt toolchain swift 2 3 carthage bootstrap running a project that uses carthage after youve finished the above steps and pushed your changes other users of the project only need to fetch the repository and run carthage bootstrap to get started with the frameworks youve added adding frameworks to unit tests or a framework using carthage for the dependencies of any arbitrary target is fairly similar to using carthage for an application the main difference lies in how the frameworks are actually set up and linked in xcode because unit test targets are missing the linked frameworks and libraries section in their general settings tab you must instead drag the built frameworks to the link binaries with libraries build phase in the test target under the build settings tab add loader path frameworks to the runpath search paths if it isnt already present in rare cases you may want to also copy each dependency into the build product e g to embed dependencies within the outer framework or make sure dependencies are present in a test bundle to do this create a new copy files build phase with the frameworks destination then add the framework reference there as well upgrading frameworks if youve modified your cartfile or you want to update to the newest versions of each framework subject to the requirements youve specified simply run the carthage update command again if you only want to update one or specific dependencies pass them as a space separated list to the update command e g carthage update box or carthage update box result experimental resolver a rewrite of the logic for upgrading frameworks was done with the aim of increasing speed and reducing memory usage it is currently an opt in feature it can be used by passing new resolver to the update command e g carthage update new resolver box if you are experiencing performance problems during updates please give the new resolver a try nested dependencies if the framework you want to add to your project has dependencies explicitly listed in a cartfile carthage will automatically retrieve them for you you will then have to drag them yourself into your project from the carthage build folder if the embedded framework in your project has dependencies to other frameworks you must link them to application target even if application target does not have dependency to that frameworks and never uses them using submodules for dependencies by default carthage will directly check out dependencies source files into your project folder leaving you to commit or ignore them as you choose if youd like to have dependencies available as git submodules instead perhaps so you can commit and push changes within them you can run carthage update or carthage checkout with the use submodules flag when run this way carthage will write to your repositorys gitmodules and git config files and automatically update the submodules when the dependencies versions change automatically rebuilding dependencies if you want to work on your dependencies during development and want them to be automatically rebuilt when you build your parent project you can add a run script build phase that invokes carthage like so sh usr local bin carthage build platform platform name project directory srcroot note that you should be using submodules before doing this because plain checkouts should not be modified directly caching builds by default carthage will rebuild a dependency regardless of whether its the same resolved version as before passing the cache builds will cause carthage to avoid rebuilding a dependency if it can see information on version files for details on how carthage performs this caching note at this time cache builds is incompatible with use submodules using both will result in working copy and committed changes to your submodule dependency not being correctly rebuilt see 1785 for details bash zsh fish completion auto completion of carthage commands and options are available as documented in bash zsh fish completion supporting carthage for your framework carthage only officially supports dynamic frameworks dynamic frameworks can be used on any version of os x but only on ios 8 or later additionally since version 0 30 0 carhage supports static frameworks because carthage has no centralized package list and no project specification format most frameworks should build automatically the specific requirements of any framework project are listed below share your xcode schemes carthage will only build xcode schemes that are shared from your xcodeproj you can see if all of your intended schemes build successfully by running carthage build no skip current then checking the carthage build folder if an important scheme is not built when you run that command open xcode and make sure that the scheme is marked as shared so carthage can discover it resolve build failures if you encounter build failures in carthage build no skip current try running xcodebuild scheme scheme workspace workspace build or xcodebuild scheme scheme project project build with the actual values and see if the same failure occurs there this should hopefully yield enough information to resolve the problem if you have multiple versions of the apple developer tools installed an xcode beta for example use xcode select to change which version carthage uses if youre still not able to build your framework with carthage please open an issue and wed be happy to help tag stable releases carthage determines which versions of your framework are available by searching through the tags published on the repository and trying to interpret each tag name as a semantic version for example in the tag v1 2 the semantic version is 1 2 0 tags without any version number or with any characters following the version number e g 1 2 alpha 1 are currently unsupported and will be ignored archive prebuilt frameworks into one zip file carthage can automatically use prebuilt frameworks instead of building from scratch if they are attached to a github release on your projects repository or via a binary project definition file to offer prebuilt frameworks for a specific tag the binaries for all supported platforms should be zipped up together into one archive and that archive should be attached to a published release corresponding to that tag the attachment should include framework in its name e g reactivecocoa framework zip to indicate to carthage that it contains binaries you can perform the archiving operation above with the carthage archive command as follows sh carthage build no skip current carthage archive yourframeworkname draft releases will be automatically ignored even if they correspond to the desired tag use travis ci to upload your tagged prebuilt frameworks it is possible to use travis ci in order to build and upload your tagged releases install travis cli with gem install travis setup travis ci for your repository steps 1 and 2 create travis yml file at the root of your repository based on that template set framework name to the correct value replace project placeholder and scheme placeholder if you are using a workspace instead of a project remove the xcode project line and uncomment the xcode workspace line the project should be in the format myproject xcodeproj the workspace should be in the format myworkspace xcworkspace feel free to update the xcode sdk value to another sdk note that testing on iphoneos sdk would require you to upload a code signing identity for more informations you can visit travis docs for objective c projects yaml language objective c osx image xcode7 3 xcode project xcode workspace xcode scheme xcode sdk iphonesimulator9 3 env global framework name before install brew update brew outdated carthage brew upgrade carthage before script bootstrap the dependencies for the project you can remove if you dont have dependencies carthage bootstrap before deploy carthage build no skip current carthage archive framework name 1 runtravis setup releases follow documentation here this command will encode your github credentials into the travis yml file in order to let travis upload the release to github com when prompted for the file to upload enter framework name framework zip update the deploy section to run on tags in travis yml locate yaml on repo repo repo and add tags true and skip cleanup true yaml skip cleanup true on repo repo repo tags true that will let travis know to create a deployment when a new tag is pushed and prevent travis to cleanup the generated zip file build static frameworks to speed up your apps launch times if you embed many dynamic frameworks into your app its pre main launch times may be quite slow carthage is able to help mitigate this by building your dynamic frameworks as static frameworks instead static frameworks can be linked directly into your application or merged together into a larger dynamic framework with a few simple modifications to your workflow which can result in dramatic reductions in pre main lauch times carthage 0 30 0 or higher since version 0 30 0 carthage project rolls out support for statically linked frameworks written in swift or objective c support for which has been introduced in xcode 9 4 please note however that it specifically says frameworks hence darwin bundles with framework extension and statically linked object archives inside carthage does not currently support static library schemes nor are there any plans to introduce their support in the future the workflow differs barely you still need to tick your carthage compliant projects schemes as shared in product scheme manage schemes just as with dynamic binaries you still need to link against static frameworks in your projects build phases just as with dynamic binaries however in your carthage compliant projects cocoa framework targets build settings linking section set mach o type to static library your statically linked frameworks will be built at carthage build platform name static you should not add any of static frameworks as input output files in carthage copy frameworks build phase carthage 0 29 0 or lower see the staticframeworks doc for details please note that a few caveats apply to this approach swift static frameworks are not officially supported by apple this is an advanced workflow that is not built into carthage ymmv declare your compatibility want to advertise that your project can be used with carthage you can add a compatibility badge … to your readme by simply inserting the following markdown markdown carthage compatible https img shields io badge carthage compatible 4bc51d svg style flat https github com carthage carthage known issues dwarfs symbol problem pre built framework cannot be debugged using step execution on other machine than on which the framework was built simply carthage bootstrap build update no use binaries should fix this but for more automated workaround see 924 dupe rdar 23551273 if you want apple to fix the root cause of this problem carthagekit most of the functionality of the carthage command line tool is actually encapsulated in a framework named carthagekit if youre interested in using carthage as part of another tool or perhaps extending the functionality of carthage take a look at the carthagekit source code to see if the api fits your needs differences between carthage and cocoapods cocoapods is a long standing dependency manager for cocoa so why was carthage created firstly cocoapods by default automatically creates and updates an xcode workspace for your application and all dependencies carthage builds framework binaries using xcodebuild but leaves the responsibility of integrating them up to the user cocoapods approach is easier to use while carthages is flexible and unintrusive the goal of cocoapods is listed in its readme as follows … to improve discoverability of and engagement in third party open source libraries by creating a more centralized ecosystem by contrast carthage has been created as a decentralized dependency manager there is no central list of projects which reduces maintenance work and avoids any central point of failure however project discovery is more difficult—users must resort to githubs trending pages or similar cocoapods projects must also have whats known as a podspec file which includes metadata about the project and specifies how it should be built carthage uses xcodebuild to build dependencies instead of integrating them into a single workspace it doesnt have a similar specification file but your dependencies must include their own xcode project that describes how to build their products ultimately we created carthage because we wanted the simplest tool possible—a dependency manager that gets the job done without taking over the responsibility of xcode and without creating extra work for framework authors cocoapods offers many amazing features that carthage will never have at the expense of additional complexity license carthage is released under the mit license header backdrop photo is released under the cc by nc sa 2 0 license original photo by richard mortel