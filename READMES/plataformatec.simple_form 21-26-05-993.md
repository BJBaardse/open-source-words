by plataformatec rails forms made easy simple form aims to be as flexible as possible while helping you with powerful components to create your forms the basic goal of simple form is to not touch your way of defining the layout letting you find the better design for your eyes most of the dsl was inherited from formtastic which we are thankful for and should make you feel right at home info this readme is also available in a friendly navigable format and refers to simple form 3 1 for older releases check the related branch for your version installation add it to your gemfile ruby gem simple form run the following command to install it console bundle install run the generator console rails generate simple form install bootstrap simple form can be easily integrated to the bootstrap to do that you have to use the bootstrap option in the install generator like this console rails generate simple form install bootstrap you have to be sure that you added a copy of the bootstrap assets on your application for more information see the generator output our example application code and the live example app zurb foundation 5 to generate wrappers that are compatible with zurb foundation 5 pass the foundation option to the generator like this console rails generate simple form install foundation please note that the foundation wrapper does not support the hint option by default in order to enable hints please uncomment the appropriate line in config initializers simple form foundation rb you will need to provide your own css styles for hints please see the instructions on how to install foundation in a rails app country select if you want to use the country select you will need the country select gem add it to your gemfile ruby gem country select if you dont want to use the gem you can easily override this behaviour by mapping the country inputs to something else with a line like this in your simple form rb initializer ruby config input mappings country string usage simple form was designed to be customized as you need to basically its a stack of components that are invoked to create a complete html input for you which by default contains label hints errors and the input itself it does not aim to create a lot of different logic from the default rails form helpers as they do a great job by themselves instead simple form acts as a dsl and just maps your input type retrieved from the column definition in the database to a specific helper method to start using simple form you just have to use the helper it provides erb simple form for user do f f input username f input password f button submit end this will generate an entire form with labels for user name and password as well and render errors by default when you render the form with invalid data after submitting for example you can overwrite the default label by passing it to the input method you can also add a hint an error or even a placeholder for boolean inputs you can add an inline label as well erb simple form for user do f f input username label your username please error username is mandatory please specify one f input password hint no special characters f input email placeholder user domain com f input remember me inline label yes remember me f button submit end in some cases you may want to disable labels hints or errors or you may want to configure the html of any of them erb simple form for user do f f input username label html class my class f input password hint false error html id password error f input password confirmation label false f button submit end it is also possible to pass any html attribute straight to the input by using the input html option for instance erb simple form for user do f f input username input html class special f input password input html maxlength 20 f input remember me input html value 1 f button submit end if you want to pass the same options to all inputs in the form for example a default class you can use the defaults option in simple form for specific options in input call will overwrite the defaults erb simple form for user defaults input html class default class do f f input username input html class special f input password input html maxlength 20 f input remember me input html value 1 f button submit end since simple form generates a wrapper div around your label and input by default you can pass any html attribute to that wrapper as well using the wrapper html option like so erb simple form for user do f f input username wrapper html class username f input password wrapper html id password f input remember me wrapper html class options f button submit end required fields are marked with an prepended to their labels by default all inputs are required when the form object includes activemodel validations which for example happens with active record models fields are required only when there is presence validation otherwise simple form will mark fields as optional for performance reasons this detection is skipped on validations that make use of conditional options such as if and unless and of course the required property of any input can be overwritten as needed erb simple form for user do f f input name required false f input username f input password f button submit end by default simple form will look at the column type in the database and use an appropriate input for the column for example a column created with type text in the database will use a textarea input by default see the section available input types and defaults for each column type for a complete list of defaults simple form also lets you overwrite the default input type it creates erb simple form for user do f f input username f input password f input description as text f input accepts as radio buttons f button submit end so instead of a checkbox for the accepts attribute youll have a pair of radio buttons with yes no labels and a textarea instead of a text field for the description you can also render boolean attributes using as select to show a dropdown it is also possible to give the disabled option to simple form and itll automatically mark the wrapper as disabled with a css class so you can style labels hints and other components inside the wrapper as well erb simple form for user do f f input username disabled true hint you cannot change your username f button submit end simple form inputs accept the same options as their corresponding input type helper in rails erb simple form for user do f f input date of birth as date start year date today year 90 end year date today year 12 discard day true order month year f input accepts as boolean checked value true unchecked value false f button submit end simple form also allows you to use label hint input field error and full error helpers please take a look at the rdocs for each method for more info erb simple form for user do f f label username f input field username f hint no special characters please f error username id user name error f full error token f submit save end any extra option passed to these methods will be rendered as html option stripping away all wrapper divs simple form also allows you to strip away all the div wrappers around the input field that is generated with the usual f input the easiest way to achieve this is to use f input field example ruby simple form for user do f f input field name f input field remember me as boolean end html form input class string required id user name maxlength 255 name user name size 255 type text input name user remember me type hidden value 0 label class checkbox input class boolean optional id user published name user remember me type checkbox value 1 label form for check boxes and radio buttons you can remove the label changing boolean style from default value nested to inline example ruby simple form for user do f f input field name f input field remember me as boolean boolean style inline end html form input class string required id user name maxlength 255 name user name size 255 type text input name user remember me type hidden value 0 input class boolean optional id user remember me name user remember me type checkbox value 1 form produces html input class string required id user name maxlength 100 name user name size 100 type text value carlos to view the actual rdocs for this check them out here http rubydoc info github plataformatec simple form master simpleform formbuilder input field collections and what if you want to create a select containing the age from 18 to 60 in your form you can do it overriding the collection option erb simple form for user do f f input user f input age collection 18 60 f button submit end collections can be arrays or ranges and when a collection is given the select input will be rendered by default so we dont need to pass the as select option other types of collection are radio buttons and check boxes those are added by simple form to rails set of form helpers read extra helpers section below for more information collection inputs accept two other options beside collections label method the label method to be applied to the collection to retrieve the label use this instead of the text method option in collection select value method the value method to be applied to the collection to retrieve the value those methods are useful to manipulate the given collection both of these options also accept lambda procs in case you want to calculate the value or label in a special way eg custom translation you can also define a to label method on your model as simple form will search for and use to label as a label method first if it is found by default simple form will use the first item from an array as the label and the second one as the value if you want to change this behavior you must make it explicit like this erb simple form for user do f f input gender as radio buttons collection 0 female 1 male label method second value method first end all other options given are sent straight to the underlying helper for example you can give prompt as ruby f input age collection 18 60 prompt select your age selected 21 extra options are passed into helper collection select you may also find it useful to explicitly pass a value to the optional selected especially if passing a collection of nested objects it is also possible to create grouped collection selects that will use the html optgroup tags like this ruby f input country id collection continents as grouped select group method countries grouped collection inputs accept the same label method and value method options which will be used to retrieve label value attributes for the option tags besides that you can give group method the method to be called on the given collection to generate the options for each group required group label method the label method to be applied on the given collection to retrieve the label for the optgroup simple form will attempt to guess the best one the same way it does with label method priority simple form also supports time zone and country when using such helpers you can give priority as an option to select which time zones and or countries should be given higher priority ruby f input residence country priority brazil f input time zone priority us those values can also be configured with a default value to be used on the site through the simpleform country priority and simpleform time zone priority helpers note while using country select if you want to restrict to only a subset of countries for a specific drop down then you may use the collection option ruby f input shipping country priority brazil collection australia brazil new zealand associations to deal with associations simple form can generate select inputs a series of radios buttons or checkboxes lets see how it works imagine you have a user model that belongs to a company and has and belongs to many roles the structure would be something like ruby class user activerecord base belongs to company has and belongs to many roles end class company activerecord base has many users end class role activerecord base has and belongs to many users end now we have the user form erb simple form for user do f f input name f association company f association roles f button submit end simple enough right this is going to render a select input for choosing the company and another select input with multiple option for the roles you can of course change it to use radio buttons and checkboxes as well ruby f association company as radio buttons f association roles as check boxes the association helper just invokes input under the hood so all options available to select radio buttons and check boxes are also available to association additionally you can specify the collection by hand all together with the prompt ruby f association company collection company active order name prompt choose a company in case you want to declare different labels and values ruby f association company label method company name value method id include blank false please note that the association helper is currently only tested with active record it currently does not work well with mongoid and depending on the orm youre using your mileage may vary buttons all web forms need buttons right simple form wraps them in the dsl acting like a proxy erb simple form for user do f f input name f button submit end the above will simply call submit you choose to use it or not its just a question of taste the button method also accepts optional parameters that are delegated to the underlying submit call erb f button submit custom button text class my button to create a button element use the following syntax erb f button button custom button text f button button do custom button text end wrapping rails form helpers say you wanted to use a rails form helper but still wrap it in simple form goodness you can by calling input with a block like so erb f input role do f select role role all map r r name r id class r company id include blank true end in the above example were taking advantage of rails 3s select method that allows us to pass in a hash of additional attributes for each option extra helpers simple form also comes with some extra helpers you can use inside rails default forms without relying on simple form for helper they are listed below simple fields for wrapper to use simple form inside a default rails form it works in the same way that the fields for rails helper but change the builder to use the simpleform formbuilder ruby form for user do f f simple fields for posts do posts form here you have all simple form methods available posts form input title end end collection radio buttons creates a collection of radio inputs with labels associated same api as collection select ruby form for user do f f collection radio buttons options true yes false no first last end html input id user options true name user options type radio value true label class collection radio buttons for user options true yes label input id user options false name user options type radio value false label class collection radio buttons for user options false no label collection check boxes creates a collection of checkboxes with labels associated same api as collection select ruby form for user do f f collection check boxes options true yes false no first last end html input name user options type hidden value input id user options true name user options type checkbox value true label class collection check box for user options true yes label input name user options type hidden value input id user options false name user options type checkbox value false label class collection check box for user options false no label to use this with associations in your model you can do the following ruby form for user do f f collection check boxes role ids role all id name using roles here is not going to work end available input types and defaults for each column type the following table shows the html element you will get for each attribute according to its database definition these defaults can be changed by specifying the helper method in the column mapping as the as option mapping generated html element database column type boolean input type checkbox boolean string input type text string citext input type text citext email input type email string with name email url input type url string with name url tel input type tel string with name phone password input type password string with name password search input type search uuid input type text uuid text textarea text hstore textarea hstore json textarea json jsonb textarea jsonb file input type file string responding to file methods hidden input type hidden integer input type number integer float input type number float decimal input type number decimal range input type range datetime datetime select datetime timestamp date date select date time time select time select select belongs to has many has and belongs to many associations radio buttons collection of input type radio belongs to associations check boxes collection of input type checkbox has many has and belongs to many associations country select countries as options string with name country time zone select timezones as options string with name time zone custom inputs it is very easy to add custom inputs to simple form for instance if you want to add a custom input that extends the string one you just need to add this file ruby app inputs currency input rb class currencyinput simpleform inputs base def input wrapper options merged input options merge wrapper options input html options wrapper options builder text field attribute name merged input options html safe end end and use it in your views ruby f input money as currency note you may have to create the app inputs directory and restart your webserver you can also redefine existing simple form inputs by creating a new class with the same name for instance if you want to wrap date time datetime in a div you can do ruby app inputs date time input rb class datetimeinput simpleform inputs datetimeinput def input wrapper options template content tag div super end end or if you want to add a class to all the select fields you can do ruby app inputs collection select input rb class collectionselectinput simpleform inputs collectionselectinput def input html classes super push chosen end end if needed you can namespace your custom inputs in a module and tell simple form to look for their definitions in this module this can avoid conflicts with other form libraries like formtastic that look up the global context to find inputs definition too ruby app inputs custom inputs numeric input module custominputs class numericinput simpleform inputs numericinput def input html classes super push no spinner end end end and in the simpleform initializer ruby config simple form rb config custom inputs namespaces custominputs custom form builder you can create a custom form builder that uses simple form create a helper method that calls simple form for with a custom builder ruby def custom form for object args block options args extract options simple form for object args options merge builder customformbuilder block end create a form builder class that inherits from simpleform formbuilder ruby class customformbuilder simpleform formbuilder def input attribute name options block super attribute name options merge label false block end end i18n simple form uses all power of i18n api to lookup labels hints prompts and placeholders to customize your forms you can create a locale file like this yaml en simple form labels user username user name password password hints user username user name to sign in password no special characters please placeholders user username your username password include blanks user age rather not say prompts user role select your role and your forms will use this information to render the components for you simple form also lets you be more specific separating lookups through actions lets say you want a different label for new and edit actions the locale file would be something like yaml en simple form labels user username user name password password edit username change user name password change password this way simple form will figure out the right translation for you based on the action being rendered and to be a little bit dryer with your locale file you can specify defaults for all models under the defaults key yaml en simple form labels defaults username user name password password new username choose a user name hints defaults username user name to sign in password no special characters please placeholders defaults username your username password simple form will always look for a default attribute translation under the defaults key if no specific is found inside the model key in addition simple form will fallback to default human attribute name from rails when no other translation is found for labels finally you can also overwrite any label hint or placeholder inside your view just by passing the option manually this way the i18n lookup will be skipped for prompt and include blank the i18n lookup is optional and to enable it is necessary to pass translate as value ruby f input role prompt translate simple form also has support for translating options in collection helpers for instance given a user with a role attribute you might want to create a select box showing translated labels that would post either admin or editor as value with simple form you could create an input like this ruby f input role collection admin editor and simple form will try a lookup like this in your locale file to find the right labels to show yaml en simple form options user role admin administrator editor editor you can also use the defaults key as you would do with labels hints and placeholders it is important to notice that simple form will only do the lookup for options if you give a collection composed of symbols only this is to avoid constant lookups to i18n its also possible to translate buttons using rails built in i18n support yaml en helpers submit user create add model update save changes there are other options that can be configured through i18n api such as required text and boolean be sure to check our locale file or the one copied to your application after you run rails generate simple form install it should be noted that translations for labels hints and placeholders for a namespaced model e g admin user should be placed under admin user not under admin user this is different from how translations for namespaced model and attribute names are defined yaml en activerecord models admin user user attributes admin user name name they should be placed under admin user form labels hints and placeholders for those attributes though should be placed under admin user yaml en simple form labels admin user name name this difference exists because simple form relies on object name provided by rails formbuilder to determine the translation path for a given object instead of i18n key from the object itself thus similarly if a form for an admin user object is defined by calling simple form for admin user as some user simple form will look for translations under some user instead of admin user when translating simple fields for attributes be sure to use the same name you pass to it e g simple fields for posts should be placed under posts not post yaml en simple form labels posts title post title hints posts title a good title placeholders posts title once upon a time configuration simple form has several configuration options you can read and change them in the initializer created by simple form so if you havent executed the command below yet please do rails generate simple form install the wrappers api with simple form you can configure how your components will be rendered using the wrappers api the syntax looks like this ruby config wrappers tag div class input error class field with errors valid class field without errors do b form extensions b use html5 b optional pattern b use maxlength b use placeholder b use readonly form components b use label input b use hint wrap with tag span class hint b use error wrap with tag span class error end the form components will generate the form tags like labels inputs hints or errors contents the available components are ruby label the label tag alone input the input tag alone label input the label and the input tags hint the hint for the input error the error for the input the form extensions are used to generate some attributes or perform some lookups on the model to add extra information to your components you can create new form components using the wrappers api as in the following example ruby config wrappers do b b use placeholder b use label input b wrapper tag div class separator do component component use hint wrap with tag span class hint component use error wrap with tag span class error end end this will wrap the hint and error components within a div tag using the class separator you can customize form components passing options to them ruby config wrappers do b b use label input class label input class error class is invalid valid class is valid end this you set the input and label class to label input class and will set the class is invalid when the input has errors and is valid if the input is valid if you want to customize the custom form components on demand you can give it a name like this ruby config wrappers do b b use placeholder b use label input b wrapper my wrapper tag div class separator html id my wrapper id do component component use hint wrap with tag span class hint component use error wrap with tag span class error end end and now you can pass options to your input calls to customize the my wrapper form component ruby completely turns off the custom wrapper f input name my wrapper false configure the html f input name my wrapper html id special id configure the tag f input name my wrapper tag p you can also define more than one wrapper and pick one to render in a specific form or input to define another wrapper you have to give it a name as the follow ruby config wrappers small do b b use placeholder b use label input end and use it in this way ruby specifying to whole form simple form for user wrapper small do f f input name end specifying to one input simple form for user do f f input name wrapper small end simple form also allows you to use optional elements for instance lets suppose you want to use hints or placeholders but you dont want them to be generated automatically you can set their default values to false or use the optional method is preferable to use the optional syntax ruby config wrappers placeholder false do b b use placeholder b use label input b wrapper tag div class separator do component component optional hint wrap with tag span class hint component use error wrap with tag span class error end end by setting it as optional a hint will only be generated when hint true is explicitly used the same for placeholder it is also possible to give the option unless blank to the wrapper if you want to render it only when the content is present ruby b wrapper tag span class hint unless blank true do component component optional hint end custom components when you use custom wrappers you might also be looking for a way to add custom components to your wrapper the default components are ruby label the label tag alone input the input tag alone label input the label and the input tags hint the hint for the input error the error for the input a custom component might be interesting for you if your views look something like this erb simple form for blog do f div class row div class span1 number 1 div div class span8 f input title div div div class row div class span1 number 2 div div class span8 f input body as text div div end a cleaner method to create your views would be erb simple form for blog wrapper with numbers do f f input title number 1 f input body as text number 2 end to use the number option on the input first tells to simple form the place where the components will be ruby config initializers simple form rb dir rails root join lib components rb each f require f create a new component within the path specified above ruby lib components numbers component rb module numberscomponent to avoid deprecation warning you need to make the wrapper options explicit even when they wont be used def number wrapper options nil number begin options number to s html safe if options number present end end end simpleform include component numberscomponent finally add a new wrapper to the config initializers simple form rb file ruby config wrappers with numbers tag div class row error class error do b b use html5 b use number wrap with tag div class span1 number b wrapper tag div class span8 do ba ba use placeholder ba use label ba use input ba use error wrap with tag span class help inline ba use hint wrap with tag p class help block end end html 5 notice by default simple form will generate input field types and attributes that are supported in html5 but are considered invalid html for older document types such as html4 or xhtml1 0 the html5 extensions include the new field types such as email number search url tel and the new attributes such as required autofocus maxlength min max step most browsers will not care but some of the newer ones in particular chrome 10 use the required attribute to force a value into an input and will prevent form submission without it depending on the design of the application this may or may not be desired in many cases it can break existing uis it is possible to disable all html 5 extensions in simple form by removing the html5 component from the wrapper used to render the inputs for example change ruby config wrappers tag div do b b use html5 b use label input end to ruby config wrappers tag div do b b use label input end if you want to have all other html 5 features such as the new field types you can disable only the browser validation ruby simpleform browser validations false default is true this option adds a new novalidate property to the form instructing it to skip all html 5 validation the inputs will still be generated with the required and other attributes that might help you to use some generic javascript validation you can also add novalidate to a specific form by setting the option on the form itself erb simple form for resource html novalidate true do form please notice that none of the configurations above will disable the placeholder component which is an html 5 feature we believe most of the newest browsers are handling this attribute just fine and if they arent any plugin you use would take care of applying the placeholder in any case you can disable it if you really want to by removing the placeholder component from the components list in the simple form configuration file html 5 date time inputs are not generated by simple form by default so using date time or datetime will all generate select boxes using normal rails helpers we believe browsers are not totally ready for these yet but you can easily opt in on a per input basis by passing the html5 option erb f input expires at as date html5 true using non active record objects there are few ways to build forms with objects that dont inherit from active record as follow you can include the module activemodel model ruby class user include activemodel model attr accessor id name end if you are using presenters or decorators that inherit from simpledelegator you can delegate it to the model ruby class userpresenter simpledelegator without that simple form will consider the user model as the object def to model self end end you can define all methods required by the helpers ruby class user extend activemodel naming attr accessor id name def to model self end def to key id end def persisted false end end if your object doesnt implement those methods you must make explicit it when you are building the form ruby class user attr accessor id name the only method required to use the f submit helper def persisted false end end erb simple form for user as user method post url users path do f f input name f submit new user end information google group if you have any questions comments or concerns please use the google group instead of the github issues tracker http groups google com group plataformatec simpleform rdocs you can view the simple form documentation in rdoc format here http rubydoc info github plataformatec simple form master frames bug reports if you discover any bugs feel free to create an issue on github please add as much information as possible to help us in fixing the potential bug we also encourage you to help even more by forking and sending us a pull request https github com plataformatec simple form issues maintainers josé valim https github com josevalim carlos antonio da silva https github com carlosantoniodasilva rafael mendonça frança https github com rafaelfranca vasiliy ermolovich https github com nashby license mit license copyright 2009 2018 plataformatec http plataformatec com br you are not granted rights or licenses to the trademarks of the plataformatec including without limitation the simple form name or logo