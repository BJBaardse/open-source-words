mobx simple scalable state management mobx is proudly sponsored by mendix coinbase facebook open source and many individual sponsors installation installation npm install mobx save react bindings npm install mobx react save to enable esnext decorators optional see below cdn https unpkg com mobx lib mobx umd js https cdnjs com libraries mobx browser support mobx 5 runs on any browser with es6 proxy support it will throw an error on startup on older environments such as ie11 node js 6 or react native android on old javascriptcore how to upgrade mobx 4 runs on any es5 browser and will be actively maintained the mobx 4 and 5 apis are the same and semantically can achieve the same but mobx 4 has some limitations tip the main entry point of the mobx 5 package ships with es5 code for backward compatibility with all build tools but since mobx 5 runs only on modern browsers anyway consider using the faster and smaller es6 build lib mobx es6 js for example by setting up a webpack alias resolve alias mobx dirname node modules mobx lib mobx es6 js translations 中文 getting started egghead io course ten minute interactive mobx react tutorial official mobx 4 documentation and api overview mobx 3 mobx 2 videos reactnext 2016 real world mobx 40m slides practical react with mobx in depth introduction and explanation to mobx and react by matt ruby on opensourcenorth es5 only 42m learncode academy mobx tutorial part i mobx react is awesome 7m part ii computed values and nested referenced observables 12m screencast intro to mobx 8m talk state management is easy react amsterdam 2016 conf slides boilerplates and related projects more tutorials blogs videos and other helpful resources can be found on the mobx awesome list introduction mobx is a battle tested library that makes state management simple and scalable by transparently applying functional reactive programming tfrp the philosophy behind mobx is very simple anything that can be derived from the application state should be derived automatically which includes the ui data serialization server communication etc react and mobx together are a powerful combination react renders the application state by providing mechanisms to translate it into a tree of renderable components mobx provides the mechanism to store and update the application state that react then uses both react and mobx provide optimal and unique solutions to common problems in application development react provides mechanisms to optimally render ui by using a virtual dom that reduces the number of costly dom mutations mobx provides mechanisms to optimally synchronize application state with your react components by using a reactive virtual dependency state graph that is only updated when strictly needed and is never stale core concepts mobx has only a few core concepts the following snippets can be tried online using codesandbox example observable state egghead io lesson 1 observable observer mobx adds observable capabilities to existing data structures like objects arrays and class instances this can simply be done by annotating your class properties with the observable decorator es next javascript import observable from mobx class todo id math random observable title observable finished false using observable is like turning a property of an object into a spreadsheet cell but unlike spreadsheets these values can be not only primitive values but also references objects and arrays if your environment doesnt support decorator syntax dont worry you can read here about how to set them up or you can skip them altoghether as mobx can be used fine without decorator syntax by leveraging the decorate utility many mobx users do prefer the decorator syntax though as it is slightly more concise javascript import decorate observable from mobx class todo id math random title finished false decorate todo title observable finished observable computed values egghead io lesson 3 computed values with mobx you can define values that will be derived automatically when relevant data is modified by using the computed decorator or by using getter setter functions when using extend observable of course you can use decorate here again as alternative to the syntax javascript class todolist observable todos computed get unfinishedtodocount return this todos filter todo todo finished length mobx will ensure that unfinishedtodocount is updated automatically when a todo is added or when one of the finished properties is modified computations like these resemble formulas in spreadsheet programs like ms excel they update automatically and only when required reactions egghead io lesson 9 custom reactions reactions are similar to a computed value but instead of producing a new value a reaction produces a side effect for things like printing to the console making network requests incrementally updating the react component tree to patch the dom etc in short reactions bridge reactive and imperative programming react components egghead io lesson 1 observable observer if you are using react you can turn your stateless function components into reactive components by simply adding the observer function decorator from the mobx react package onto them javascript import react component from react import reactdom from react dom import observer from mobx react observer class todolistview extends component render return this props todolist todos map todo tasks left this props todolist unfinishedtodocount const todoview observer todo todo finished todo finished todo title const store new todolist reactdom render document getelementbyid mount observer turns react function components into derivations of the data they render when using mobx there are no smart or dumb components all components render smartly but are defined in a dumb manner mobx will simply make sure the components are always re rendered whenever needed but also no more than that so the onclick handler in the above example will force the proper todoview to render and it will cause the todolistview to render if the number of unfinished tasks has changed however if you would remove the tasks left line or put it into a separate component the todolistview will no longer re render when ticking a box you can verify this yourself by changing the jsfiddle custom reactions custom reactions can simply be created using the autorun reaction or when functions to fit your specific situations for example the following autorun prints a log message each time the amount of unfinishedtodocount changes javascript autorun console log tasks left todos unfinishedtodocount what will mobx react to why does a new message get printed each time the unfinishedtodocount is changed the answer is this rule of thumb mobx reacts to any existing observable property that is read during the execution of a tracked function for an in depth explanation about how mobx determines to which observables needs to be reacted check understanding what mobx reacts to actions egghead io lesson 5 actions unlike many flux frameworks mobx is unopinionated about how user events should be handled this can be done in a flux like manner or by processing events using rxjs or by simply handling events in the most straightforward way possible as demonstrated in the above onclick handler in the end it all boils down to somehow the state should be updated after updating the state mobx will take care of the rest in an efficient glitch free manner so simple statements like below are enough to automatically update the user interface there is no technical need for firing events calling a dispatcher or what more a react component in the end is nothing more than a fancy representation of your state a derivation that will be managed by mobx javascript store todos push new todo get coffee new todo write simpler code store todos 0 finished true nonetheless mobx has an optional built in concept of actions read this section as well if you want to know more about writing asynchronous actions its easy use them to your advantage they will help you to structure your code better and make wise decisions about when and where state should be modified mobx simple and scalable mobx is one of the least obtrusive libraries you can use for state management that makes the mobx approach not just simple but very scalable as well using classes and real references with mobx you dont need to normalize your data this makes the library very suitable for very complex domain models at mendix for example 500 different domain classes in a single application referential integrity is guaranteed since data doesnt need to be normalized and mobx automatically tracks the relations between state and derivations you get referential integrity for free rendering something that is accessed through three levels of indirection no problem mobx will track them and re render whenever one of the references changes as a result staleness bugs are a thing of the past as a programmer you might forget that changing some data might influence a seemingly unrelated component in a corner case mobx wont forget simpler actions are easier to maintain as demonstrated above modifying state when using mobx is very straightforward you simply write down your intentions mobx will take care of the rest fine grained observability is efficient mobx builds a graph of all the derivations in your application to find the least number of re computations that is needed to prevent staleness derive everything might sound expensive mobx builds a virtual derivation graph to minimize the number of recomputations needed to keep derivations in sync with the state in fact when testing mobx at mendix we found out that using this library to track the relations in our code is often a lot more efficient than pushing changes through our application by using handwritten events or smart selector based container components the simple reason is that mobx will establish far more fine grained listeners on your data than you would do as a programmer secondly mobx sees the causality between derivations so it can order them in such a way that no derivation has to run twice or introduces a glitch how that works see this in depth explanation of mobx easy interoperability mobx works with plain javascript structures due to its unobtrusiveness it works with most javascript libraries out of the box without needing mobx specific library flavors so you can simply keep using your existing router data fetching and utility libraries like react router director superagent lodash etc for the same reason you can use it out of the box both server and client side in isomorphic applications and with react native the result of this is that you often need to learn less new concepts when using mobx in comparison to other state management solutions credits mobx is inspired by reactive programming principles as found in spreadsheets it is inspired by mvvm frameworks like in meteorjs tracker knockout and vue js but mobx brings transparent functional reactive programming to the next level and provides a stand alone implementation it implements tfrp in a glitch free synchronous predictable and efficient manner a ton of credits for mendix for providing the flexibility and support to maintain mobx and the chance to proof the philosophy of mobx in a real complex performance critical applications and finally kudos for all the people that believed in tried validated and even sponsored mobx further resources and documentation mobx homepage api overview tutorials blogs videos boilerplates related projects what others are saying guise mobx isnt pubsub or your grandpas observer pattern nay it is a carefully orchestrated observable dimensional portal fueled by the power cosmic it doesnt do change detection its actually a level 20 psionic with soul knife slashing your viewmodel into submission after using mobx for lone projects for a few weeks it feels awesome to introduce it to the team time 1 2 fun 2x working with mobx is basically a continuous loop of me going “this is way too simple it definitely wont work” only to be proven wrong try react mobx with es6 and you will love it so much that you will hug someone i have built big apps with mobx already and comparing to the one before that which was using redux it is simpler to read and much easier to reason about the mobx is the way i always want things to be its really surprising simple and fast totally awesome dont miss it contributing feel free to send small pull requests please discuss new features or big changes in a github issue first use npm test to run the basic test suite npm run coverage for the test suite with coverage and npm run perf for the performance tests please note that if you want to backport a feature fix to mobx 4 a second pr needs to be opened to the mobx4 master branch mobx 4 vs mobx 5 the difference between mobx 4 and mobx 5 is that the latter uses proxies to do property tracking as a consequence mobx 5 only runs on proxy supporting browsers in contrast to mobx 4 that runs on any es 5 environment the most noteable limitations of mobx 4 observable arrays are not real arrays so they wont pass the array isarray check the practical consequence is that you often need to slice the array first to get a real array shallow copy before passing to third party libraries adding properties to existing observable objects after creation is automatically picked up either use observable maps instead or use the the build in utility functions to read write iterate objects that you want to dynamically add properties to for more details see the caveats page flow support mobx ships with flow typings flow will automatically include them when you import mobx modules although you do not need to import the types explicitly you can still do it like this import type from mobx to use the flow typings shipped with mobx in flowconfig you cannot ignore node modules in flowconfig you cannot import it explicitly in the libs section you do not need to install library definition using flow typed donating was mobx key in making your project a success join our open collective or use the donate button backers support us with a monthly donation and help us continue our activities become a backer one time donations through paypal are welcome as well and are recorded in the sponsors list sponsors become a sponsor and get your logo on our readme on github with a link to your site become a sponsor