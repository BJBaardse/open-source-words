chef getting started want to try chef for chef user please refer to quick start for more details please refer to learnchef documentation https docs chef io source https github com chef chef tree master tickets issues https github com chef chef issues slack chef community slack mailing list https discourse chef io chef is a configuration management tool designed to bring automation to your entire infrastructure this readme focuses on developers who want to modify chef source code if you just want to use chef check out these resources learnchef getting started guide docs chef io comprehensive user docs installer downloads install chef as a complete package chef chef docker image for use with kitchen dokken reporting issues issues can be reported by using github issues full details on how to report issues can be found in the contributing doc note that this repository is primarily for reporting chef client issues for reporting issues against other chef projects please look up the appropriate repository to report issues against in the chef docs in the community contributions section if you cant determine the appropriate place to report an issue then please open it against the repository you think best fits and it will be directed to the appropriate project installing from git for developers note as a chef user please download the chef or chef dk packages which provide ruby and other necessary libraries for running chef we do not recommend end users install chef from gems or build from source the following instructions apply only to those doing software development on chef prerequisites install git c compiler header files etc ruby 2 4 or later bundler gem note chef supports a large number of platforms and there are many different ways to manage ruby installs on each of those platforms we assume you will install ruby in a way appropriate for your development platform but do not provide instructions for setting up ruby chef installation once you have your development environment configured you can clone the chef repository and install chef bash git clone https github com chef chef git cd chef bundle install bundle exec rake gem bundle exec rake install contributing development please read our community contributions guidelines and ensure you are signing all your commits with dco sign off the general development process is fork this repo and clone it to your workstation create a feature branch for your change write code and tests push your feature branch to github and open a pull request against master once your repository is set up you can start working on the code we do utilize rspec for test driven development so youll need to get a development environment running follow the above procedure installing from git to get your local copy of the source running testing this repository uses rspec for testing bash all tests bundle exec rspec single test bundle exec rspec spec path to file spec rb all tests under a subdir bundle exec rspec spec path to dir when you submit a pr rspec tests will run automatically on travis ci and appveyor building the full package to build chef as a standalone package we use the omnibus packaging system to build bash git clone https github com chef chef git cd chef omnibus bundle install bundle exec omnibus build chef the prerequisites necessary to run omnibus itself are not documented in this repository see the omnibus repository for additional details updating dependencies if you want to change our constraints change which packages and versions we accept in the chef there are several places to do so gemfile and gemfile lock all gem version constraints update with bundle update omnibus overrides rb pinned versions of omnibus packages omnibus gemfile and omnibus gemfile lock gems for the omnibus build system itself in addition there are several places versions are pinned for ci tasks kitchen tests gemfile and kitchen tests gemfile lock gems for test kitchen tests travis in order to update everything run rake dependencies note that the gemfile lock pins windows platforms and to fully regenerate the lockfile you must use the following commands or run rake dependencies update gemfile lock bash bundle lock update add platform ruby bundle lock update add platform x64 mingw32 bundle lock update add platform x86 mingw32 how chef builds and versions chef is an amalgam of many components these components update all the time necessitating new builds this is an overview of the process of versioning building and releasing chef chef packages chef is distributed as packages for debian rhel ubuntu windows solaris aix and macos it includes a large number of components from various sources and these are versioned and maintained separately from the chef project which bundles them all together conveniently for the user these packages go through several milestones master when code is checked in to master the patch version of chef is bumped e g 14 5 1 14 5 2 and a build is kicked off automatically to create and test the packages in chefs internal ci cluster unstable when a package is built it enters the unstable channel when all packages for all oss have successfully built the test phase is kicked off in jenkins across all supported oss these builds are password protected and generally only available to the test systems current if the packages pass all the tests on all supported oss it is promoted as a unit to current and is available by running curl https www chef io chef install sh sudo bash s c current p chef or at https downloads chef io chef current stable periodically chef will pick a release to bless for folks who would like a slower update schedule than every time a build passes the tests when this happens it is manually promoted to stable and an announcement is sent to the list it can be reached at https downloads chef io or installed using the curl command without specifying c current packages in stable are no longer available in current additionally periodically chef will update the desired versions of chef components and check that in to master triggering a new build with the updated components in it automated version bumping whenever a change is checked in to master the patch version of chef is bumped to do this the chef ci bot listens to github for merged prs and when it finds one takes these actions bumps the patch version e g 14 1 14 14 1 15 by running ci version bump sh updates the changelog with the new pull request and current point release pushes to master and submits a new build to chefs jenkins cluster bumping the minor version of chef after each official stable release we need to bump the minor version to do this run bundle exec rake version bump minor submit a pr with the changes made by the above branch structure we develop and ship the current release of chef off the master branch of this repository our goal is that master should always be in a shipable state previous stable releases of chef are developed on their own branches named by the major version ex chef 13 or chef 12 we do not perform direct development on these stable branches except to resolve build failures instead we backport fixes from our master branch to these stable branches stable branches receive critical bugfixes and security releases and stable chef releases are made as necessary for security purposes backporting fixes to stable releases if there is a critical fix you believe should be backported from master to a stable branch please follow these steps to backport your change ask in the chef dev channel on chef community slack if this is an appropriate change to backport inspect the git history and find the sha s associated with the fix backport the fix to a branch via cherry pick check out the stable release branch git checkout chef 13 create a branch for your backport git checkout b my great bug packport cherry pick the sha with the fix git cherry pick sha address any conflicts if necessary push the new branch to your origin git push origin open a pr for your backport the pr title should be backport original pr text the description should link to the original pr and include a description of why it needs to be backported component versions chef has two sorts of component ruby components like berkshelf and test kitchen and binary components like openssl and even ruby itself in general you can find all chef desired versions in the gemfile and omnibus overrides rb files the gemfile lock is the locked version of the gemfile binary components the versions of binary components as well as rubygems and bundler which cant be versioned in a gemfile are stored in omnibus overrides rb these have software definitions either in omnibus config software or more often in the omnibus software project rubygems components our rubygems component versions are locked down with gemfile lock and can be updated with bundle update or rake dependencies update gemfile lock build tooling versions the external environment necessary to build omnibus compilers make git etc is configured by the opscode ci cookbook cookbook in order to reliably create omnibus builds that cookbook should be used to install the prerequisites it may be possible to install the latest version of utilities on a suitably recent distribution and be able to build an omnibus package but the necessary prerequisites will not be documented here in most cases a recent macos with xcode and a few homebrew packages or a recent ubuntu distribution with packages like build essentials should suffice test versions chef is tested by the chef acceptance framework which contains suites that are run on the jenkins test machines the definitions of the tests are in the acceptance directory the version of chef acceptance and test kitchen are governed by acceptance gemfile the test tooling versions are locked down with acceptance gemfile lock which can be updated by running rake dependencies license chef a configuration management system author adam jacob adam chef io copyright copyright 2008 2018 chef software inc license apache license version 2 0 licensed under the apache license version 2 0 the license you may not use this file except in compliance with the license you may obtain a copy of the license at http www apache org licenses license 2 0 unless required by applicable law or agreed to in writing software distributed under the license is distributed on an as is basis without warranties or conditions of any kind either express or implied see the license for the specific language governing permissions and limitations under the license