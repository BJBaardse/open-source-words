object schema description language and validator for javascript objects lead maintainer nicolas morel introduction imagine you run facebook and you want visitors to sign up on the website with real names and not something like l337 p nda in the first name field how would you define the limitations of what can be inputted and validate it against the set rules this is joi joi allows you to create blueprints or schemas for javascript objects an object that stores information to ensure validation of key information api see the detailed api reference example javascript const joi require joi const schema joi object keys username joi string alphanum min 3 max 30 required password joi string regex a za z0 9 3 30 access token joi string joi number birthyear joi number integer min 1900 max 2013 email joi string email with username birthyear without password access token return result const result joi validate username abc birthyear 1994 schema result error null valid you can also pass a callback which will be called synchronously with the validation result joi validate username abc birthyear 1994 schema function err value err null valid the above schema defines the following constraints username a required string must contain only alphanumeric characters at least 3 characters long but no more than 30 must be accompanied by birthyear password an optional string must satisfy the custom regex cannot appear together with access token access token an optional unconstrained string or number birthyear an integer between 1900 and 2013 email a valid email address string usage usage is a two steps process first a schema is constructed using the provided types and constraints javascript const schema a joi string note that joi schema objects are immutable which means every additional rule added e g min 5 will return a new schema object then the value is validated against the schema javascript const error value joi validate a a string schema or joi validate a a string schema function err value if the input is valid then the error will be null otherwise it will be an error object the schema can be a plain javascript object where every key is assigned a joi type or it can be a joi type directly javascript const schema joi string min 10 if the schema is a joi type the schema validate value callback can be called directly on the type when passing a non type schema object the module converts it internally to an object type equivalent to javascript const schema joi object keys a joi string when validating a schema values or keys in case of objects are optional by default javascript joi validate undefined joi string validates fine to disallow this behavior you can either set the schema as required or set presence to required when passing options javascript joi validate undefined joi string required or joi validate undefined joi string options presence required strings are utf 8 encoded by default rules are defined in an additive fashion and evaluated in order after whitelist and blacklist checks browsers joi doesnt directly support browsers but you could use joi browser for an es5 build of joi that works in browsers or as a source of inspiration for your own builds acknowledgements this project is kindly sponsored by