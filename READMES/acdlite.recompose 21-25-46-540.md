recompose recompose is a react utility belt for function components and higher order components think of it like lodash for react full api documentation learn about each helper recompose base fiddle easy way to dive in npm install recompose save üì∫ watch andrews talk on recompose at react europe note performance optimizations he speaks about have been removed more info here related modules recompose relay ‚Äî recompose helpers for relay you can use recompose to lift state into functional wrappers helpers like withstate and withreducer provide a nicer way to express state updates js const enhance withstate counter setcounter 0 const counter enhance counter setcounter div count counter button onclick setcounter n n 1 increment button button onclick setcounter n n 1 decrement button div or with a redux style reducer js const counterreducer count action switch action type case increment return count 1 case decrement return count 1 default return count const enhance withreducer counter dispatch counterreducer 0 const counter enhance counter dispatch count counter dispatch type increment increment dispatch type decrement decrement perform the most common react patterns helpers like componentfromprop and withcontext encapsulate common react patterns into a simple functional interface js const enhance defaultprops component button const button enhance componentfromprop component renders renders js const provide store withcontext store proptypes object store apply to base component descendants of app have access to context store const appwithcontext provide store app optimize rendering performance no need to write a new class just to implement shouldcomponentupdate recompose helpers like pure and onlyupdateforkeys do this for you js a component that is expensive to render const expensivecomponent propa propb optimized version of same component using shallow comparison of props same effect as extending react purecomponent const optimizedcomponent pure expensivecomponent even more optimized only updates if specific prop keys have changed const hyperoptimizedcomponent onlyupdateforkeys propa propb expensivecomponent interoperate with other libraries recompose helpers integrate really nicely with external libraries like relay redux and rxjs js const enhance compose this is a recompose friendly version of relay createcontainer provided by recompose relay createcontainer fragments post relay ql fragment on post title content flattenprop post const post enhance title content title content build your own libraries many react libraries end up implementing the same utilities over and over again like shallowequal and getdisplayname recompose provides these utilities for you js any recompose module can be imported individually import getdisplayname from recompose getdisplayname connectedcomponent displayname connect getdisplayname basecomponent or even better import wrapdisplayname from recompose wrapdisplayname connectedcomponent displayname wrapdisplayname basecomponent connect import toclass from recompose toclass converts a function component to a class component e g so it can be given a ref returns class components as is const classcomponent toclass functioncomponent and more api docs read them here flow support read the docs translation traditional chinese why forget es6 classes vs createclass an idiomatic react application consists mostly of function components js const greeting props p hello props name p function components have several key advantages they help prevent abuse of the setstate api favoring props instead they encourage the smart vs dumb component pattern they encourage code that is more reusable and modular they discourage giant complicated components that do too many things in the future they will allow react to make performance optimizations by avoiding unnecessary checks and memory allocations note that although recompose encourages the use of function components whenever possible it works with normal react components as well higher order components made easy most of the time when we talk about composition in react were talking about composition of components for example a blog component may be composed of many post components which are composed of many comment components recompose focuses on another unit of composition higher order components hocs hocs are functions that accept a base component and return a new component with additional functionality they can be used to abstract common tasks into reusable pieces recompose provides a toolkit of helper functions for creating higher order components should i use this performance and other concerns usage all functions are available on the top level export js import compose mapprops withstate from recompose note react is a peer dependency of recompose if youre using preact add this to your webpack config js js resolve alias react preact composition recompose helpers are designed to be composable js const basecomponent props this will work but its tedious let enhancedcomponent pure basecomponent enhancedcomponent mapprops args enhancedcomponent enhancedcomponent withstate args enhancedcomponent do this instead note that the order has reversed ‚Äî props flow from top to bottom const enhance compose withstate args mapprops args pure const enhancedcomponent enhance basecomponent technically this also means you can use them as decorators if thats your thing js withstate args mapprops args pure class component extends react component optimizing bundle size since 0 23 1 version recompose got support of es2015 modules to reduce size all you need is to use bundler with tree shaking support like webpack 2 or rollup using babel plugin lodash babel plugin lodash is not only limited to lodash it can be used with recompose as well this can be done by updating lodash config in babelrc diff plugins lodash plugins lodash id lodash recompose after that you can do imports like below without actually including the entire library content js import compose mapprops withstate from recompose debugging it might be hard to trace how does props change between hocs a useful tip is you can create a debug hoc to print out the props it gets without modifying the base component for example make js const debug withprops console log then use it between hocs js const enhance compose withstate args debug print out the props here mapprops args pure who uses recompose if your company or project uses recompose feel free to add it to the official list of users by editing the wiki page recipes for inspiration we have a community driven recipes page its a place to share and see recompose patterns for inspiration please add to it recipes feedback wanted project is still in the early stages please file an issue or submit a pr if you have suggestions or ping me andrew clark on twitter getting help for support or usage questions like ‚Äúhow do i do x with recompose‚Äù and ‚Äúmy code doesnt work‚Äù please search and ask on stackoverflow with a recompose tag first we ask you to do this because stackoverflow has a much better job at keeping popular questions visible unfortunately good answers get lost and outdated on github some questions take a long time to get an answer if your question gets closed or you dont get a reply on stackoverflow for longer than a few days we encourage you to post an issue linking to your question we will close your issue but this will give people watching the repo an opportunity to see your question and reply to it on stackoverflow if they know the answer please be considerate when doing this as this is not the primary purpose of the issue tracker help us help you on both websites it is a good idea to structure your code and question in a way that is easy to read to entice people to answer it for example we encourage you to use syntax highlighting indentation and split text in paragraphs please keep in mind that people spend their free time trying to help you you can make it easier for them if you provide versions of the relevant libraries and a runnable small project reproducing your issue you can put your code on jsbin or for bigger projects on github make sure all the necessary dependencies are declared in package json so anyone can run npm install npm start and reproduce your issue