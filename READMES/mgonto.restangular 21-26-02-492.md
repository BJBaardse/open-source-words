restangular restangular is an angularjs service that simplifies common get post delete and update requests with a minimum of client code its a perfect fit for any webapp that consumes data from a restful api note this version of restangular only supports angular 1 for an angular 2 version of restangular check out ngx restangular its a separate project with different maintainers so issues regarding ngx restangular should be reported over there wink learn restangular try the live demo on plunkr it uses the same example as the official angular javascript project but with restangular or watch a video introduction of a talk i gave at devoxx france about restangular table of contents restangular differences with resource how do i add this to my project dependencies production apps using restangular starter guide quick configuration for lazy readers adding dependency to restangular module in your app using restangular creating main restangular object lets code configuring restangular properties setbaseurl setextrafields setparentless setdefaulthttpfields addelementtransformer setonelemrestangularized setresponseinterceptor setresponseextractor alias of setresponseinterceptor addresponseinterceptor setrequestinterceptor addrequestinterceptor setfullrequestinterceptor addfullrequestinterceptor seterrorinterceptor setrestangularfields setmethodoverriders setdefaultrequestparams setfullresponse setdefaultheaders setrequestsuffix setusecannonicalid setplainbydefault how to configure them globally configuring in the config configuring in the run how to create a restangular service with a different configuration from the global one decoupled restangular service methods description restangular methods element methods collection methods custom methods copying elements enhanced promises using values directly in templates using self reference resources url building creating new restangular methods adding custom methods to collections example adding custom methods to models example faq how can i handle errors i need to send one header in every restangular request how do i do this can i cache requests can it be used in routeprovider resolve my response is actually wrapped with some metadata how do i get the data in that case i use mongo and the id of the elements is id not id as the default therefore requests are sent to undefined routes what if each of my models has a different id name like customerid for customer how do i handle crud operations in a list returned by restangular when i set baseurl with a port its stripped out how can i access the unrestangularized element as well as the restangularized one restangular fails with status code 0 why does this depend on lodash underscore how do i cancel a request supported angular versions server frameworks releases notes license back to top differences with resource restangular has several features that distinguish it from resource it uses promises instead of doing the magic filling of objects like resource it uses promises you can use this in routeprovider resolve as restangular returns promises you can return any of the methods in the routeprovider resolve and youll get the real object injected into your controller if you want it doesnt have all those resource bugs restangular doesnt have problem with trailing slashes additional in the url escaping information expecting only arrays for getting lists etc it supports all http methods it supports etag out of the box you dont have to do anything etags and if none match will be used in all of your requests it supports self linking elements if you receive from the server some item that has a link to itself you can use that to query the server instead of writing the url manually you dont have to create one resource object per request each time you want to do a request you can just do it using the object that was returned by restangular you dont need to create a new object for this you dont have to write or remember any url with resource you need to write the url template in here you dont write any urls you just write the name of the resource you want to fetch and thats it it supports nested restful resources if you have nested restful resources restangular can handle them for you you dont have to know the url the path or anything to do all of the http operations you want restangular lets you create your own methods you can create your own methods to run the operation that you want the sky is the limit support for wrapped responses if your response for a list of element actually returns an object with some property inside which has the list its very hard to use resource restangular knows that and it makes it easy on you check out https github com mgonto restangular my response is actually wrapped with some metadata how do i get the data in that case you can build your own urls with restangular objects easily restangular lets you create a restangular object for any url you want with a really nice builder lets see a quick and short example of these features javascript restangular returns promises restangular all users getlist get users then function users returns a list of users scope user users 0 first restangular obj in list id 123 later in the code restangular objects are self aware and know how to make their own restful requests scope user getlist cars get users 123 cars you can also use your own custom methods on restangular objects scope user sendmessage post users 123 sendmessage chain methods together to easily build complex requests scope user one messages 123 one from 123 getlist unread get users 123 messages 123 from 123 unread back to top how do i add this to my project you can download this by using bower and running bower install restangular using npm and running npm install restangular downloading it manually by clicking here to download development unminified version or here to download minified production version using cdnjs cdn files html or use tag number for specific version new versions are auto deployed script type text javascript src http cdnjs cloudflare com ajax libs restangular 1 5 1 restangular js script script type text javascript src http cdnjs cloudflare com ajax libs restangular 1 5 1 restangular min js script back to top dependencies restangular depends on angular and lodash or underscore back to top production apps using restangular each time therere more production webapps using restangular if your webapp uses it and its not in the list please create an issue or submit a pr life360 is using restangular to build the webapp version of their platform thomson reuters is using restangular for the new webapp theyve built quran com is using restangular for their alpha beta app and soon to be main site worldcampus co is using restangular for their beta international students social network entso e transparency platform back to top starter guide quick configuration for lazy readers this is all you need to start using all the basic restangular features javascript add restangular as a dependency to your app angular module your app restangular inject restangular into your controller angular module your app controller mainctrl function scope restangular the restangular service may be injected into any controller or directive note when adding restangular as a dependency it is not capitalized restangular but when injected into your controller it is restangular back to top using restangular creating main restangular object there are 3 ways of creating a main restangular object the first one and most common one is by stating the main route of all requests the second one is by stating the main route and object of all requests javascript only stating main route restangular all accounts stating main object restangular one accounts 1234 gets a list of all of those accounts restangular several accounts 1234 123 12345 back to top lets code now that we have our main object lets start playing with it javascript first way of creating a restangular object just saying the base url var baseaccounts restangular all accounts this will query accounts and return a promise baseaccounts getlist then function accounts scope allaccounts accounts does a get to accounts returns an empty array by default once a value is returned from the server that array is filled with those values so you can use this in your template scope accounts restangular all accounts getlist object var newaccount name gontos account post accounts baseaccounts post newaccount get to http www google com you set the url in this case restangular allurl googlers http www google com getlist get to http www google com 1 you set the url in this case restangular oneurl googlers http www google com 1 get you can do requestless connections if you need as well just one get to accounts 123 buildings 456 restangular one accounts 123 one buildings 456 get just one get to accounts 123 buildings restangular one accounts 123 getlist buildings here we use promises then get accounts baseaccounts getlist then function accounts here we can continue fetching the tree var firstaccount accounts 0 this will query accounts 123 buildings considering 123 is the id of the firstaccount scope buildings firstaccount getlist buildings get accounts 123 places query param with request header x user mgonto scope loggedinplaces firstaccount getlist places query param x user mgonto this is a regular js object we can change anything we want firstaccount name gonto if we wanted to keep the original as it is we can copy it to a new element var editfirstaccount restangular copy firstaccount editfirstaccount name new name put accounts 123 the name of this account will be changed from now on firstaccount put editfirstaccount put put accounts 123 save will do post or put accordingly firstaccount save delete accounts 123 we dont have first account anymore firstaccount remove var mybuilding name gontos building place argentina post accounts 123 buildings with mybuilding information firstaccount post buildings mybuilding then function console log object saved ok function console log there was an error saving get accounts 123 users query params firstaccount getlist users query params then function users instead of posting nested element a collection can post to itself post accounts 123 users users post username unknown custom methods are available now get accounts 123 users messages param myparam users customget messages param myparam var firstuser users 0 get accounts 123 users 456 just in case we want to update one user scope userfromserver firstuser get all http methods are available head accounts 123 users 456 firstuser head function errorcallback alert oops error from server second way of creating restangular object url and id var account restangular one accounts 123 get accounts 123 single true scope account account get single true post accounts 123 messages param myparam with the body of name my message account custompost name my message messages param myparam back to top configuring restangular properties restangular comes with defaults for all of its properties but you can configure them so if you dont need to configure something theres no need to add the configuration you can set all these configurations in restangularprovider or restangular service to change the global configuration or you can use the withconfig method in restangular service to create a new restangular service with some scoped configuration check the section on this later setbaseurl the base url for all calls to your api for example if your url for fetching accounts is http example com api v1 accounts then your baseurl is api v1 the default baseurl is an empty string which resolves to the same url that angularjs is running but you can also set an absolute url like http api example com api v1 if you need to set another domain setextrafields these are the fields that you want to save from your parent resources if you need to display them by default this is an empty array which will suit most cases setparentless use this property to control whether restangularized elements to have a parent or not so for example if you get an account and then get a nested list of buildings you may want the buildings url to be simple buildings 123 instead of accounts 123 buildings 123 this property lets you do that this method accepts 1 parameter it could be boolean specifies if all elements should be parentless or not array specifies the routes types of all elements that should be parentless for example buildings setdefaulthttpfields http from angularjs can receive a bunch of parameters like cache transformrequest and so on you can set all of those properties in the object sent on this setter so that they will be used in every api call made by restangular this is very useful for caching for example all properties that can be set can be checked here http docs angularjs org api ng http parameters addelementtransformer this is a hook after each element has been restangularized added the new methods from restangular the corresponding transformer will be called if it fits this should be used to add your own methods functions to entities of certain types you can add as many element transformers as you want the signature of this method can be one of the following addelementtransformer route transformer transformer is called with all elements that have been restangularized no matter if theyre collections or not addelementtransformer route iscollection transformer transformer is called with all elements that have been restangularized and match the specification regarding if its a collection or not true false settransformonlyserverelements this sets whether transformers will be run for local objects and not by objects returned by the server this is by default true but can be changed to false if needed most people wont need this setonelemrestangularized this is a hook after each element has been restangularized added the new methods from restangular this will be called it means that if you receive a list of objects in one call this method will be called first for the collection and then for each element of the collection i favor the usage of addelementtransformer instead of onelemrestangularized whenever possible as the implementation is much cleaner this callback is a function that has 4 parameters elem the element that has just been restangularized can be a collection or a single element iscollection boolean indicating if this is a collection or a single element what the model that is being modified this is the path of this resource for example buildings restangular the instanced service to use any of its methods this can be used together with addrestangularmethod explained later to add custom methods to an element setresponseinterceptor this is deprecated use addresponseinterceptor since you can add more than one addresponseinterceptor the responseinterceptor is called after we get each response from the server its a function that receives this arguments data the data received got from the server operation the operation made itll be the http method used except for a get which returns a list of element which will return getlist so that you can distinguish them what the model thats being requested it can be for example accounts buildings etc url the relative url being requested for example api v1 accounts 123 response full server response including headers deferred the deferred promise for the request some of the use cases of the responseinterceptor are handling wrapped responses and enhancing response elements with more methods among others the responseinterceptor must return the restangularized data element setrequestinterceptor this is deprecated use addrequestinterceptor since you can add more than one addrequestinterceptor the requestinterceptor is called before sending any data to the server its a function that must return the element to be requested this function receives the following arguments element the element to send to the server operation the operation made itll be the http method used except for a get which returns a list of element which will return getlist so that you can distinguish them what the model thats being requested it can be for example accounts buildings etc url the relative url being requested for example api v1 accounts 123 setfullrequestinterceptor this is deprecated use addfullrequestinterceptor since you can add more than one addfullrequestinterceptor this adds a new fullrequestinterceptor the fullrequestinterceptor is similar to the requestinterceptor but more powerful it lets you change the element the request parameters and the headers as well its a function that receives the same as the requestinterceptor plus the headers and the query parameters in that order it can return an object with any or all of following properties headers the headers to send params the request parameters to send element the element to send httpconfig the httpconfig to call with if a property isnt returned the one sent is used seterrorinterceptor the errorinterceptor is called whenever theres an error its a function that receives the response the deferred for the promise and the restangular response handler as parameters the errorinterceptor function whenever it returns false prevents the promise linked to a restangular request to be executed all other return values besides false are ignored and the promise follows the usual path eventually reaching the success or error hooks the feature to prevent the promise to complete is useful whenever you need to intercept each restangular error response for every request in your angularjs application in a single place increasing debugging capabilities and hooking security features in a single place javascript var refreshaccesstoken function var deferred q defer refresh access token logic return deferred promise restangular seterrorinterceptor function response deferred responsehandler if response status 403 refreshaccesstoken then function repeat the request and then call the handlers the usual way http response config then responsehandler deferred reject be aware that no request interceptors are called this way return false error handled return true error not handled setrestangularfields restangular requires 7 fields for every restangularized element these are id id of the element default id route name of the route of this element default route parentresource the reference to the parent resource default parentresource restangularcollection a boolean indicating if this is a collection or an element default restangularcollection cannonicalid if available the path to the cannonical id to use useful for pk changes etag where to save the etag received from the server defaults to restangularetag selflink the path to the property that has the url to this item if your rest api doesnt return a url to an item you can just leave it blank defaults to href also all of restangular methods and functions are configurable through restangularfields property all of these fields except for id and selflink are handled by restangular so most of the time you wont change them you can configure the name of the property that will be binded to all of this fields by setting restangularfields property setmethodoverriders you can now override http methods you can set here the array of methods to override all those methods will be sent as post and restangular will add an x http method override header with the real http method we wanted to do setjsonp typical web browsers prohibit requesting data from a server in a different domain same origin policy jsonp or json with padding is a communication technique used in javascript programs running in web browsers to get around this for jsonp to work a server must know how to reply with jsonp formatted results jsonp does not work with json formatted results the jsonp parameters passed as arguments to a script are defined by the server by setting the value of setjsonp to true both get and getlist will be performed using jsonp instead of the regular get you will need to add the json callback string to your urls see http jsonp you can use setdefaultrequestparams to accomplish this javascript restangularprovider setdefaultrequestparams jsonp callback json callback setdefaultrequestparams you can set default query parameters to be sent with every request and every method additionally if you want to configure request params per method you can use requestparams configuration similar to http for example restangularprovider requestparams get single true supported method to configure are remove get post put common all javascript set params for multiple methods at once restangular setdefaultrequestparams remove post confirm true set only for get method restangular setdefaultrequestparams get limit 10 or for all supported request methods restangular setdefaultrequestparams apikey secret key setfullresponse you can set fullresponse to true to get the whole response every time you do any request the full response has the restangularized data in the data field and also has the headers and config sent by default its set to false please note that in order for restangular to access custom http headers your server must respond having the access control expose headers set javascript set params for multiple methods at once restangular setfullresponse true or set it per service javascript restangular service that uses setfullresponse app factory restfulresponse function restangular return restangular withconfig function restangularconfigurer restangularconfigurer setfullresponse true lets use it in the controller app controller mainctrl function restangular restfulresponse uses full response configuration restfulresponse all users getlist then function response scope users response data console log response headers setdefaultheaders you can set default headers to be sent with every request send format header name header value javascript set default header token restangularprovider setdefaultheaders token x restangular setrequestsuffix if all of your requests require to send some suffix to work you can set it here for example if you need to send the format like users 123 json you can add that json to the suffix using the setrequestsuffix method setusecannonicalid you can set this to either true or false by default its false if set to true then the cannonical id from the element will be used for url creation in delete put post etc what this means is that if you change the id of the element and then you do a put if you set this to true itll use the old id which was received from the server if set to false itll use the new id assigned to the element setplainbydefault you can set this to true or false by default its false if set to true data retrieved will be returned with no embed methods from restangular setencodeids you can set here if you want to url encode ids or not by default its true back to top accessing configuration you can also access the configuration via restangularprovider and restangular via the configuration property if you dont want to use the setters check it out js restangular configuration requestsuffix back to top how to configure them globally you can configure this in either the config or the run method if your configurations dont need any other services then id recommend you do them in the config if your configurations depend on other services you can configure them in the run using restangular instead of restangularprovider configuring in the config javascript app config function restangularprovider restangularprovider setbaseurl api v1 restangularprovider setextrafields name restangularprovider setresponseextractor function response operation return response data restangularprovider addelementtransformer accounts false function element element accountname changed return element restangularprovider setdefaulthttpfields cache true restangularprovider setmethodoverriders put patch in this case we are mapping the id of each element to the id field we also change the restangular route the default value for parentresource remains the same restangularprovider setrestangularfields id id route restangularroute selflink self href restangularprovider setrequestsuffix json use request interceptor restangularprovider setrequestinterceptor function element operation route url delete element name return element or use the full request interceptor setrequestinterceptors more powerful brother restangularprovider setfullrequestinterceptor function element operation route url headers params httpconfig delete element name return element element params extend params single true headers headers httpconfig httpconfig configuring in the run javascript here i inject the service baseurlcalculator which i need app run function restangular baseurlcalculator restangular setbaseurl baseurlcalculator calculate back to top how to create a restangular service with a different configuration from the global one lets assume that for most requests you need some configuration the global one and for just a bunch of methods you need another configuration in that case youll need to create another restangular service with this particular configuration this scoped configuration will inherit all defaults from the global one lets see how javascript global configuration app config function restangularprovider restangularprovider setbaseurl http www google com restangularprovider setrequestsuffix json restangular service that uses bing app factory bingrestangular function restangular return restangular withconfig function restangularconfigurer restangularconfigurer setbaseurl http www bing com lets use them from a controller app controller mainctrl function restangular bingrestangular get to http www google com users json uses global configuration restangular all users getlist get to http www bing com users json uses bing configuration which is based on global one therefore json is added bingrestangular all users getlist back to top decoupled restangular service therere some times where you want to use restangular but you dont want to expose restangular object anywhere for those cases you can actually use the service feature of restangular lets see how it works js declare factory module factory users function restangular return restangular service users in your controller you inject users users get 2 get to users 2 users one 2 get get to users 2 users post data post to users get to users users getlist then function users var user users 0 user id 1 name tonto user name gonto put to users 1 user put you can also use withhttpconfig on objects created by restangular service js var personservice restangular service person var entity personservice withhttpconfig transformrequest function data data fullname data firstname data lastname return json stringify data post lastname mueller firstname gerd then function resp console log resp we can also use nested restful resources with this js var cars restangular service cars restangular one users 1 cars getlist get to users 1 cars back to top methods description there are 3 sets of methods collections have some methods and elements have others there are are also some common methods for all of them restangular methods these are the methods that can be called on the restangular object one route id this will create a new restangular object that is just a pointer to one element with the route route and the specified id all route this will create a new restangular object that is just a pointer to a list of elements for the specified path oneurl route url this will create a new restangular object that is just a pointer to one element with the specified url allurl route url this creates a restangular object that is just a pointer to a list at the specified url copy fromelement this will create a copy of the from element so that we can modify the copied one restangularizeelement parent element route fromserver collection reqparams restangularizes a new element restangularizecollection parent element route fromserver reqparams restangularizes a new collection back to top element methods get queryparams headers gets the element query params and headers are optionals getlist subelement queryparams headers gets a nested resource subelement is mandatory its a string with the name of the nested resource and url for example buildings put queryparams headers does a put to the current element post subelement elementtopost queryparams headers does a post and creates a subelement subelement is mandatory and is the nested resource element to post is the object to post to the server remove queryparams headers does a delete by default remove sends a request with an empty object which may cause problems with some servers or browsers this shows how to configure restangular to have no payload head queryparams headers does a head trace queryparams headers does a trace options queryparams headers does a options patch object queryparams headers does a patch one route id used for requestless connections and url building see section below all route used for requestless connections and url building see section below several route ids used for requestless connections and url building see section below oneurl route url this will create a new restangular object that is just a pointer to one element with the specified url allurl route url this creates a restangular object that is just a pointer to a list at the specified url getrestangularurl gets the url of the current object getrequestedurl gets the real url the current object was requested with incl get parameters will equal getrestangularurl when no parameters were used before calling get or when using on a nested child getparentlist gets the parent list to which it belongs if any clone copies the element its an alias to calling restangular copy elem plain returns the plain element received from the server without any of the enhanced methods from restangular its an alias to calling restangular striprestangular elem withhttpconfig httpconfig it lets you set a configuration for http only for the next call check the local config http section for an example save calling save will determine whether to do put or post accordingly back to top collection methods getlist queryparams headers gets itself again remember this is a collection get id gets one item from the collection by id post elementtopost queryparams headers creates a new element of this collection head queryparams headers does a head trace queryparams headers does a trace options queryparams headers does a options patch object queryparams headers does a patch remove queryparams headers does a delete by default remove sends a request with an empty object which may cause problems with some servers or browsers this shows how to configure restangular to have no payload putelement idx params headers puts the element on the required index and returns a promise of the updated new array getrestangularurl gets the url of the current object getrequestedurl gets the real url the current object was requested with incl get parameters will equal getrestangularurl when no parameters were used before calling getlist or when using on a nested child one route id used for requestless connections and url building see section below all route used for requestless connections and url building see section below several route ids used for requestless connections and url building see section below oneurl route url this will create a new restangular object that is just a pointer to one element with the specified url allurl route url this creates a restangular object that is just a pointer to a list at the specified url clone copies the collection its an alias to calling restangular copy collection withhttpconfig httpconfig it lets you set a configuration for http only for the next call check the local config http section for an example back to top custom methods customget path params headers does a get to the specific path optionally you can set params and headers customgetlist path params headers does a get to the specific path in this case you expect to get an array not a single element optionally you can set params and headers customdelete path params headers does a delete to the specific path optionally you can set params and headers custompost elem path params headers does a post to the specific path optionally you can set params and headers and elem elem is the element to post if its not set its assumed that its the element itself from which youre calling this function customput elem path params headers does a put to the specific path optionally you can set params and headers and elem elem is the element to post if its not set its assumed that its the element itself from which youre calling this function custompatch elem path params headers does a patch to the specific path accepts the same arguments as customput customoperation operation path params headers elem this does a custom operation to the path that we specify this method is actually used from all the others in this subsection operation can be one of get post put remove head options patch trace addrestangularmethod name operation path params headers elem this will add a new restangular method to this object with the name name to the operation and path specified or current path otherwise theres a section on how to do this later lets see an example of this javascript get accounts 123 messages restangular one accounts 123 customget messages get accounts messages param param2 restangular all accounts customget messages param param2 all custom methods have an alias where you replace custom by do for example customget is equal to doget just pick whatever syntax you prefer back to top copying elements before modifying an object we sometimes want to copy it and then modify the copied object we cant use angular copy for this because itll not change the this bound in the functions we add to the object in this cases you must use restangular copy fromelement back to top enhanced promises restangular uses enhanced promises when returning what does this mean all promises returned now have 2 additional methods and collection promises have 3 these are the methods call methodname params this will return a new promise of the previous value after calling the method called methodname with the parameters params get fieldname this will return a new promise for the type of the field the param of this new promise is the property fieldname from the original promise result push object this method will only be in the promises of arrays its a subset of the call method that does a push object this returns the reference to the object that will be filled once the server responds a value this means that if you call getlist this will be an empty array by default once the array is returned from the server this same object property will get filled with results from the server i know these explanations are quite complicated so lets see an example d javascript var buildings restangular all buildings getlist new promise after adding the new building now you can show in scope this newbuildings promise and itll show all the buildings received from server plus the new one added var newbuildings buildings push name gonto var newbuildingssame buildings call push name gonto this is a promise of a number value you can show it in the ui var lengthpromise buildings get length lengthpromise then function length here the length is the real length value of the returned collection of buildings back to top using values directly in templates since angular 1 2 promise unwrapping in templates has been disabled by default and will be deprecated soon this means that the following will cease to work js scope accounts restangular all accounts getlist html tr ng repeat account in accounts td account name td tr as this was a really handy way of working with restangular ive made a feature similar to resource that will enable this behavior again js scope accounts restangular all accounts getlist object html tr ng repeat account in accounts td account name td tr the object property is a new property ive added to promises by default itll be an empty array or object once the sever has responded with the real value that object or array is filled with the correct response therefore making the ng repeat work pretty neat d back to top using self reference resources a lot of rest apis return the url to self of the element that youre querying you can use that with restangular so that you dont have to create the urls yourself but use the ones provided by the server lets say that when doing a get to people you get the following javascript name martin lastname gontovnikas self link http www example com people gonto name john lastname wayne self link http www example com people jhonny in this case as you can see the url to each element cant be guessed so we need to use that to reference the element restangular supports both relative and absolute urls how do we do this with restangular first we need to configure the path for the link to self for that in the config we do javascript restangularprovider setrestangularfields selflink self link then we can just use this javascript instead of using all we could also use allurl to set a url restangular allurl people http www example com people restangular all people getlist then function people var gonto people 0 gonto name owned this will do a put to http www example com people gonto it uses the self linking property d gonto put back to top url building sometimes we have a lot of nested entities and their ids but we just want the last child in those cases doing a request for everything to get the last child is overkill for those cases ive added the possibility to create urls using the same api as creating a new restangular object this connections are created without making any requests lets see how to do this javascript var restangularspaces restangular one accounts 123 one buildings 456 all spaces this will do one get to accounts 123 buildings 456 spaces restangularspaces getlist this will do one get to accounts 123 buildings 456 spaces 789 restangular one accounts 123 one buildings 456 one spaces 789 get post accounts 123 buildings 456 spaces restangular one accounts 123 one buildings 456 all spaces post name new space delete accounts 123 buildings 456 restangular one accounts 123 one buildings 456 remove back to top using local http configuration therere sometimes when you want to set a specific configuration http configuration just for one restangulars call for that you can use withhttpconfig you must call that method just before doing the http request lets learn how to use it with the following example js restangular one accounts 123 withhttpconfig timeout 100 getlist buildings scope account withhttpconfig timeout 100 put back to top creating new restangular methods lets assume that your api needs some custom methods to work if thats the case always calling customget or custompost for that method with all parameters is a pain in the ass thats why every element has a addrestangularmethod method this can be used together with the hook addelementtransformer to do some neat stuff lets see an example to learn this javascript in your app configuration config method it will transform all building elements not collections restangularprovider addelementtransformer buildings false function building this will add a method called evaluate that will do a get to path evaluate with no default query params and with some default header signature is name operation path params headers elementtopost building addrestangularmethod evaluate get evaluate undefined myheader value return building restangularprovider addelementtransformer users true function user this will add a method called login that will do a post to the path login signature is name operation path params headers elementtopost user addrestangularmethod login post login return user then later in your code you can do the following get to buildings 123 evaluate myparam param with headers myheader value signature for this custom created methods is params headers elem if its a safe operation get options etc if its an unsafe operation post put etc signature is elem params headers if something is set to any of this variables the default set in the method creation will be overridden if nothing is set then the defaults are sent restangular one buildings 123 evaluate myparam param get to buildings 123 evaluate myparam param with headers myheader specialheadercase restangular one buildings 123 evaluate myparam param myheader specialheadercase here the body of the post is going to be key value as post is an unsafe operation restangular all users login key value back to top adding custom methods to collections create custom methods for your collection using restangular extendcollection this is an alias for js restangular addelementtransformer route true fn example js create methods for your collection restangular extendcollection accounts function collection collection totalamount function implementation here return collection var accountspromise restangular all accounts getlist accountspromise then function accounts accounts totalamount invoke your custom collection method back to top adding custom methods to models create custom methods for your models using restangular extendmodel this is an alias for js restangular addelementtransformer route false fn back to top example js restangular extendmodel accounts function model model prettifyamount function return model var accountpromise restangular one accounts 1 get accountpromise then function account account prettifyamount invoke your custom model method back to top faq how can i handle errors errors can be checked on the second argument of the then javascript restangular all accounts getlist then function console log all ok function response console log error with status code response status i need to send one header in every restangular request how do i do this you can use defaultheaders property for this or httpprovider defaults headers whichever suits you better defaultsheaders can be scoped with withconfig so its really cool can i cache requests http can cache requests if you send the property cache to true you can do that for every restangular request by using defaulthttpfields property this is the way javascript restangularprovider setdefaulthttpfields cache true can it be used in routeprovider resolve yes of course every method in restangular returns a promise so this can be used without any problem how can i send a delete without a body you must add a requestinterceptor for this js restangularprovider setrequestinterceptor function elem operation if operation remove return null return elem my response is actually wrapped with some metadata how do i get the data in that case so lets assume that your data is the following javascript when getting the list this is the response status success data data id 1 more data meta totalrecord 100 when getting a single element this is the response status success data id 1 more data in this case youd need to use restangularproviders addresponseinterceptor see the following javascript app config function restangularprovider add a response interceptor restangularprovider addresponseinterceptor function data operation what url response deferred var extracteddata to look for getlist operations if operation getlist and handle the data and meta data extracteddata data data data extracteddata meta data data meta else extracteddata data data return extracteddata i use mongo and the id of the elements is id not id as the default therefore requests are sent to undefined routes what you need to do is to configure the restangularfields and set the id field to id lets see how javascript restangularprovider setrestangularfields id id what if each of my models has a different id name like customerid for customer in some cases people have different id name for each entity for example they have customerid for customer and equipmentid for equipment if thats the case you can override restangulars getidfromelem for that you need to do js restangularprovider configuration getidfromelem function elem if route is customers returns customerid return elem initial elem route join id with that youd get what you need how can i send files in my request using restangular this can be done using the custompost customput method look at the following example js restangular all users withhttpconfig transformrequest angular identity custompost formdata undefined undefined content type undefined this basically tells the request to use the content type multipart form data as the header also formdata is the body of the request be sure to add all the params here including the file you want to send of course there is an issue already closed but with a lot of information from other users and mgonto as well github restangular how do i handle crud operations in a list returned by restangular the best option for doing crud operations with a list is to actually use the real list and not the promise it makes it easy to interact with it lets see an example javascript here we use then to resolve the promise restangular all users getlist then function users scope users users var userwithid find users function user return user id 123 userwithid name gonto userwithid put alternatively delete the element from the list when finished userwithid remove then function updating the list and removing the user after the response is ok scope users without scope users userwithid when you actually get a list by doing javascript scope owners house getlist owners object youre actually assigning a promise to the owners value of the scope as angular knows how to process promises if in your view you do an ng repeat of this scope variable results will be shown once the promise is resolved response arrived however changes to that promise that you do from your html wont be seen in the scope as its not a real array its just a promise of an array removing an element from a collection keeping the collection restangularized while the example above removes the deleted user from the collection it also overwrites the collection object with a plain array because of without which no longer knows about its restangular attributes if want to keep the restangularized collection remove the element by modifying the collection in place javascript userwithid remove then function var index scope users indexof userwithid if index 1 scope users splice index 1 when i set baseurl with a port its stripped out it wont be stripped out anymore as ive ditched resource now you can happily put the port how can i access the unrestangularized element as well as the restangularized one in order to get this done you need to use the responseextractor you need to set a property there that will point to the original response received also you need to actually copy this response as that response is the one thats going to be restangularized later javascript restangularprovider setresponseextractor function response var newresponse response if angular isarray response angular foreach newresponse function value key newresponse key originalelement angular copy value else newresponse originalelement angular copy response return newresponse alternatively if you just want the stripped out response on any given call you can use the plain method doing something like this javascript scope showdata function baseurl post somedata then function response console log response plain addendum if you want originalelement to be the original response object instead of having an original value for each key in your newresponse array replace newresponse key originalelement angular copy value by newresponse originalelement key angular copy value restangular fails with status code 0 this is typically caused by cross origin request policy in order to enable cross domain communication and get correct response with appropriate status codes you must have the cors headers attached even in error responses if the server does not attach the cors headers to the response then the xhr object wont parse it thus the xhr object wont have any response body status or any other response data inside which typically will cause your request to fail with status code 0 why does this depend on lodash underscore this is a very good question i couldve done the code so that i dont depend on underscore nor lodash but i think both libraries make your life so much easier they have all of the functional stuff like map reduce filter find etc with these libraries you always work with immutable stuff you get compatibility for browsers which dont implement ecma5 nor some of these cool methods and theyre actually quicker so why not use it if youve never heard of them by using restangular you could start using them trust me youre never going to give them up after this back to top how do i cancel a request sometimes you may wish to cancel a request this is how you would do it var canceler q defer restangular all users withhttpconfig timeout canceler promise get canceler resolve cancels the request this is a little counterintuitive so let me explain restangular is built on top of http which takes a timeout parameter as per the http docs timeout in milliseconds or promise that should abort the request when resolved resolving the promise canceler in this case will cancel the request back to top supported angular versions restangular supports all angular versions from 1 0 x 1 5 x also when using restangular with version 1 1 4 in case youre using restangular inside a callback not handled by angular you have to wrap the whole request with scope apply to make it work or you need to run one extra digest manually check out https github com mgonto restangular issues 71 back to top server frameworks users reported that this server frameworks play real nice with restangular as they let you create a nested restful resources api easily ruby on rails cakephp laravel and fatfree symfony2 with restbundle silex for php play1 2 for java scala dropwizard for java restify and express for nodejs tastypie and django rest framework for django slim framework symfony2 with fosrestbundle php microsoft asp net web api 2 grails framework example back to top releases notes new releases notes are together with releases in github at https github com mgonto restangular releases to see old releases notes you can click here back to top contributors martin gontovnikas mgonto paul dijou paul dijou back to top license the mit license copyright c 2014 martin gontovnikas http www gon to permission is hereby granted free of charge to any person obtaining a copy of this software and associated documentation files the software to deal in the software without restriction including without limitation the rights to use copy modify merge publish distribute sublicense and or sell copies of the software and to permit persons to whom the software is furnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in all copies or substantial portions of the software the software is provided as is without warranty of any kind express or implied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall the authors or copyright holders be liable for any claim damages or other liability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in the software back to top