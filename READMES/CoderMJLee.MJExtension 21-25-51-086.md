mjextension a fast convenient and nonintrusive conversion framework between json and model 转换速度快、使用简单方便的字典转模型框架 github：codermjlee ｜ blog：mjios chinese ｜ pr is welcome，or feedback contents getting started 【开始使用】 features 【能做什么】 installation 【安装】 examples 【示例】 json model jsonstring model model contains model model contains model array model name json key mapping json array model array model json model array json array core data coding camel underline nsstring nsdate nil more use cases getting started【开始使用】 features【能做什么】 mjextension是一套字典和模型之间互相转换的超轻量级框架 json model、core data model jsonstring model、core data model model、core data model json json array model array、core data model array jsonstring model array、core data model array model array、core data model array json array coding all properties of a model with only one line of code 只需要一行代码，就能实现模型的所有属性进行coding（归档和解档） installation【安装】 from cocoapods【使用cocoapods】 ruby pod mjextension manually【手动导入】 drag all source files under folder mjextension to your project 【将mjextension文件夹中的所有源代码拽入项目中】 import the main header file： import mjextension h 【导入主头文件： import mjextension h 】 objc mjextension h mjconst h mjconst m mjfoundation h mjfoundation m mjproperty h mjproperty m mjtype h mjtype m nsobject mjcoding h nsobject mjcoding m nsobject mjproperty h nsobject mjproperty m nsobject mjkeyvalue h nsobject mjkeyvalue m examples【示例】 the most simple json model【最简单的字典转模型】 objc typedef enum sexmale sexfemale sex interface user nsobject property copy nonatomic nsstring name property copy nonatomic nsstring icon property assign nonatomic unsigned int age property copy nonatomic nsstring height property strong nonatomic nsnumber money property assign nonatomic sex sex property assign nonatomic getter isgay bool gay end nsdictionary dict name jack icon lufy png age 20 height 1 55 money 100 9 sex sexfemale gay true gay 1 gay no json user user user user mj objectwithkeyvalues dict nslog name icon age zd height money sex d gay d user name user icon user age user height user money user sex user gay name jack icon lufy png age 20 height 1 550000 money 100 9 sex 1 jsonstring model【json字符串转模型】 objc 1 define a jsonstring nsstring jsonstring \ name\ \ jack\ \ icon\ \ lufy png\ \ age\ 20 2 jsonstring user user user user mj objectwithkeyvalues jsonstring 3 print users properties nslog name icon age d user name user icon user age name jack icon lufy png age 20 model contains model【模型中嵌套模型】 objc interface status nsobject property copy nonatomic nsstring text property strong nonatomic user user property strong nonatomic status retweetedstatus end nsdictionary dict text agree nice weather user name jack icon lufy png retweetedstatus text nice weather user name rose icon nami png json status status status status mj objectwithkeyvalues dict nsstring text status text nsstring name status user name nsstring icon status user icon nslog text name icon text name icon text agree nice weather name jack icon lufy png nsstring text2 status retweetedstatus text nsstring name2 status retweetedstatus user name nsstring icon2 status retweetedstatus user icon nslog text2 name2 icon2 text2 name2 icon2 text2 nice weather name2 rose icon2 nami png model contains model array【模型中有个数组属性，数组里面又要装着其他模型】 objc interface ad nsobject property copy nonatomic nsstring image property copy nonatomic nsstring url end interface statusresult nsobject contatins status model property strong nonatomic nsmutablearray statuses contatins ad model property strong nonatomic nsarray ads property strong nonatomic nsnumber totalnumber end tell mjextension what type of model will be contained in statuses and ads statusresult mj setupobjectclassinarray nsdictionary return statuses status statuses status class ads ad ads ad class equals statusresult m implements mj objectclassinarray method nsdictionary dict statuses text nice weather user name rose icon nami png text go camping tomorrow user name jack icon lufy png ads image ad01 png url http www ad01 com image ad02 png url http www ad02 com totalnumber 2014 json statusresult statusresult result statusresult mj objectwithkeyvalues dict nslog totalnumber result totalnumber totalnumber 2014 printing for status status in result statuses nsstring text status text nsstring name status user name nsstring icon status user icon nslog text name icon text name icon text nice weather name rose icon nami png text go camping tomorrow name jack icon lufy png printing for ad ad in result ads nslog image url ad image ad url image ad01 png url http www ad01 com image ad02 png url http www ad02 com model name json key mapping【模型中的属性名和字典中的key不相同 或者需要多级映射 】 objc interface bag nsobject property copy nonatomic nsstring name property assign nonatomic double price end interface student nsobject property copy nonatomic nsstring id property copy nonatomic nsstring desc property copy nonatomic nsstring nowname property copy nonatomic nsstring oldname property copy nonatomic nsstring namechangedtime property strong nonatomic bag bag end how to map student mj setupreplacedkeyfrompropertyname nsdictionary return id id desc description oldname name oldname nowname name newname namechangedtime name info 1 namechangedtime bag other bag equals student m implements mj replacedkeyfrompropertyname method nsdictionary dict id 20 description kids name newname lufy oldname kitty info test data namechangedtime 2013 08 other bag name a red bag price 100 7 json student student stu student mj objectwithkeyvalues dict printing nslog id desc oldname nowname namechangedtime stu id stu desc stu oldname stu nowname stu namechangedtime id 20 desc kids oldname kitty nowname lufy namechangedtime 2013 08 nslog bagname bagprice f stu bag name stu bag price bagname a red bag bagprice 100 700000 json array model array【将一个字典数组转成模型数组】 objc nsarray dictarray name jack icon lufy png name rose icon nami png json array user array nsarray userarray user mj objectarraywithkeyvaluesarray dictarray printing for user user in userarray nslog name icon user name user icon name jack icon lufy png name rose icon nami png model json【将一个模型转成字典】 objc new model user user user alloc init user name jack user icon lufy png status status status alloc init status user user status text nice mood status json nsdictionary statusdict status mj keyvalues nslog statusdict text nice mood user icon lufy png name jack more complex situation student stu student alloc init stu id 123 stu oldname rose stu nowname jack stu desc handsome stu namechangedtime 2018 09 08 bag bag bag alloc init bag name a red bag bag price 205 stu bag bag nsdictionary studict stu mj keyvalues nslog studict id 123 bag name \u5c0f\u4e66\u5305 price 205 desc handsome namechangedtime 2018 09 08 nowname jack oldname rose model array json array【将一个模型数组转成字典数组】 objc new model array user user1 user alloc init user1 name jack user1 icon lufy png user user2 user alloc init user2 name rose user2 icon nami png nsarray userarray user1 user2 model array json array nsarray dictarray user mj keyvaluesarraywithobjectarray userarray nslog dictarray icon lufy png name jack icon nami png name rose core data objc nsdictionary dict name jack icon lufy png age 20 height 1 55 money 100 9 sex sexfemale gay true this demo just provide simple steps nsmanagedobjectcontext context nil user user user mj objectwithkeyvalues dict context context context save nil coding objc import mjextension h implementation bag nscoding implementation mjextensioncodingimplementation end what properties not to be coded bag mj setupignoredcodingpropertynames nsarray return name equals bag m implements mj ignoredcodingpropertynames method create model bag bag bag alloc init bag name red bag bag price 200 8 nsstring file nshomedirectory stringbyappendingpathcomponent desktop bag data encoding nskeyedarchiver archiverootobject bag tofile file decoding bag decodedbag nskeyedunarchiver unarchiveobjectwithfile file nslog name price f decodedbag name decodedbag price name null price 200 800000 camel underline【统一转换属性名（比如驼峰转下划线）】 objc dog import mjextension h implementation dog nsstring mj replacedkeyfrompropertyname121 nsstring propertyname nickname nick name return propertyname mj underlinefromcamel end nsdictionary nsdictionary dict nick name 旺财 sale price 10 5 run speed 100 9 nsdictionary dog dog dog dog mj objectwithkeyvalues dict printing nslog nickname scaleprice f runspeed f dog nickname dog saleprice dog runspeed nsstring nsdate nil 【过滤字典的值（比如字符串日期处理为nsdate、字符串nil处理为 ）】 objc book import mjextension h implementation book id mj newvaluefromoldvalue id oldvalue property mjproperty property if property name isequaltostring publisher if oldvalue nil return else if property type typeclass nsdate class nsdateformatter fmt nsdateformatter alloc init fmt dateformat yyyy mm dd return fmt datefromstring oldvalue return oldvalue end nsdictionary nsdictionary dict name 5分钟突破ios开发 publishedtime 2011 09 10 nsdictionary book book book book mj objectwithkeyvalues dict printing nslog name publisher publishedtime book name book publisher book publishedtime more use cases【更多用法】 please reference to nsobject mjkeyvalue h and nsobject mjcoding h 期待 如果在使用过程中遇到bug，希望你能issues我，谢谢（或者尝试下载最新的框架代码看看bug修复没有） 如果在使用过程中发现功能不够用，希望你能issues我，我非常想为这个框架增加更多好用的功能，谢谢 如果你想为mjextension输出代码，请拼命pull requests我