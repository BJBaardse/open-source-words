hackathon starter live demo https hackathon starter 2018 herokuapp com jump to whats new a boilerplate for node js web applications if you have attended any hackathons in the past then you know how much time it takes to get a project started decide on what to build pick a programming language pick a web framework pick a css framework a while later you might have an initial project up on github and only then can other team members start contributing or how about doing something as simple as sign in with facebook authentication you can spend hours on it if you are not familiar with how oauth 2 0 works when i started this project my primary focus was on simplicity and ease of use i also tried to make it as generic and reusable as possible to cover most use cases of hackathon web apps without being too specific in the worst case you can use this as a learning guide for your projects if for example you are only interested in sign in with google authentication and nothing else testimonials “nice that readme alone is already gold ” — adrian le bas “awesome simply awesome ” — steven rueter “im using it for a year now and many projects its an awesome boilerplate and the project is well maintained ” — kevin granger “small world with sahats project we were using his hackathon starter for our hackathon this past weekend and got some prizes really handy repo ” — interview candidate for one of the companies i used to work with modern theme flatly bootstrap theme api examples table of contents features prerequisites getting started obtaining api keys project structure list of packages useful tools and resources recommended design resources recommended node js libraries recommended client side libraries pro tips faq how it works cheatsheets es6 javascript date mongoose cheatsheet deployment docker changelog contributing license features local authentication using email and password oauth 1 0a authentication via twitter oauth 2 0 authentication via facebook google github linkedin instagram flash notifications mvc project structure node js clusters support sass stylesheets auto compiled via middleware bootstrap 4 extra themes contact form powered by mailgun sendgrid or mandrill account management gravatar profile details change password forgot password reset password link multiple oauth strategies to one account delete account csrf protection api examples facebook foursquare last fm tumblr twitter stripe linkedin and more prerequisites mongodb node js 8 0 command line tools mac os x xcode or os x 10 9 xcode select install windows visual studio or visaul studio code windows subsystem for linux ubuntu ubuntu linux mint sudo apt get install build essential fedora sudo dnf groupinstall development tools opensuse sudo zypper install type pattern devel basis note if you are new to node or express i recommend to watch node js and express 101 screencast by alex ford that teaches node and express from scratch alternatively here is another great tutorial for complete beginners getting started with node js express mongodb getting started the easiest way to get started is to clone the repository bash get the latest snapshot git clone https github com sahat hackathon starter git myproject change directory cd myproject install npm dependencies npm install then simply start your app node app js warning if you want to use some api that need https to work for example pinterest or facebook you will need to download ngrok you must start ngrok after starting the project bash start ngrok to intercept the data exchanged on port 8080 ngrok http 8080 next you must use the https url defined by ngrok for example https hackaton ngrok io note i highly recommend installing nodemon it watches for any changes in your node js app and automatically restarts the server once installed instead of node app js use nodemon app js it will save you a lot of time in the long run because you wont need to manually restart the server each time you make a small change in code to install run sudo npm install g nodemon obtaining api keys to use any of the included apis or oauth authentication methods you will need to obtain appropriate credentials client id client secret api key or username password you will need to go through each provider to generate new credentials hackathon starter 2 0 update i have included dummy keys and passwords for all api examples to get you up and running even faster but dont forget to update them with your credentials when you are ready to deploy an app visit google cloud console click on the create project button enter project name then click on create button then click on apis auth in the sidebar and select api tab click on google api under social apis then click enable api next under apis auth in the sidebar click on credentials tab click on create new client id button select web application and click on configure consent screen fill out the required fields then click on save in the create client id modal dialog application type web application authorized javascript origins http localhost 8080 authorized redirect uri http localhost 8080 auth google callback click on create client id button copy and paste client id and client secret keys into env note when you ready to deploy to production dont forget to add your new url to authorized javascript origins and authorized redirect uri e g http my awesome app herokuapp com and http my awesome app herokuapp com auth google callback respectively the same goes for other providers visit facebook developers click my apps then select add a new app from the dropdown menu enter a new name for your app click on the create app id button find the facebook login product and click on facebook login instead of going through their quickstart click on settings for your app in the top left corner copy and paste app id and app secret keys into env note app id is facebook id app secret is facebook secret in env enter localhost under app domains choose a category that best describes your app click on add platform and select website enter http localhost 8080 under site url click on the settings tab in the left nav under facebook login enter http localhost 8080 auth facebook callback under valid oauth redirect uris note after a successful sign in with facebook a user will be redirected back to home page with appended hash in the url it is not a bug see this stack overflow discussion for ways to handle it go to account settings select developer settings from the sidebar then inside click on register new application enter application name and homepage url for authorization callback url http localhost 8080 auth github callback click register application now copy and paste client id and client secret keys into env file sign in at https apps twitter com click create a new application enter your application name website and description for callback url http 127 0 0 1 8080 auth twitter callback go to settings tab under application type select read and write access check the box allow this application to be used to sign in with twitter click update this twitters applications settings copy and paste consumer key and consumer secret keys into env file sign in at linkedin developer network from the account name dropdown menu select api keys it may ask you to sign in once again click add new application button fill out all the required fields oauth 2 0 redirect urls http localhost 8080 auth linkedin callback javascript api domains http localhost 8080 for default application permissions make sure at least the following is checked r basicprofile finish by clicking add application button copy and paste api key and secret key keys into env file api key is your clientid secret key is your clientsecret sign up or log into your dashboard click on your profile and click on account settings then click on api keys copy the secret key and add this into env file visit paypal developer log in to your paypal account click applications create app in the navigation bar enter application name then click create app copy and paste client id and secret keys into env file app id is client id app secret is client secret change host to api paypal com if you want to test against production and use the live credentials go to foursquare for developers click on my apps in the top menu click the create a new app button enter app name welcome page url for redirect uri http localhost 8080 auth foursquare callback click save changes copy and paste client id and client secret keys into env file go to http www tumblr com oauth apps once signed in click register application fill in all the details for default callback url http localhost 8080 auth tumblr callback click ✔register copy and paste oauth consumer key and oauth consumer secret keys into env file go to http steamcommunity com dev apikey sign in with your existing steam account enter your domain name then and click register copy and paste key into env file go to https sendgrid com user signup sign up and confirm your account via the activation email then enter your sendgrid username and password into env file go to http www mailgun com sign up and add your domain name from the domain overview copy and paste the default smtp login and password into env file go to https www twilio com try twilio sign up for an account once logged into the dashboard expand the link show api credentials copy your account sid and auth token project structure name description config passport js passport local and oauth strategies plus login middleware controllers api js controller for api route and all api examples controllers contact js controller for contact form controllers home js controller for home page index controllers user js controller for user account management models user js mongoose schema and model for user public static assets fonts css js img public js application js specify client side javascript dependencies public js main js place your client side javascript here public css main scss main stylesheet for your app public css themes default scss some bootstrap overrides to make it look prettier views account templates for login password reset signup profile views api templates for api examples views partials flash pug error info and success flash notifications views partials header pug navbar partial template views partials footer pug footer partial template views layout pug base template views home pug home page template dockerignore folder and files ignored by docker usage env example your api keys tokens passwords and database uri eslintrc rules for eslint linter gitignore folder and files ignored by git travis yml configuration files for continue integration app js the main application file docker compose yml docker compose configuration file dockerfile docker configuration file package json npm dependencies package lock json contains exact versions of npm dependencies in package json note there is no preference how you name or structure your views you could place all your templates in a top level views directory without having a nested folder structure if that makes things easier for you just dont forget to update extends layout and corresponding res render paths in controllers list of packages package description octokit rest github api library bcrypt nodejs library for hashing and salting user passwords body parser node js body parsing middleware chai bdd tdd assertion library chalk terminal string styling done right cheerio scrape web pages using jquery style syntax clockwork clockwork sms api library compression node js compression middleware connect mongo mongodb session store for express dotenv loads environment variables from env file errorhandler development only error handler middleware eslint linter javascript eslint config airbnb base configuration eslint by airbnb eslint plugin chai friendly makes eslint friendly towards chai js expect and should statements eslint plugin import eslint plugin with rules that help validate proper imports express node js web framework express flash provides flash messages for express express session simple session middleware for express express status monitor reports real time server metrics for express express validator easy form validation for express fbgraph facebook graph api library instagram node instagram api library lastfm last fm api library lob lob api library lusca csrf middleware mocha test framework mongoose mongodb odm morgan http request logger middleware for node js multer node js middleware for handling multipart form data node foursquare foursquare api library node linkedin linkedin api library node sass node js bindings to libsass node sass middleware sass middleware compiler nyc coverage test nodemailer node js library for sending emails passport simple and elegant authentication library for node js passport facebook sign in with facebook plugin passport github sign in with github plugin passport google oauth sign in with google plugin passport instagram sign in with instagram plugin passport linkedin oauth2 sign in with linkedin plugin passport local sign in with username and password plugin passport openid sign in with openid plugin passport oauth allows you to set up your own oauth 1 0a and oauth 2 0 strategies passport twitter sign in with twitter plugin paypal rest sdk paypal apis library pug jade template engine for express request simplified http request library sinon test spies stubs and mocks for javascript sinon mongoose extend sinon stubs for mongoose methods to test chained methods easily stripe offical stripe api library supertest http assertion library tumblr js tumblr api library twilio twilio api library twit twitter api library validator used in conjunction with express validator in controllers api js useful tools and resources javascripting the database of javascript libraries js recipes javascript tutorials for backend and frontend development html to pug converter html to pug is a free online converter helping you to convert html files to pug syntax in realtime javascriptoo a directory of javascript libraries with examples cdn links statistics and videos favicon generator generate favicons for pc android ios windows 8 recommended design resources code guide standards for developing flexible durable and sustainable html and css bootsnipp code snippets for bootstrap uibox curated html css js ui components bootstrap zero free bootstrap templates themes google bootstrap google styled theme for bootstrap font awesome icons its already part of the hackathon starter so use this page as a reference colors a nicer color palette for the web creative button styles awesome button styles creative link effects beautiful link effects in css medium scroll effect fade in out header background image as you scroll geopattern svg background pattern generator trianglify svg low poly background pattern generator recommended node js libraries nodemon automatically restart node js server on code changes geoip lite geolocation coordinates from ip address filesize js pretty file sizes e g filesize 265318 265 32 kb numeral js library for formatting and manipulating numbers node inspector node js debugger based on chrome developer tools node taglib library for reading the meta data of several popular audio formats sharp node js module for resizing jpeg png webp and tiff images recommended client side libraries framework7 full featured html framework for building ios7 apps instantclick makes your pages load instantly by pre loading them on mouse hover nprogress js slim progress bars like on youtube and medium hover awesome css3 animations on mouse hover magnific popup responsive jquery lightbox plugin jquery raty star rating plugin headroom js hide your header until you need it x editable edit form elements inline offline js detect when users internet connection goes offline alertify js sweet looking alerts and browser dialogs selectize js styleable select elements and input tags drop js powerful javascript and css library for creating dropdowns and other floating displays scrollreveal js declarative on scroll reveal animations pro tips when installing an npm package add a save flag and it will be automatically added to package json as well for example npm install save moment use async parallel when you need to run multiple asynchronous tasks and then render a page but only when all tasks are completed for example you might want to scrape 3 different websites for some data and render the results in a template after all 3 websites have been scraped need to find a specific object inside an array use find function from lodash for example this is how you would retrieve a twitter token from database var token find req user tokens kind twitter where 1st parameter is an array and a 2nd parameter is an object to search for faq why do i get 403 error forbidden when submitting a form you need to add the following hidden input element to your form this has been added in the pull request 40 as part of the csrf protection input type hidden name csrf value csrf note it is now possible to whitelist certain urls in other words you can specify a list of routes that should bypass csrf verification check note 2 to whitelist dynamic urls use regular expression tests inside the csrf middleware to see if req originalurl matches your desired pattern i am getting mongodb connection error how do i fix it thats a custom error message defined in app js to indicate that there was a problem connecting to mongodb js mongoose connection on error console error mongodb connection error please make sure mongodb is running you need to have a mongodb server running before launching app js you can download mongodb here or install it via a package manager windows users read install mongodb on windows tip if you are always connected to the internet you could just use mlab or compose instead of downloading and installing mongodb locally you will only need to update database credentials in env file i get an error when i deploy my app why chances are you havent changed the database uri in env if mongodb is set to localhost it will only work on your machine as long as mongodb is running when you deploy to heroku openshift or some other provider you will not have mongodb running on localhost you need to create an account with mlab or compose then create a free tier database see deployment for more information on how to setup an account and a new database step by step with mlab why pug jade instead of handlebars when i first started this project i didnt have any experience with handlebars since then i have worked on ember js apps and got myself familiar with the handlebars syntax while it is true handlebars is easier because it looks like good old html i have no regrets picking jade over handlebars first off its the default template engine in express so someone who has built express apps in the past already knows it secondly i find extends and block to be indispensable which as far as i know handlebars does not have out of the box and lastly subjectively speaking jade looks much cleaner and shorter than handlebars or any non haml style for that matter why do you have all routes defined in app js for the sake of simplicity while there might be a better approach such as passing app context to each controller as outlined in this blog i find such style to be confusing for beginners it took me a long time to grasp the concept of exports and module exports let alone having a global app reference in other files that to me is a backward thinking the app js is the heart of the app it should be the one referencing models routes controllers etc when working solo on small projects i actually prefer to have everything inside app js as is the case with this rest api server why is there no mozilla persona as a sign in option if you would like to use persona authentication strategy use the pull request 64 as a reference guide i have explained my reasons why it could not be merged in issue 63 how do i switch sendgrid for another email delivery service like mailgun or sparkpost inside the nodemailer createtransport method arguments simply change the service from sendgrid to some other email service also be sure to update both username and password below that see the list of all supported services by nodemailer how it works mini guides this section is intended for giving you a detailed explanation about how a particular functionality works maybe you are just curious about how it works or maybe you are lost and confused while reading the code i hope it provides some guidance to you custom html and css design 101 html5 up has many beautiful templates that you can download for free when you download the zip file it will come with index html images css and js folders so how do you integrate it with hackathon starter hackathon starter uses bootstrap css framework but these templates do not trying to use both css files at the same time will likely result in undesired effects note using the custom templates approach you should understand that you cannot reuse any of the views i have created layout home page api browser login signup account management contact those views were built using bootstrap grid and styles you will have to manually update the grid using a different syntax provided in the template having said that you can mix and match if you want to do so use bootstrap for main app interface and a custom template for a landing page lets start from the beginning for this example i will use escape velocity template note for the sake of simplicity i will only consider index html and skip left sidebar html no sidebar html right sidebar html move all javascript files from html5up escape velocity js to public js then move all css files from html5up escape velocity css to public css and finally move all images from html5up escape velocity images to public images you could move it to the existing img folder but that would require manually changing every img reference grab the contents of index html and paste it into html to pug note do not forget to update all the css and js paths accordingly create a new file escape velocity pug and paste the pug markup in views folder whenever you see the code res render account login that means it will search for views account login pug file lets see how it looks create a new controller escapevelocity inside controllers home js js exports escapevelocity req res res render escape velocity title landing page and then create a route in app js i placed it right after the index controller js app get escape velocity homecontroller escapevelocity restart the server if you are not using nodemon then you should see the new template at http localhost 8080 escape velocity i will stop right here but if you would like to use this template as more than just a single page take a look at how these pug templates work layout pug base template index pug home page partials header pug bootstrap navbar partials footer pug sticky footer you will have to manually break it apart into smaller pieces figure out which part of the template you want to keep the same on all pages thats your new layout pug then each page that changes be it index pug about pug contact pug will be embedded in your new layout pug via block content use existing templates as a reference this is a rather lengthy process and templates you get from elsewhere might have yet another grid system thats why i chose bootstrap for the hackathon starter many people are already familiar with bootstrap plus its easy to get started with it if you have never used bootstrap you can also buy many beautifully designed bootstrap themes at themeforest and use them as a drop in replacement for hackathon starter however if you would like to go with a completely custom html css design this should help you to get started how do flash messages work in this project flash messages allow you to display a message at the end of the request and access it on next request and only next request for instance on a failed login attempt you would display an alert with some error message but as soon as you refresh that page or visit a different page and come back to the login page that error message will be gone it is only displayed once this project uses express flash module for flash messages and that module is built on top of connect flash which is what i used in this project initially with express flash you dont have to explicitly send a flash message to every view inside res render all flash messages are available in your views via messages object by default thanks to express flash flash messages have a two step process you use req flash errors msg error messages goes here to create a flash message in your controllers and then display them in your views pug if messages errors alert alert danger fade in for error in messages errors div error msg in the first step errors is the name of a flash message which should match the name of the property on messages object in your views you place alert messages inside if message errors because you dont want to show them flash messages are actually present the reason why you pass an error like msg error messages goes here instead of just a string error messages goes here is for the sake of consistency to clarify that express validator module which is used for validating and sanitizing users input returns all errors as an array of objects where each object has a msg property with a message why an error has occurred here is a more general example of what express validator returns when there are errors present js param name msg name is required value received input param email msg a valid email is required value received input to keep consistent with that style you should pass all flash messages as msg my flash message instead of a string otherwise you will just see an alert box without an error message that is because in partials flash pug template it will try to output error msg i e my flash message msg in other words it will try to call a msg method on a string object which will return undefined everything i just mentioned about errors also applies to info and success flash messages and you could even create a new one yourself such as data usage controller example req flash warning msg you have exceeded 90 of your data usage user account page example pug if messages warning alert alert warning fade in for warning in messages warning div warning msg partials flash pug is a partial template that contains how flash messages are formatted previously flash messages were scattered throughout each view that used flash messages contact login signup profile but now thankfully it is uses a dry approach the flash messages partial template is included in the layout pug along with footer and navigation pug body include partials header container include partials flash block content include partials footer if you have any further questions about flash messages please feel free to open an issue and i will update this mini guide accordingly or send a pull request if you would like to include something that i missed how do i create a new page a more correct way to be to say how do i create a new route the main file app js contains all the routes each route has a callback function associated with it sometimes you will see 3 or more arguments to routes in cases like that the first argument is still a url string while middle arguments are whats called middleware think of middleware as a door if this door prevents you from continuing forward you wont get to your callback function one such example is a route that requires authentication js app get account passportconfig isauthenticated usercontroller getaccount it always goes from left to right a user visits account page then isauthenticated middleware checks if you are authenticated js exports isauthenticated req res next if req isauthenticated return next res redirect login if you are authenticated you let this visitor pass through your door by calling return next it then proceeds to the next middleware until it reaches the last argument which is a callback function that typically renders a template on get requests or redirects on post requests in this case if you are authenticated you will be redirected to account management page otherwise you will be redirected to login page js exports getaccount req res res render account profile title account management express js has app get app post app put app delete but for the most part you will only use the first two http verbs unless you are building a restful api if you just want to display a page then use get if you are submitting a form sending a file then use post here is a typical workflow for adding new routes to your application lets say we are building a page that lists all books from database step 1 start by defining a route js app get books bookcontroller getbooks note as of express 4 x you can define you routes like so js app route books get bookcontroller getbooks post bookcontroller createbooks put bookcontroller updatebooks delete bookcontroller deletebooks and here is how a route would look if it required an authentication and an authorization middleware js app route api twitter all passportconfig isauthenticated all passportconfig isauthorized get apicontroller gettwitter post apicontroller posttwitter use whichever style that makes sense to you either one is acceptable i really think that chaining http verbs on app route is very clean and elegant approach but on the other hand i can no longer see all my routes at a glance when you have one route per line step 2 create a new schema and a model book js inside the models directory js const mongoose require mongoose const bookschema new mongoose schema name string const book mongoose model book bookschema module exports book step 3 create a new controller file called book js inside the controllers directory js get books list all books const book require models book js exports getbooks req res book find err docs res render books books docs step 4 import that controller in app js js const bookcontroller require controllers book step 5 create books pug template pug extends layout block content page header h3 all books ul for book in books li book name thats it i will say that you could have combined step 1 2 3 as following js app get books req res book find err docs res render books books docs sure its simpler but as soon as you pass 1000 lines of code in app js it becomes a little difficult to navigate the file i mean the whole point of this boilerplate project was to separate concerns so you could work with your teammates without running into merge conflicts imagine you have 4 developers working on a single app js i promise you it wont be fun resolving merge conflicts all the time if you are the only developer then its fine but as i said once it gets up to a certain loc size it becomes difficult to maintain everything in a single file thats all there is to it express js is super simple to use most of the time you will be dealing with other apis to do the real work mongoose for querying database socket io for sending and receiving messages over websockets sending emails via nodemailer form validation using express validator library parsing websites using cheerio and etc how do i use socket io with hackathon starter dan stroot submitted an excellent pull request that adds a real time dashboard with socket io and as much as id like to add it to the project i think it violates one of the main principles of the hackathon starter when i started this project my primary focus was on simplicity and ease of use i also tried to make it as generic and reusable as possible to cover most use cases of hackathon web apps without being too specific when i need to use socket io i really need it but most of the time i dont but more importantly websockets support is still experimental on most hosting providers as of october 2013 heroku supports websockets but not until you opt in by running this command js heroku labs enable websockets a myapp and what if you are deploying to openshift they do support websockets but it is currently in a preview state so for openshift you would need to change the socket io connect uri to the following js const socket io connect http yoursite namespace rhcloud com 8000 wait why is it on port 8000 who knows and if i didnt run across this blog post i wouldnt even know i had to use port 8000 i am really glad that heroku and openshift at least have a websockets support because many other paas providers still do not support it due to the aforementioned issues with websockets i cannot include socket io as part of the hackathon starter for now if you need to use socket io in your app please continue reading first you need to install socket io js npm install socket io save replace const app express with the following code js const app express const server require http server app const io require socket io server i like to have the following code organization in app js from top to bottom module dependencies import controllers import configs connect to database express configuration routes start the server socket io stuff that way i always know where to look for things add the following code at the end of app js js io on connection socket socket emit greet hello hey there browser socket on respond data console log data socket on disconnect console log socket disconnected one last thing left to change js app listen app get port to js server listen app get port at this point we are done with the back end you now have a choice to include your javascript code in pug templates or have all your client side javascript in a separate file in main js i will admit when i first started out with node js and javascript in general i placed all javascript code inside templates because i have access to template variables passed in from express right then and there its the easiest thing you can do but also the least efficient and harder to maintain since then i almost never include inline javascript inside templates anymore but its also understandable if you want take the easier road most of the time you dont even care about performance during hackathons you just want to get shit done before the time runs out well either way use whichever approach makes more sense to you at the end of the day its what you build that matters not how you build it if you want to stick all your javascript inside templates then in layout pug your main template file add this to head block pug script src socket io socket io js script let socket io connect window location href socket on greet function data console log data socket emit respond message hey there server note notice the path of the socket io js you dont actually have to have socket io js file anywhere in your project it will be generated automatically at runtime if you want to have javascript code separate from templates move that inline script code into main js inside the document ready function js document ready function place javascript code here let socket io connect window location href socket on greet function data console log data socket emit respond message hello to you too mr server and we are done cheatsheets es6 cheatsheet declarations declares a read only named constant js const name yourname declares a block scope local variable js let index 0 template strings using the syntax strings can embed expressions js const name oggy const age 3 console log my cat is named name and is age years old modules to import functions objects or primitives exported from an external module these are the most common types of importing js const name require module name js const foo bar require module name to export functions objects or primitives from a given file or module js module exports myfunction js module exports name yourname js module exports myfunctionorclass spread operator the spread operator allows an expression to be expanded in places where multiple arguments for function calls or multiple elements for array literals are expected js myfunction iterableobject jsx childcomponent this props promises a promise is used in asynchronous computations to represent an operation that hasnt completed yet but is expected in the future js var p new promise function resolve reject the catch method returns a promise and deals with rejected cases only js p catch function reason handle rejection the then method returns a promise it takes 2 arguments callback for the success failure cases js p then function value handle fulfillment function reason handle rejection the promise all iterable method returns a promise that resolves when all of the promises in the iterable argument have resolved or rejects with the reason of the first passed promise that rejects js promise all p1 p2 p3 then function values console log values arrow functions arrow function expression shorter syntax lexically binds the this value arrow functions are anonymous js singleparam statements js statements js param1 param2 expression js const arr 1 2 3 4 5 const squares arr map x x x classes the class declaration creates a new class using prototype based inheritance js class person constructor name age gender this name name this age age this gender gender incrementage this age gift credits duckduckgo and drksephy top back to top javascript date cheatsheet unix timestamp seconds js math floor date now 1000 momentjs moment unix add 30 minutes to a date object js var now new date now setminutes now getminutes 30 momentjs moment add 30 minutes date formatting js dd mm yyyy var now new date var dd now getdate var mm now getmonth 1 var yyyy now getfullyear if dd 10 dd 0 dd if mm 10 mm 0 mm console log mm dd yyyy 03 30 2016 momentjs console log moment new date mm dd yyyy js hh mm 12 hour time with am pm var now new date var hours now gethours var minutes now getminutes var ampm hours 12 pm am hours hours 12 hours hours hours 12 minutes minutes 10 0 minutes minutes console log hours minutes ampm 1 43 am momentjs console log moment new date hh mm a next week date object js var today new date var nextweek new date today gettime 7 24 60 60 1000 momentjs moment add 7 days yesterday date object js var today new date var yesterday date setdate date getdate 1 momentjs moment add 1 days top back to top mongoose cheatsheet find all users js user find err users console log users find a user by email js let useremail example gmail com user findone email useremail err user console log user find 5 most recent user accounts js user find sort id 1 limit 5 exec err users console log users get total count of a field from all documents lets suppose that each user has a votes field and you would like to count the total number of votes in your database across all users one very inefficient way would be to loop through each document and manually accumulate the count or you could use mongodb aggregation framework instead js user aggregate group id null total sum votes err votescount console log votescount total top back to top docker you will need docker and docker compose installed to build the application docker installation common problems setting up docker after installing docker start the application with the following commands to build the project for the first time or when you add dependencies docker compose build web to start the application or to restart after making changes to the source code docker compose up web to view the app find your docker ip address port 8080 this will typically be http localhost 8080 to use a port other than 8080 you would need to modify the port in app js dockerfile and docker compose yml deployment once you are ready to deploy your app you will need to create an account with a cloud platform to host it these are not the only choices but they are my top picks from my experience heroku is the easiest to get started with it will automatically restart your node js process when it crashes zero downtime deployments and custom domain support on free accounts additionally you can create an account with mlab and then pick one of the 4 providers below again there are plenty of other choices and you are not limited to just the ones listed below 1 step deployment with heroku download and install heroku toolbelt in terminal run heroku login and enter your heroku credentials from your app directory run heroku create run heroku addons create mongolab this will set up the mlab add on and configure the mongodb uri environment variable in your heroku app for you lastly do git push heroku master done note to install heroku add ons your account must be verified open mlab com website click the yellow sign up button fill in your user information then hit create account from the dashboard click on zap create new button select any cloud provider i usually go with aws under plan click on single node development tab and select sandbox its free leave mongodb version as is 2 4 x enter database name for your web app then click on zap create new mongodb deployment button now to access your database you need to create a db user click to the recently created database you should see the following message a database user is required to connect to this database click here to create a new one click the link and fill in db username and db password fields finally in env instead of mongodb localhost 27017 test use the following uri with your credentials db mongodb username password ds027479 mongolab com 27479 database name note as an alternative to mlab there is also compose note these instructions might be out of date due to changes in openshift heroku is currently a good free alternative if you the new process please feel free to help us update this page first install this ruby gem sudo gem install rhc gem run rhc login and enter your openshift credentials from your app directory run rhc app create myapp nodejs 0 10 note myapp is the name of your app no spaces once that is done you will be provided with url ssh and git remote links visit provided url and you should see the welcome to your node js application on openshift page copy and and paste git remote into git remote add openshift your git remote before you push your app you need to do a few modifications to your code add these two lines to app js just place them anywhere before app listen js var ip address process env openshift nodejs ip 127 0 0 1 var port process env openshift nodejs port 8080 then change app listen to js app listen port ip address console log express server listening on port port in app settings env mode add this to package json after name and version this is necessary because by default openshift looks for server js file and by specifying supervisor app js it will automatically restart the server when node js process crashes js main app js scripts start supervisor app js finally you can now push your code to openshift by running git push f openshift master note the first time you run this command you have to pass f force flag because openshift creates a dummy server with the welcome page when you create a new node js app passing f flag will override everything with your hackathon starter project repository do not run git pull as it will create unnecessary merge conflicts and you are done note beyound the initial 12 month trial of azure the platform does not seem to offer a free tier for hosting nodejs apps if you are looking for a free tier service to host your app heroku might be a better choice at this point login to windows azure management portal click the new button on the bottom left of the portal click compute then web app then quick create enter a name for url and select the datacenter region for your web site click on create web app button once the web site status changes to running click on the name of the web site to access the dashboard at the bottom right of the quickstart page select set up a deployment from source control select local git repository from the list and then click the arrow to enable git publishing azure will ask you to create a user name and password once the git repository is ready you will be presented with a git url inside your hackathon starter directory run git remote add azure azure git url to push your changes simply run git push azure master note you will be prompted for the password you created earlier on deployments tab of your windows azure web app you will see the deployment history ibm bluemix cloud platform note at this point it appears that bluemixs free tier to host nodejs apps is limited to 30 days if you are looking for a free tier service to host your app heroku might be a better choice at this point create a bluemix account sign up for bluemix or use an existing account download and install the cloud foundry cli to push your applications to bluemix create a manifest yml file in the root of your application applications name host memory 128m services mymongo db name the host you use will determinate your application url initially e g host mybluemix net the service name mymongo db name is a declaration of your mongodb service if you are using other services like watson for example then you would declare them the same way connect and login to bluemix via the cloud foundry cli cf login a https api ng bluemix net create a mongodb service cf create service mongodb 100 your service name note this is a free and experiment verion of mongodb instance use the mongodb by compose instance for production applications cf create service compose for mongodb standard your service name push the application cf push cf env to view the environment variables created for your application done now go to the staging domain host mybluemix net and see your app running cloud foundry commands more bluemix samples simple todo app in a programming language of your choice ibm watson be sure to check out the full list of watson services to forwarder enhance your application functionality with a little effort watson services are easy to get going it is simply an restful api call here is an example of a watson toner analyzer to understand the emotional context of a piece of text that you send to watson watson catalog of services conversation quickly build and deploy chatbots and virtual agents across a variety of channels including mobile devices messaging platforms and even robots discovery unlock hidden value in data to find answers monitor trends and surface patterns with the worlds most advanced cloud native insight engine language translator translate text from one language to another natural language classifier interpret and classify natural language with confidence natural language understanding analyze text to extract meta data from content such as concepts entities keywords and more personality insights predict personality characteristics needs and values through written text speech to text convert audio and voice into written text for quick understanding of content text to speech convert written text into natural sounding audio in a variety of languages and voices tone analyzer understand emotions social tendencies and perceived writing style visual recognition tag classify and search visual content using machine learning click here for live demos of each watson service google cloud platform download and install node js select or create a google cloud platform console project enable billing for your project theres a 300 free trial install and initialize the google cloud sdk create an app yaml file at the root of your hackathon starter folder with the following contents yaml runtime nodejs vm true manual scaling instances 1 make sure youve set mongodb uri in env example run the following command to deploy the hackathon starter app bash gcloud app deploy monitor your deployed app in the cloud console view the logs for your app in the cloud console changelog you can find the changelog for the project in changelog md contributing if something is unclear confusing or needs to be refactored please let me know pull requests are always welcome but due to the opinionated nature of this project i cannot accept every pull request please open an issue before submitting a pull request this project uses airbnb javascript style guide with a few minor exceptions if you are submitting a pull request that involves pug templates please make sure you are using spaces not tabs license the mit license mit copyright c 2014 2018 sahat yalkabov permission is hereby granted free of charge to any person obtaining a copy of this software and associated documentation files the software to deal in the software without restriction including without limitation the rights to use copy modify merge publish distribute sublicense and or sell copies of the software and to permit persons to whom the software is furnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in all copies or substantial portions of the software the software is provided as is without warranty of any kind express or implied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall the authors or copyright holders be liable for any claim damages or other liability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in the software