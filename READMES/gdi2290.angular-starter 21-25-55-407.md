angular webpack starter an angular starter kit featuring angular 6 ahead of time compile router forms http services tests e2e karma protractor jasmine istanbul typescript types tslint codelyzer hot module replacement and webpack by tipe if youre looking for angular 1 x please use ng6 starter if youre looking to learn about webpack and es6 build tools check out es6 build tools if youre looking to learn typescript see typestrong learn typescript if youre looking for something easier to get started with then see the angular seed that i also maintain gdi2290 angular seed this seed repo serves as an angular starter for anyone looking to get up and running with angular and typescript fast using a webpack 4 for building our files and assisting with boilerplate were also using protractor for our end to end story and karma for our unit tests best practices in file and application organization for angular ready to go build system using webpack for working with typescript angular examples that are ready to go when experimenting with angular a great angular seed repo for anyone who wants to start their project ahead of time aot compile for rapid page loads of your production builds tree shaking to automatically remove unused code from your production bundle testing angular code with jasmine and karma coverage with istanbul and karma end to end angular app testing using protractor type manager with types hot module replacement with webpack and gdi2290 hmr and gdi2290 hmr loader quick start make sure you have node version 8 0 and npm 5 or yarn clone download the repo then edit app component ts inside src app app component ts bash clone our repo depth 1 removes all but one git commit history git clone depth 1 https github com gdi2290 angular starter git change directory to our repo cd angular starter install the repo with npm npm install start the server npm start use hot module replacement npm run server dev hmr if youre in china use cnpm https github com cnpm cnpm go to http 0 0 0 0 3000 or http localhost 3000 in your browser table of contents file structure getting started dependencies installing running the app configuration aot donts external stylesheets contributing typescript types frequently asked questions support questions or feedback deployment license file structure we use the component approach in our starter this is the new standard for developing angular apps and a great way to ensure maintainable code by encapsulation of our behavior logic a component is basically a self contained app usually in a single file or a folder with each concern as a file style template specs e2e and component class heres how it looks angular starter ├──config our configuration ├──build utils js common config and shared functions for prod and dev ├──config common json config for both environments prod and dev such title and description of index html ├──config dev json config for devevlopment environment ├──config prod json config for production environment │ │ note you can load your own config file just set the evn angular conf file with the path of your own file ├──helpers js helper functions for our configuration files ├──spec bundle js ignore this magic that sets up our angular testing environment ├──karma conf js karma config for our unit tests ├──protractor conf js protractor config for our end to end tests │ ├──webpack common js common tasks for webpack build process shared for dev and prod │ ├──webpack dev js our development webpack config │ ├──webpack prod js our production webpack config │ └──webpack test js our testing webpack config │ ├──src our source files that will be compiled to javascript ├──main browser ts our entry file for our browser environment │ │ ├──index html index html where we generate our index page │ │ ├──polyfills ts our polyfills file │ │ │ ├──app webapp folder │ │ ├──app component spec ts a simple test of components in app component ts │ │ ├──app e2e ts a simple end to end test for │ │ └──app component ts a simple version of our app component components │ │ │ └──assets static assets are served here │ ├──icon our list of icons from www favicon generator org │ ├──service worker js ignore this web app service worker thats not complete yet │ ├──robots txt for search engines to crawl your website │ └──humans txt for humans to know who the developers are │ │ ├──tslint json typescript lint config ├──typedoc json typescript documentation generator ├──tsconfig json typescript config used outside webpack ├──tsconfig webpack json config that webpack uses for typescript ├──package json what npm uses to manage its dependencies └──webpack config js webpack main configuration file getting started dependencies what you need to run this app node and npm brew install node ensure youre running the latest versions node v8 x x or v9 x x and npm 5 x x if you have nvm installed which is highly recommended brew install nvm you can do a nvm install lts nvm use in to run with the latest node lts you can also have this zsh done for you automatically once you have those you should install these globals with npm install global webpack npm install global webpack webpack dev server npm install global webpack dev server karma npm install global karma cli protractor npm install global protractor typescript npm install global typescript tslint npm install global tslint 4 5 1 installing fork this repo clone your fork npm install webpack dev server rimraf webpack g to install required global dependencies npm install to install all dependencies or yarn npm run server to start the dev server in another tab running the app after you have installed all dependencies you can now run the app run npm run server to start a local server using webpack dev server which will watch build in memory and reload for you the port will be displayed to you as http 0 0 0 0 3000 or if you prefer ipv6 if youre using express server then its http 1 3000 server bash development npm run server production npm run build prod npm run server prod other commands build files bash development npm run build dev production jit npm run build prod aot npm run build aot hot module replacement bash npm run server dev hmr watch and build files bash npm run watch run unit tests bash npm run test watch and run our tests bash npm run watch test run end to end tests bash update webdriver optional done automatically by postinstall script npm run webdriver update this will start a test server and launch protractor npm run e2e continuous integration run unit tests and e2e tests together bash this will test both your jit and aot builds npm run ci run protractors elementexplorer for end to end bash npm run e2e live build docker bash npm run build docker configuration configuration files live in config we are currently using webpack karma and protractor for different stages of your application aot donts the following are some things that will make aot compile fail dont use require statements for your templates or styles use styleurls and templateurls the angular2 template loader plugin will change it to require at build time dont use default exports dont use form controls controlname use form get ‘controlname dont use control errors someerror use control haserror ‘someerror dont use functions in your providers routes or declarations export a function and then reference that function name inputs outputs view or content child ren hostbindings and any field you use from the template or annotate for angular should be public for more detailed guide on aots dos and donts refer to https github com rangle angular 2 aot sandbox external stylesheets any stylesheets sass or css placed in the src styles directory and imported into your project will automatically be compiled into an external css and embedded in your production builds for example to use bootstrap as an external stylesheet 1 create a styles scss file name doesnt matter in the src styles directory 2 npm install the version of boostrap you want 3 in styles scss add import bootstrap scss bootstrap scss 4 in src app app module ts add underneath the other import statements import styles styles scss contributing you can include more examples as components but they must introduce a new concept such as home component separate folders and todo services ill accept pretty much everything so feel free to open a pull request typescript to take full advantage of typescript with autocomplete you would have to install it globally and use an editor with the correct typescript plugins use latest typescript compiler typescript 2 7 x includes everything you need make sure to upgrade even if you installed typescript previously npm install global typescript use a typescript aware editor we have good experience using these editors visual studio code webstorm 2018 1 atom with typescript plugin sublime text with typescript sublime plugin visual studio code debugger for chrome install debugger for chrome and see docs for instructions to launch chrome the included vscode automatically connects to the webpack development server on port 3000 types when you include a module that doesnt include type definitions inside of the module you can include external type definitions with types i e to have youtube api support run this command in terminal shell npm i types youtube types gapi types gapi youtube in some cases where your code editor doesnt support typescript 2 yet or these types werent listed in tsconfig json add these to src custom typings d ts to make peace with the compile check es6 import types gapi youtube import types gapi import types youtube custom type definitions when including 3rd party modules you also need to include the type definition for the module if they dont provide one within the module you can try to install it with types npm install types node npm install types lodash if you cant find the type definition in the registry we can make an ambient definition in this file for now for example typescript declare module my module export function doessomething value string string if youre prototyping and you will fix the types later you can also declare it as type any typescript declare var assert any declare var any declare var any if youre importing a module that uses node js modules which are commonjs you need to import as typescript import as from lodash frequently asked questions whats the current browser support for angular please view the updated list of browser support for angular why is my service aka provider is not injecting parameter correctly please use injectable for your service for typescript to correctly attach the metadata this is a typescript problem where do i write my tests you can write your tests next to your component files see src app home home component spec ts how do i start the app when i get eacces and eaddrinuse errors the eaddrinuse error means the port 3000 is currently being used and eacces is lack of permission for webpack to build files to dist how to use sass for css loaders raw loader sass loader and component styleurls filename scss see wiki page how to include scss in components or issue 136 for more information how do i test a service see issue 130 how do i add vscode chrome debug support the vs code chrome debug extension support can be done via launch json see issue 144 how do i make the repo work in a virtual machine you need to use 0 0 0 0 so revert these changes 205 what are the naming conventions for angular please see issue 185 and pr 196 how do i include bootstrap or jquery please see issue 215 and 214 how do i async load a component see wiki how do i async load a component with asyncroute error cannot find module tapable remove node modules and run npm cache clean then npm install how do i turn on hot module replacement run npm run server dev hmr rangeerror maximum call stack size exceeded this is a problem with minifying angular and its recent jit templates if you set mangle to false then you should be good why is the size of my app larger in development we are using inline source maps and hot module replacement which will increase the bundle size if youre in china check out https github com cnpm cnpm node pre gyp err in npm install windows often happens when youre behind proxy and proxy wasnt configured in the npm as it tries to download binary package from the github and if it fails to do so it will try to compile node sass from the source codes install python x86 version 2 x and on windows see issue 626 error error parse tsconfig error messagetext unknown compiler option lib category 1 code 5023 messagetext unknown compiler option strictnullchecks category 1 code 5023 messagetext unknown compiler option baseurl category 1 code 5023 messagetext unknown compiler option paths category 1 code 5023 messagetext unknown compiler option types category 1 code 5023 remove node modules typescript and run npm install typescript beta this repo now uses ts 2 0 there are multiple modules with names that only differ in casing change c \ path to angular starter to c \ path to angular starter see 926 issuecomment 245223547 support questions or feedback contact us anytime for anything about this repo or angular twitter tipeio gitter angularclass angular2 webpack starter deployment docker to run project you only need host machine with operating system with installed git to clone this repo and docker and thats all any other software is not needed other software like node js etc will be automatically downloaded and installed inside docker container during build step based on dockerfile install docker macos brew cask install docker and run docker by mac bottom menu launchpad docker on first run docker will ask you about password ubuntu sudo apt get update sudo apt key adv keyserver hkp p80 pool sks keyservers net 80 recv keys 58118e89f3a912897c070adbf76221572c52609d sudo apt add repository deb https apt dockerproject org repo ubuntu xenial main sudo apt get update apt cache policy docker engine sudo apt get install y docker engine sudo systemctl status docker test should be ‘active and add your user to docker group to avoid sudo before using docker command in future sudo usermod ag docker whoami and logout and login again build image because node js is big memory consumer you need 1 2gb ram or virtual memory to build docker image it was successfully tested on machine with 512mb ram 2gb virtual memory building process take 7min go to main project folder to build image type docker build t angular starter the angular starter name used in above commands is only example image name to remove intermediate images created by docker on build process type docker rmi f docker images f dangling true q run image to run created docker image on localhost 8080 type parameter p 8080 80 is host container port mapping docker run name angular starter p 8080 80 angular starter and thats all you can open browser and go to localhost 8080 build and run image using docker compose to create and run docker image on localhost 8080 as part of large project you may use docker compose type docker compose up and thats all you can open browser and go to localhost 8080 run image on sub domain if you want to run image as virtual host on sub domain you must setup proxy you should install proxy and set sub domain in this way docker run d p 80 80 name nginx proxy v var run docker sock tmp docker sock ro jwilder nginx proxy alpine and in your etc hosts file linux add line 127 0 0 1 angular starter your domain com or in yor hosting add folowing dns record wildchar is handy because when you add new sub domain in future you dont need to touch add any dns record type cname hostname your domain com direct to your domain com ttl sec 43200 and now you are ready to run image on subdomain by docker run e virtual host angular starter your domain com name angular starter angular starter login into docker container docker exec t i angular starter bin bash netlify you can quickly create a free site to get started using this starter kit in production on netlify optional integration with sonarqube for continous code quality assuming you have sonarqube 5 5 6 lts installed setup sonarqube with the sonar typescript plugin and the generic test coverage plugin https docs sonarqube org display plug generic test coverage install sonar scanner globally bash npm install global sonar scanner install the karma plugin for sonarqube as a dev dependency bash npm install karma sonarqube unit reporter save dev sonar host url configuration update sonar project properties file for the property sonar host url to point to your sonarqube server by default this assumes that the sonarqube server is running locally using the default port sonar host url sonar host url and port run the unit tests with sonar reporter enabled bash npm run test sonar the test results collected in the results folder in the sonar compatible format push results to sonarcube bash sonar scanner if working with sonarqube 6 x it supports generic test data modify the karma conf js to set the appropriate version of the sonarqube es6 sonarqubeunitreporter sonarqubeversion 6 x enjoy — patrickjs license mit