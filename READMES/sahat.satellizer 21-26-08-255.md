satellizer live demo satellizer is a simple to use end to end token based authentication module for angularjs with built in support for google facebook linkedin twitter instagram github bitbucket yahoo twitch microsoft windows live oauth providers as well as email and password sign in however you are not limited to the sign in options above in fact you can add any oauth 1 0 or oauth 2 0 provider by passing provider specific information in the app config block backers support us with a monthly donation and help us continue our activities become a backer sponsors become a sponsor and get your logo on our readme on github with a link to your site become a sponsor table of contents installation requirements for mobile apps usage configuration browser support authentication flow login with email and password login with oauth 1 0 login with oauth 2 0 logout obtaining oauth keys api reference faq community resources backers sponsors credits license installation browser html script src angular js script script src satellizer js script html satellizer cdn script src https cdn jsdelivr net satellizer 0 15 5 satellizer min js script npm npm install satellizer bower bower install satellizer requirements for mobile apps with any cordova mobile apps or any framework that uses cordova such as ionic framework you will need to add cordova plugin inappbrowser plugin cordova plugin add cordova plugin inappbrowser make sure that inappbrowser is listed in your project cordova plugins cordova plugin console 1 0 2 console cordova plugin device 1 1 1 device cordova plugin inappbrowser 1 3 0 inappbrowser cordova plugin splashscreen 3 2 0 splashscreen cordova plugin statusbar 2 1 1 statusbar cordova plugin whitelist 1 2 1 whitelist ionic plugin keyboard 1 0 8 keyboard usage step 1 app module js angular module myapp satellizer config function authprovider authprovider facebook clientid facebook app id optional for client side use implicit grant set responsetype to token default code authprovider facebook clientid facebook app id responsetype token authprovider google clientid google client id authprovider github clientid github client id authprovider linkedin clientid linkedin client id authprovider instagram clientid instagram client id authprovider yahoo clientid yahoo client id consumer key authprovider live clientid microsoft client id authprovider twitch clientid twitch client id authprovider bitbucket clientid bitbucket client id authprovider spotify clientid spotify client id no additional setup required for twitter authprovider oauth2 name foursquare url auth foursquare clientid foursquare client id redirecturi window location origin authorizationendpoint https foursquare com oauth2 authenticate step 2 controller js angular module myapp controller loginctrl function scope auth scope authenticate function provider auth authenticate provider step 3 template html button ng click authenticate facebook sign in with facebook button button ng click authenticate google sign in with google button button ng click authenticate github sign in with github button button ng click authenticate linkedin sign in with linkedin button button ng click authenticate instagram sign in with instagram button button ng click authenticate twitter sign in with twitter button button ng click authenticate foursquare sign in with foursquare button button ng click authenticate yahoo sign in with yahoo button button ng click authenticate live sign in with windows live button button ng click authenticate twitch sign in with twitch button button ng click authenticate bitbucket sign in with bitbucket button button ng click authenticate spotify sign in with spotify button note for server side usage please refer to the examples directory configuration below is a complete listing of all default configuration options js authprovider httpinterceptor function return true authprovider withcredentials false authprovider tokenroot null authprovider baseurl authprovider loginurl auth login authprovider signupurl auth signup authprovider unlinkurl auth unlink authprovider tokenname token authprovider tokenprefix satellizer authprovider tokenheader authorization authprovider tokentype bearer authprovider storagetype localstorage facebook authprovider facebook name facebook url auth facebook authorizationendpoint https www facebook com v2 5 dialog oauth redirecturi window location origin requiredurlparams display scope scope email scopedelimiter display popup oauthtype 2 0 popupoptions width 580 height 400 google authprovider google url auth google authorizationendpoint https accounts google com o oauth2 auth redirecturi window location origin requiredurlparams scope optionalurlparams display scope profile email scopeprefix openid scopedelimiter display popup oauthtype 2 0 popupoptions width 452 height 633 github authprovider github url auth github authorizationendpoint https github com login oauth authorize redirecturi window location origin optionalurlparams scope scope user email scopedelimiter oauthtype 2 0 popupoptions width 1020 height 618 instagram authprovider instagram name instagram url auth instagram authorizationendpoint https api instagram com oauth authorize redirecturi window location origin requiredurlparams scope scope basic scopedelimiter oauthtype 2 0 linkedin authprovider linkedin url auth linkedin authorizationendpoint https www linkedin com uas oauth2 authorization redirecturi window location origin requiredurlparams state scope r emailaddress scopedelimiter state state oauthtype 2 0 popupoptions width 527 height 582 twitter authprovider twitter url auth twitter authorizationendpoint https api twitter com oauth authenticate redirecturi window location origin oauthtype 1 0 popupoptions width 495 height 645 twitch authprovider twitch url auth twitch authorizationendpoint https api twitch tv kraken oauth2 authorize redirecturi window location origin requiredurlparams scope scope user read scopedelimiter display popup oauthtype 2 0 popupoptions width 500 height 560 windows live authprovider live url auth live authorizationendpoint https login live com oauth20 authorize srf redirecturi window location origin requiredurlparams display scope scope wl emails scopedelimiter display popup oauthtype 2 0 popupoptions width 500 height 560 yahoo authprovider yahoo url auth yahoo authorizationendpoint https api login yahoo com oauth2 request auth redirecturi window location origin scope scopedelimiter oauthtype 2 0 popupoptions width 559 height 519 bitbucket authprovider bitbucket url auth bitbucket authorizationendpoint https bitbucket org site oauth2 authorize redirecturi window location origin optionalurlparams scope scope email scopedelimiter oauthtype 2 0 popupoptions width 1020 height 618 spotify authprovider spotify url auth spotify authorizationendpoint https accounts spotify com authorize redirecturi window location origin optionalurlparams state requiredurlparams scope scope user read email scopeprefix scopedelimiter oauthtype 2 0 popupoptions width 500 height 530 generic oauth 2 0 authprovider oauth2 name null url null clientid null redirecturi null authorizationendpoint null defaulturlparams response type client id redirect uri requiredurlparams null optionalurlparams null scope null scopeprefix null scopedelimiter null state null oauthtype null popupoptions null responsetype code responseparams code code clientid clientid redirecturi redirecturi generic oauth 1 0 authprovider oauth1 name null url null authorizationendpoint null redirecturi null oauthtype null popupoptions null browser support 9 ✓ ✓ ✓ ✓ ✓ authentication flow satellizer relies on token based authentication using json web tokens instead of cookies additionally authorization obtaining users information with their permission and authentication application sign in requires sever side implementation see provided examples implemented in multiple languages for your convenience in other words you cannot just launch your angularjs application and expect everything to work the only exception is when you use oauth 2 0 implicit grant client side authorization by setting responsetype token in providers configuration login with email and password client enter your email and password into the login form client on form submit call auth login with email and password client send a post request to auth login server check if email exists if not return 401 server check if password is correct if not return 401 server create a json web token and send it back to the client client parse the token and save it to local storage for subsequent use after page reload login with oauth 1 0 client open an empty popup window via auth authenticate provider name client unlike oauth 2 0 with oauth 1 0 you cannot go directly to the authorization screen without a valid request token client the oauth 1 0 flow starts with an empty post request to auth provider server obtain and return request tokenfor the authorization popup client set the url location of a popup to the authorizationendpoint with a valid request token query parameter as well as popup options for height and width this will redirect a user to the authorization screen after this point the flow is very similar to oauth 2 0 client sign in with your username and password if necessary then authorize the application client send a post request back to the auth provider with oauth token and oauth verifier query parameters server do an oauth signed post request to the access token url since we now have oauth token and oauth verifier parameters server look up the user by their unique provider id if user already exists grab the existing user otherwise create a new user account server create a json web token and send it back to the client client parse the token and save it to local storage for subsequent use after page reload login with oauth 2 0 client open a popup window via auth authenticate provider name client sign in with that provider if necessary then authorize the application client after successful authorization the popup is redirected back to your app e g http localhost 3000 with the code authorization code query string parameter client the code parameter is sent back to the parent window that opened the popup client parent window closes the popup and sends a post request to auth provider withcode parameter server authorization code is exchanged for access token server user information is retrived using the access token from step 6 server look up the user by their unique provider id if user already exists grab the existing user otherwise create a new user account server in both cases of step 8 create a json web token and send it back to the client client parse the token and save it to local storage for subsequent use after page reload log out client remove token from local storage note to learn more about json web tokens visit jwt io obtaining oauth keys visit google developer console click create project button enter project name then click create then select apis auth from the sidebar and click on credentials tab click create new client id button application type web application authorized javascript origins http localhost 3000 authorized redirect uri http localhost 3000 note make sure you have turned on contacts api and google api in the apis tab visit facebook developers click apps create a new app in the navigation bar enter display name then choose a category then click create app click on settings on the sidebar then click add platform select website enter http localhost 3000 for site url sign in at https apps twitter com click on create new app enter your application name description and website for callback url http 127 0 0 1 3000 go to settings tab under application type select read and write access check the box allow this application to be used to sign in with twitter click update this twitters applications settings visit live connect app management click on create application enter an application name then click on i accept button go to api settings tab enter a redirect url click save go to app settings tab to get client id and client secret note microsoft does not consider localhost or 127 0 0 1 to be a valid url as a workaround for local development add 127 0 0 1 mylocalwebsite net to etc hosts file and specify mylocalwebsite net as your redirect url in the api settings tab visit https github com settings profile select applications in the left panel go to developer applications tab then click on the register new application button application name your app name homepage url http localhost 3000 authorization callback url http localhost 3000 click on the register application button visit https developer spotify com select my apps on the top menu select create an app on the right side application name your app name application description your app description click create fill out the following redirect uris http localhost 3000 click save api reference auth login user options auth signup user options auth authenticate name userdata auth logout auth isauthenticated auth link name userdata auth unlink name options auth gettoken auth getpayload auth settoken token auth removetoken auth setstoragetype type auth login user options sign in using email and password parameters param type details user object javascript object containing user information options optional object http config object see http config docs returns response the http response object from the server usage js var user email scope email password scope password auth login user then function response redirect user here after a successful log in catch function response handle errors here such as displaying a notification for invalid email and or password auth signup user options create a new account with email and password parameters param type details user object javascript object containing user information options optional object http config object see http config docs returns response the http response object from the server usage js var user firstname scope firstname lastname scope lastname email scope email password scope password auth signup user then function response redirect user here to login page or perhaps some other intermediate page that requires email address verification before any other part of the site can be accessed catch function response handle errors here auth authenticate name userdata starts the oauth 1 0 or the oauth 2 0 authorization flow by opening a popup window if used client side responsetype token is required in the provider setup to get the actual access token parameters param type details name string one of the built in or custom oauth provider names created via authprovider oauth1 or authprovider oauth2 userdata optional object if you need to send additional data to the server along with code clientid and redirecturi oauth 2 0 or oauth token and oauth verifier oauth 1 0 returns response the http response object from the server usage js auth authenticate google then function response signed in with google catch function response something went wrong auth logout deletes a token from local storage or session storage usage js auth logout auth isauthenticated checks authentication status of a user state true false no token in local storage ✓ token present but not a valid jwt ✓ jwt present without exp ✓ jwt present with exp and not expired ✓ jwt present with exp and expired ✓ usage js controller scope isauthenticated function return auth isauthenticated html template ul ng if isauthenticated li a href login login a li li a href signup sign up a li ul ul ng if isauthenticated li a href logout logout a li ul auth link name userdata alias for auth authenticate name userdata bulb note account linking and merging business logic is handled entirely on the server usage js controller scope link function provider auth link provider then function response you have successfully linked an account catch function response handle errors here html template button ng click link facebook connect facebook account button auth unlink name options unlinks an oauth provider by default sends a post request to auth unlink with the provider name data object parameters param type details name string one of the built in or custom oauth provider names created via authprovider oauth1 or authprovider oauth2 options optional object http config object see http config docs returns response the http response object from the server usage js auth unlink github then function response you have unlinked a github account catch function response handle errors here auth gettoken returns a token from local storage or session storage js auth gettoken eyjhbgcioijiuzi1niisinr5cci6ikpxvcj9 eyjzdwiiojeymzq1njc4otasim5hbwuioijkb2huiervzsj9 krkuhzvzmwxjgb4zko3d6p1imkdp0ogebluxntciyuu auth getpayload returns a jwt claims set i e the middle part of a json web token usage js auth getpayload exp 1414978281 iat 1413765081 userid 544457a3eb129ee822a38fdd auth settoken token saves a jwt or an access token to local storage session storage parameters param type details token object an object that takes a jwt response data config tokenname or an access token response access token auth removetoken removes a token from local storage session storage used internally by auth logout usage js auth removetoken auth setstoragetype type sets storage type to local storage or session storage parameters param type details type string accepts localstorage and sessionstorage values usage js auth setstoragetype sessionstorage faq question how do i set offline access js authprovider google optionalurlparams access type accesstype offline question can i change redirecturi to something other than base url by default redirecturi is set to window location origin protocol hostname port number of a url for all oauth providers this redirecturi must match exactly the url¹ specified in your oauth app settings facebook example however you can set redirecturi to any url path you desire for instance you may follow the naming convention of passport js js note must be absolute path window location origin auth facebook facebook callback window location origin auth facebook google callback using the example above a popup window will be redirected to http localhost 3000 auth facebook callback code your authorization code after a successful facebook authorization to avoid potential 404 errors create server routes for each redirecturi url that return 200 ok or alternatively you may render a custom template with a loading spinner for the moment a popup will not stay long enough to see that custom template due to 20ms interval polling but in the future i may add support for overriding this polling interval value as far as satellizer is concerned it does not matter what is the value of redirecturi as long as it matches url in your oauth app settings satellizers primary concern is to read url query hash parameters then close a popup ¹ note depending on the oauth provider it may be called site url callback url redirect url and so on question how can i send a token in a format other than authorization bearer token if you are unable to send a token to your server in the following format authorization bearer token then use authprovider tokenheader and authprovider tokentype config options to change the header format the default values are authorization and bearer respectively for example if you need to use authorization basic header this is where you change it question how can i avoid sending authorization header on all http requests by default once user is authenticated jwt will be sent on every request if you would like to prevent that you could use skipauthorization option in your http request for example js http method get url api endpoint skipauthorization true authorization bearer token will not be sent on this request question is there a way to dynamically change localstorage to sessionstorage yes you can toggle between localstorage and sessionstorage via the following satellizer methods auth setstoragetype sessionstorage auth setstoragetype localstorage question i am having a problem with ionic authentication on ios 9 first check what kind of error you are getting by opening the web inspector from develop simulator index html menu if you have configured everything correctly chances are you running into the following error failed to load resource the resource could not be loaded because the app transport security policy requires the use of a secure connection follow instructions on this stackoverflow post by adding nsapptransportsecurity to info plist that should fix the problem community resources tutorials ionic jwt auth with facebook using node js part 1 and part 2 build an instagram clone with angularjs satellizer node js and mongodb credits contribution user dropwizard java example alice chen go example salim alami ruby on rails example simonas gildutis ionic framework example dimitris bozelos additionally i would like to thank all other contributors who have reported bugs submitted pull requests and suggested new features license the mit license mit copyright c 2016 sahat yalkabov permission is hereby granted free of charge to any person obtaining a copy of this software and associated documentation files the software to deal in the software without restriction including without limitation the rights to use copy modify merge publish distribute sublicense and or sell copies of the software and to permit persons to whom the software is furnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in all copies or substantial portions of the software the software is provided as is without warranty of any kind express or implied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall the authors or copyright holders be liable for any claim damages or other liability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in the software