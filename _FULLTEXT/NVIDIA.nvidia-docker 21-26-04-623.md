nvidia container runtime for docker documentation the full documentation and frequently asked questions are available on the repository wiki an introduction to the nvidia container runtime is also covered in our blog post quickstart make sure you have installed the nvidia driver and a supported version of docker for your distribution see prerequisites if you have a custom etc docker daemon json the nvidia docker2 package might override it ubuntu 14 04 16 04 18 04 debian jessie stretch sh if you have nvidia docker 1 0 installed we need to remove it and all existing gpu containers docker volume ls q f driver nvidia docker xargs r i n1 docker ps q a f volume xargs r docker rm f sudo apt get purge y nvidia docker add the package repositories curl s l https nvidia github io nvidia docker gpgkey \ sudo apt key add distribution etc os release echo id version id curl s l https nvidia github io nvidia docker distribution nvidia docker list \ sudo tee etc apt sources list d nvidia docker list sudo apt get update install nvidia docker2 and reload the docker daemon configuration sudo apt get install y nvidia docker2 sudo pkill sighup dockerd test nvidia smi with the latest official cuda image docker run runtime nvidia rm nvidia cuda nvidia smi centos 7 docker ce rhel 7 4 7 5 docker ce amazon linux 1 2 if you are not using the official docker ce package on centos rhel use the next section sh if you have nvidia docker 1 0 installed we need to remove it and all existing gpu containers docker volume ls q f driver nvidia docker xargs r i n1 docker ps q a f volume xargs r docker rm f sudo yum remove nvidia docker add the package repositories distribution etc os release echo id version id curl s l https nvidia github io nvidia docker distribution nvidia docker repo \ sudo tee etc yum repos d nvidia docker repo install nvidia docker2 and reload the docker daemon configuration sudo yum install y nvidia docker2 sudo pkill sighup dockerd test nvidia smi with the latest official cuda image docker run runtime nvidia rm nvidia cuda nvidia smi ifyumreports a conflict on etc docker daemon jsonwith thedocker package you need to use the next section instead for docker ce on ppc64le look at the faq centos 7 docker rhel 7 4 7 5 docker sh if you have nvidia docker 1 0 installed we need to remove it and all existing gpu containers docker volume ls q f driver nvidia docker xargs r i n1 docker ps q a f volume xargs r docker rm f sudo yum remove nvidia docker add the package repositories distribution etc os release echo id version id curl s l https nvidia github io nvidia container runtime distribution nvidia container runtime repo \ sudo tee etc yum repos d nvidia container runtime repo install the nvidia runtime hook sudo yum install y nvidia container runtime hook sudo mkdir p usr libexec oci hooks d echo e bin sh\npath usr local sbin usr local bin usr sbin usr bin sbin bin exec nvidia container runtime hook \ sudo tee usr libexec oci hooks d nvidia sudo chmod x usr libexec oci hooks d nvidia test nvidia smi with the latest official cuda image you cant use runtime nvidia with this setup docker run rm nvidia cuda nvidia smi other distributions and architectures look at the installation section of the wiki issues and contributing a signed copy of the contributor license agreement needs to be provided to digits nvidia com before any change can be accepted please let us know by filing a new issue you can contribute by opening a pull request