description the official mongodb driver for node js provides a high level api on top of mongodb core that is meant for end users note v3 x was recently released with breaking api changes you can find a list of changes here mongodb node js driver what where documentation http mongodb github io node mongodb native api doc http mongodb github io node mongodb native 3 1 api source https github com mongodb node mongodb native mongodb http www mongodb org bugs feature requests think youve found a bug want to see a new feature in node mongodb native please open a case in our issue management tool jira create an account and login jira mongodb org navigate to the node project jira mongodb org browse node click create issue please provide as much information as possible about the issue type and how to reproduce it bug reports in jira for all driver projects i e node python csharp java and the core server i e server project are public questions and bug reports mailing list groups google com forum forum node mongodb native jira jira mongodb org change log change history can be found in history md installation the recommended way to get started using the node js 3 0 driver is by using the npm node package manager to install the dependency in your project mongodb driver given that you have created your own project using npm init we install the mongodb driver and its dependencies by executing the following npm command bash npm install mongodb save this will download the mongodb driver and add a dependency entry in your package json file you can also use the yarn package manager troubleshooting the mongodb driver depends on several other packages these are mongodb core bson kerberos node gyp the kerberos package is a c extension that requires a build environment to be installed on your system you must be able to build node js itself in order to compile and install the kerberos module furthermore the kerberos module requires the mit kerberos package to correctly compile on unix operating systems consult your unix operation system package manager for what libraries to install windows already contains the sspi api used for kerberos authentication however you will need to install a full compiler tool chain using visual studio c to correctly install the kerberos extension diagnosing on unix if you dont have the build essentials this module wont build in the case of linux you will need gcc g node js with all the headers and python the easiest way to figure out whats missing is by trying to build the kerberos project you can do this by performing the following steps bash git clone https github com mongodb js kerberos cd kerberos npm install if all the steps complete you have the right toolchain installed if you get the error node gyp not found you need to install node gyp globally bash npm install g node gyp if it correctly compiles and runs the tests you are golden we can now try to install the mongod driver by performing the following command bash cd yourproject npm install mongodb save if it still fails the next step is to examine the npm log rerun the command but in this case in verbose mode bash npm loglevel verbose install mongodb this will print out all the steps npm is performing while trying to install the module diagnosing on windows a compiler tool chain known to work for compiling kerberos on windows is the following visual studio c 2010 do not use higher versions windows 7 64bit sdk python 2 7 or higher open the visual studio command prompt ensure node exe is in your path and install node gyp bash npm install g node gyp next you will have to build the project manually to test it clone the repo install dependencies and rebuild bash git clone https github com christkv kerberos git cd kerberos npm install node gyp rebuild this should rebuild the driver successfully if you have everything set up correctly other possible issues your python installation might be hosed making gyp break test your deployment environment first by trying to build node js itself on the server in question as this should unearth any issues with broken packages and there are a lot of broken packages out there another tip is to ensure your user has write permission to wherever the node js modules are being installed quick start this guide will show you how to set up a simple application using node js and mongodb its scope is only how to set up the driver and perform the simple crud operations for more in depth coverage see the tutorials create the package json file first create a directory where your application will live bash mkdir myproject cd myproject enter the following command and answer the questions to create the initial structure for your new project bash npm init next install the driver dependency bash npm install mongodb save you should see npm download a lot of files once its done youll find all the downloaded packages under the node modules directory start a mongodb server for complete mongodb installation instructions see the manual download the right mongodb version from mongodb create a database directory in this case under data install and start a mongod process bash mongod dbpath data you should see the mongod process start up and print some status information connect to mongodb create a new app js file and add the following code to try out some basic crud operations using the mongodb driver add code to connect to the server and the database myproject js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 database name const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected successfully to server const db client db dbname client close run your app from the command line with bash node app js the application should print connected successfully to server to the console insert a document add to app js the following function which uses the insertmany method to add three documents to the documents collection js const insertdocuments function db callback get the documents collection const collection db collection documents insert some documents collection insertmany a 1 a 2 a 3 function err result assert equal err null assert equal 3 result result n assert equal 3 result ops length console log inserted 3 documents into the collection callback result the insert command returns an object with the following fields result contains the result document from mongodb ops contains the documents inserted with added id fields connection contains the connection used to perform the insert add the following code to call the insertdocuments function js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 database name const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected successfully to server const db client db dbname insertdocuments db function client close run the updated app js file bash node app js the operation returns the following output bash connected successfully to server inserted 3 documents into the collection find all documents add a query that returns all the documents js const finddocuments function db callback get the documents collection const collection db collection documents find some documents collection find toarray function err docs assert equal err null console log found the following records console log docs callback docs this query returns all the documents in the documents collection add the finddocument method to the mongoclient connect callback js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 database name const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected correctly to server const db client db dbname insertdocuments db function finddocuments db function client close find documents with a query filter add a query filter to find only documents which meet the query criteria js const finddocuments function db callback get the documents collection const collection db collection documents find some documents collection find a 3 toarray function err docs assert equal err null console log found the following records console log docs callback docs only the documents which match a 3 should be returned update a document the following operation updates a document in the documents collection js const updatedocument function db callback get the documents collection const collection db collection documents update document where a is 2 set b equal to 1 collection updateone a 2 set b 1 function err result assert equal err null assert equal 1 result result n console log updated the document with the field a equal to 2 callback result the method updates the first document where the field a is equal to 2 by adding a new field b to the document set to 1 next update the callback function from mongoclient connect to include the update method js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 database name const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected successfully to server const db client db dbname insertdocuments db function updatedocument db function client close remove a document remove the document where the field a is equal to 3 js const removedocument function db callback get the documents collection const collection db collection documents delete document where a is 3 collection deleteone a 3 function err result assert equal err null assert equal 1 result result n console log removed the document with the field a equal to 3 callback result add the new method to the mongoclient connect callback function js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 database name const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected successfully to server const db client db dbname insertdocuments db function updatedocument db function removedocument db function client close index a collection indexes can improve your applications performance the following function creates an index on the a field in the documents collection js const indexcollection function db callback db collection documents createindex a 1 null function err results console log results callback add the indexcollection method to your app js const mongoclient require mongodb mongoclient const assert require assert connection url const url mongodb localhost 27017 const dbname myproject use connect method to connect to the server mongoclient connect url function err client assert equal null err console log connected successfully to server const db client db dbname insertdocuments db function indexcollection db function client close for more detailed information see the tutorials next steps mongodb documentation read about schemas star us on github