mosh the mobile shell mosh is a remote terminal application that supports intermittent connectivity allows roaming and provides speculative local echo and line editing of user keystrokes it aims to support the typical interactive uses of ssh plus mosh keeps the session alive if the client goes to sleep and wakes up later or temporarily loses its internet connection mosh allows the client and server to roam and change ip addresses while keeping the connection alive unlike ssh mosh can be used while switching between wi fi networks or from wi fi to cellular data to wired ethernet the mosh client runs a predictive model of the servers behavior in the background and tries to guess intelligently how each keystroke will affect the screen state when it is confident in its predictions it will show them to the user while waiting for confirmation from the server most typing and uses of the left and right arrow keys can be echoed immediately as a result mosh is usable on high latency links e g on a cellular data connection or spotty wi fi in distinction from previous attempts at local echo modes in other protocols mosh works properly with full screen applications such as emacs vi alpine and irssi and automatically recovers from occasional prediction errors within an rtt on high latency links mosh underlines its predictions while they are outstanding and removes the underline when they are confirmed by the server mosh does not support x forwarding or the non interactive uses of ssh including port forwarding other features mosh adjusts its frame rate so as not to fill up network queues on slow links so control c always works within an rtt to halt a runaway process mosh warns the user when it has not heard from the server in a while mosh supports lossy links that lose a significant fraction of their packets mosh handles some unicode edge cases better than ssh and existing terminal emulators by themselves but requires a utf 8 environment to run mosh leverages ssh to set up the connection and authenticate users mosh does not contain any privileged root code getting mosh the mosh web site has information about packages for many operating systems as well as instructions for building from source note that mosh client receives an aes session key as an environment variable if you are porting mosh to a new operating system please make sure that a running processs environment variables are not readable by other users we have confirmed that this is the case on gnu linux os x and freebsd usage the mosh client binary must exist on the users machine and the mosh server binary on the remote host the user runs mosh user host if the mosh client or mosh server binaries live outside the users path mosh accepts the arguments client path and server path to select alternate locations more options are documented in the mosh 1 manual page there are more examples and a faq on the mosh web site how it works the mosh program will ssh to user host to establish the connection ssh may prompt the user for a password or use public key authentication to log in from this point mosh runs the mosh server process as the user on the server machine the server process listens on a high udp port and sends its port number and an aes 128 secret key back to the client over ssh the ssh connection is then shut down and the terminal session begins over udp if the client changes ip addresses the server will begin sending to the client on the new ip address within a few seconds to function mosh requires udp datagrams to be passed between client and server by default mosh uses a port number between 60000 and 61000 but the user can select a particular port with the p option please note that the p option has no effect on the port used by ssh advice to distributors a note on compiler flags mosh is security sensitive code when making automated builds for a binary package we recommend passing the option enable compile warnings error to configure on gnu linux with g or clang the package should compile cleanly with werror please report a bug if it doesnt where available mosh builds with a variety of binary hardening flags such as fstack protector all d fortify source 2 etc these provide proactive security against the possibility of a memory corruption bug in mosh or one of the libraries it uses for a full list of flags search for harden in configure ac the configure script detects which flags are supported by your compiler and enables them automatically to disable this detection pass disable hardening to configure please report a bug if you have trouble with the default settings we would like as many users as possible to be running a configuration as secure as possible mosh ships with a default optimization setting of o2 some distributors have asked about changing this to os which causes a compiler to prefer space optimizations to time optimizations we have benchmarked with the included src examples benchmark program to test this the results are that o2 is 40 faster than os with g 4 6 on gnu linux and 16 faster than os with clang 3 1 on mac os x in both cases os did produce a smaller binary by up to 40 saving almost 200 kilobytes on disk while mosh is not especially cpu intensive and mostly sits idle when the user is not typing we think the results suggest that o2 the default is preferable our debian and fedora packaging presents mosh as a single package mosh has a perl dependency that is only required for client use for some platforms it may make sense to have separate mosh server and mosh client packages to allow mosh server usage without perl more info mosh web site https mosh org mosh devel mit edu mailing list https mailman mit edu mailman listinfo mosh devel mosh users mit edu mailing list https mailman mit edu mailman listinfo mosh users mosh channel on freenode irc https webchat freenode net channels mosh