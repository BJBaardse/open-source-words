clipboard.js Modern copy to clipboard. No Flash. Just 3kb gzipped. Why Copying text to the clipboard shouldnt be hard. It shouldnt require dozens of steps to configure or hundreds of KBs to load. But most of all, it shouldnt depend on Flash or any bloated framework. Thats why clipboard.js exists. Install You can get it on npm. npm install clipboard --save Or if youre not into package management, just download a ZIP file. Setup First, include the script located on the dist folder or load it from a third-party CDN provider. html <script src="dist/clipboard.min.js"></script> Now, you need to instantiate it by passing a DOM selector, HTML element, or list of HTML elements. js new ClipboardJS(.btn); Internally, we need to fetch all elements that matches with your selector and attach event listeners for each one. But guess what? If you have hundreds of matches, this operation can consume a lot of memory. For this reason we use event delegation which replaces multiple event listeners with just a single listener. After all, #perfmatters. Usage Were living a declarative renaissance, thats why we decided to take advantage of HTML5 data attributes for better usability. Copy text from another element A pretty common use case is to copy content from another element. You can do that by adding a data-clipboard-target attribute in your trigger element. The value you include on this attribute needs to match anothers element selector. ```html Target Trigger ``` Cut text from another element Additionally, you can define a data-clipboard-action attribute to specify if you want to either copy or cut content. If you omit this attribute, copy will be used by default. ```html Target Mussum ipsum cacilds... Trigger Cut to clipboard ``` As you may expect, the cut action only works on <input> or <textarea> elements. Copy text from attribute Truth is, you dont even need another element to copy its content from. You can just include a data-clipboard-text attribute in your trigger element. html <!-- Trigger --> <button class="btn" data-clipboard-text="Just because you can doesnt mean you should — clipboard.js"> Copy to clipboard </button> Events There are cases where youd like to show some user feedback or capture what has been selected after a copy/cut operation. Thats why we fire custom events such as success and error for you to listen and implement your custom logic. ```js var clipboard = new ClipboardJS(.btn); clipboard.on(success, function(e) { console.info(Action:, e.action); console.info(Text:, e.text); console.info(Trigger:, e.trigger); e.clearSelection(); }); clipboard.on(error, function(e) { console.error(Action:, e.action); console.error(Trigger:, e.trigger); }); ``` For a live demonstration, go to this site and open your console. Tooltips Each application has different design needs, thats why clipboard.js does not include any CSS or built-in tooltip solution. The tooltips you see on the demo site were built using GitHubs Primer. You may want to check that out if youre looking for a similar look and feel. Advanced Options If you dont want to modify your HTML, theres a pretty handy imperative API for you to use. All you need to do is declare a function, do your thing, and return a value. For instance, if you want to dynamically set a target, youll need to return a Node. js new ClipboardJS(.btn, { target: function(trigger) { return trigger.nextElementSibling; } }); If you want to dynamically set a text, youll return a String. js new ClipboardJS(.btn, { text: function(trigger) { return trigger.getAttribute(aria-label); } }); For use in Bootstrap Modals or with any other library that changes the focus youll want to set the focused element as the container value. js new ClipboardJS(.btn, { container: document.getElementById(modal) }); Also, if you are working with single page apps, you may want to manage the lifecycle of the DOM more precisely. Heres how you clean up the events and objects that we create. js var clipboard = new ClipboardJS(.btn); clipboard.destroy(); Browser Support This library relies on both Selection and execCommand APIs. The first one is supported by all browsers while the second one is supported in the following browsers. | | | | | | | |:---:|:---:|:---:|:---:|:---:|:---:| | 42+ ✔ | 12+ ✔ | 41+ ✔ | 9+ ✔ | 29+ ✔ | 10+ ✔ | The good news is that clipboard.js gracefully degrades if you need to support older browsers. All you have to do is show a tooltip saying Copied! when success event is called and Press Ctrl+C to copy when error event is called because the text is already selected. You can also check if clipboard.js is supported or not by running ClipboardJS.isSupported(), that way you can hide copy/cut buttons from the UI. Bonus A browser extension that adds a "copy to clipboard" button to every code block on GitHub, MDN, Gist, StackOverflow, StackExchange, npm, and even Medium. Install for Chrome and Firefox. License MIT License © Zeno Rocha