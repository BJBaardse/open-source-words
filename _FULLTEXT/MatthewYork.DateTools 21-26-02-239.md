datetools datetools was written to streamline date and time handling in ios classes and concepts from other languages served as an inspiration for datetools especially the datetime structure and time period library for net through these classes and others datetools removes the boilerplate required to access date components handles more nuanced date comparisons and serves as the foundation for entirely new concepts like time periods and their collections featured in yahoo livetext my disney experience aldi guidebook youtube music khan academy donate bitcoin 17zebfw5peuouwyaejegkpojwp1htviluy installation cocoapods swift pod datetoolsswift objective c legacy pod datetools manual installation all the classes required for datetools are located in the datetools folder in the root of this repository they are listed below swift found in datetoolsswift datetools constants swift date bundle swift date comparators swift date components swift date format swift date inits swift date manipulations swift date timeago swift datetools bundle enums swift integer datetools swift timechunk swift timeperiod swift timeperiodchain swift timeperiodcollection swift timeperiodgroup swift objective c found in datetools datetools datetools h nsdate datetools h m dtconstants h dterror h m dttimeperiod h m dttimeperiodgroup h m dttimeperiodcollection h m dttimeperiodchain h m the following bundle is necessary if you would like to support internationalization or would like to use the time ago functionality you can add localizations at the localizations subheading under info in the project menu datetools bundle datetools h contains the headers for all the other files import this if you want to link to the entire framework table of contents datetools time ago date components date editing date comparison formatted date strings time periods initialization time period info manipulation relationships time period groups time period collections time period chains unit tests credits license datetools full code documentation can be found here one of the missions of datetools was to make date feel more complete there are many other languages that allow direct access to information about dates from their date classes but date sadly does not it safely works only in the unix time offsets through the timeintervalsince methods for building dates and remains calendar agnostic but thats not always what we want to do sometimes we want to work with dates based on their date components like year month day etc at a more abstract level this is where datetools comes in time ago no date library would be complete without the ability to quickly make an nsstring based on how much earlier a date is than now datetools has you covered these time ago strings come in a long and short form with the latter closely resembling twitter you can get these strings like so swift let timeagodate 2 days earlier print time ago timeagodate timeagosincenow print time ago timeagodate shorttimeagosincenow output time ago 2 days ago time ago 2d assuming you have added the localization to your project datetools currently supports the following languages ar arabic bg bulgarian ca catalan zh hans chinese simplified zh hant chinese traditional cs czech da danish nl dutch en english fi finnish fr french de german gre greek gu gujarati he hebrew hi hindi hu hungarian is icelandic id indonesian it italian ja japanese ko korean lv latvian ms malay nb norwegian pl polish pt portuguese ro romanian ru russian sl slovenian es spanish sv swedish th thai tr turkish uk ukrainian vi vietnamese cy welsh hr croatian if you know a language not listed here please consider submitting a translation localization codes by language this project is user driven by people like you pull requests close faster than issues merged or rejected thanks to kevin lawler for his work on nsdate timeago which has been officially merged into this library date components there is a lot of boilerplate associated with getting date components from an date you have to set up a calendar use the desired flags for the components you want and finally extract them out of the calendar with datetools this swift create calendar let calendar calendar identifier gregorian let datecomponents calendar datecomponents set month year from date get components let year datecomponents year let month datecomponents month becomes this swift let year date year let month date month date editing the date editing methods in datetools makes it easy to shift a date earlier or later by adding and subtracting date components for instance if you would like a date that is 1 year later from a given date simply call the method datebyaddingyears with datetools this objc create calendar nscalendar calendar nscalendar alloc initwithcalendaridentifier nsdate defaultcalendar nsdatecomponents components nsdatecomponents alloc init make changes components setyear 1 get new date with updated year nsdate newdate calendar datebyaddingcomponents components todate date options 0 becomes this objc nsdate newdate date datebyaddingyears 1 subtraction of date components is also fully supported through the datebysubtractingyears date comparison another mission of the datetools category is to greatly increase the flexibility of date comparisons date gives you four basic methods isequaltodate earlierdate laterdate compare earlierdate and laterdate are great but it would be nice to have a boolean response to help when building logic in code to easily ask is this date earlier than that one datetools has a set of proxy methods that do just that as well as a few other methods for extended flexibility the new methods are isearlierthan isearlierthanorequalto islaterthan islaterthanorequalto these methods are great for comparing dates in a boolean fashion but what if we want to compare the dates and return some meaningful information about how far they are apart date comes with two methods timeintervalsincedate and timeintervalsincenow which gives you a double offset representing the number of seconds between the two dates this is great and all but there are times when one wants to know how many years or days are between two dates for this datetools goes back to the ever trusty nscalendar and abstracts out all the necessary code for you with date tools this objc nscalendar calendar nscalendar alloc initwithcalendaridentifier nsdate defaultcalendar nsdate earliest firstdate earlierdate seconddate nsdate latest seconddate firstdate seconddate firstdate nsinteger multiplier seconddate firstdate 1 1 nsdatecomponents components calendar components allcalendarunitflags fromdate earliest todate latest options 0 nsinteger yearsapart multiplier components month 12 components year becomes this objc nsinteger yearsapart firstdate yearsfrom seconddate methods for comparison in this category include yearsfrom yearsuntil yearsago yearsearlierthan yearslaterthan monthsfrom monthsuntil monthsago monthsearlierthan monthslaterthan weeksfrom weeksuntil weeksago weeksearlierthan weekslaterthan daysfrom daysuntil daysago daysearlierthan dayslaterthan hoursfrom hoursuntil hoursago hoursearlierthan hourslaterthan minutesfrom minutesuntil minutesago minutesearlierthan minuteslaterthan secondsfrom secondsuntil secondsago secondsearlierthan secondslaterthan formatted date strings just for kicks datetools has a few convenience methods for quickly creating strings from dates those two methods are formatteddatewithstyle and formatteddatewithformat the current locale is used unless otherwise specified by additional method parameters again just for kicks really time periods dates are important but the real world is a little less discrete than that life is made up of spans of time like an afternoon appointment or a weeklong vacation in datetools time periods are represented by the timeperiod class and come with a suite of initializaiton manipulation and comparison methods to make working with them a breeze initialization time peroids consist of an date start date and end date to initialize a time period call the init function objc dttimeperiod timeperiod dttimeperiod alloc initwithstartdate startdate enddate enddate or if you would like to create a time period of a known length that starts or ends at a certain time try out a few other init methods the method below for example creates a time period starting at the current time that is exactly 5 hours long objc dttimeperiod timeperiod dttimeperiod timeperiodwithsize dttimeperiodsizehour amount 5 startingat nsdate date time period info a host of methods have been extended to give information about an instance of timeperiod a few are listed below hasstartdate returns true if the period has a start date hasenddate returns true if the period has an end date ismoment returns true if the period has the same start and end date durationin returns the length of the time period in the requested units manipulation time periods may also be manipulated they may be shifted earlier or later as well as expanded and contracted shifting when a time period is shifted the start dates and end dates are both moved earlier or later by the amounts requested to shift a time period earlier call shiftearlierwithsize amount and to shift it later call shiftlaterwithsize amount the amount field serves as a multipler just like in the above initializaion method lengthening shortening when a time periods is lengthened or shortened it does so anchoring one date of the time period and then changing the other one there is also an option to anchor the centerpoint of the time period changing both the start and end dates an example of lengthening a time period is shown below objc dttimeperiod timeperiod dttimeperiod timeperiodwithsize dttimeperiodsizeminute endingat nsdate date timeperiod lengthenwithanchordate dttimeperiodanchorend size dttimeperiodsizeminute amount 1 this doubles a time period of duration 1 minute to duration 2 minutes the end date of now is retained and only the start date is shifted 1 minute earlier relationships there may come a need say when you are making a scheduling app when it might be good to know how two time periods relate to one another are they the same is one inside of another all these questions may be asked using the relationship methods of timeperiod below is a chart of all the possible relationships between two time periods a suite of methods have been extended to check for the basic relationships they are listed below isequaltoperiod isinside contains overlapswith intersects you can also check for the official relationship like those shown in the chart with the following method objc dttimeperiodrelation relationtoperiod dttimeperiod period all of the possible relationships have been enumerated in the timeperiodrelation enum for a better grasp on how time periods relate to one another check out the time periods tab in the example application here you can slide a few time periods around and watch their relationships change time period groups time period groups are the final abstraction of date and time in datetools here time periods are gathered and organized into something useful there are two main types of time period groups timeperiodcollection and timeperiodchain at a high level think about a collection as a loose group where overlaps may occur and a chain a more linear tight group where overlaps are not allowed both collections and chains operate like an nsarray you may add insert and remove timeperiod objects from them just as you would objects in an array the difference is how these periods are handled under the hood time period collections time period collections serve as loose sets of time periods they are unorganized unless you decide to sort them and have their own characteristics like a startdate and enddate that are extrapolated from the time periods within time period collections allow overlaps within their set of time periods to make a new collection call the class method like so objc create collection dttimeperiodcollection collection dttimeperiodcollection collection create a few time periods dttimeperiod firstperiod dttimeperiod timeperiodwithstartdate dateformatter datefromstring 2014 11 05 18 15 12 000 enddate dateformatter datefromstring 2015 11 05 18 15 12 000 dttimeperiod secondperiod dttimeperiod timeperiodwithstartdate dateformatter datefromstring 2015 11 05 18 15 12 000 enddate dateformatter datefromstring 2016 11 05 18 15 12 000 add time periods to the colleciton collection addtimeperiod firstperiod collection addtimeperiod secondperiod retreive collection items dttimeperiod firstperiod collection 0 sorting sorting time periods in a collection is easy just call one of the sort methods there are a total of three sort options listed below start date sortbystartascending sortbystartdescending end date sortbyendascending sortbyenddescending time period duration sortbydurationascending sortbydurationdescending operations it is also possible to check an dates or timeperiods relationship to the collection for instance if you would like to see all the time periods that intersect with a certain date you can call the periodsintersectedbydate method the result is a new timeperiodcollection with all those periods that intersect the provided date there are a host of other methods to try out as well including a full equality check between two collections time period chains time period chains serve as a tightly coupled set of time periods they are always organized by start and end date and have their own characteristics like a startdate and enddate that are extrapolated from the time periods within time period chains do not allow overlaps within their set of time periods this type of group is ideal for modeling schedules like sequential meetings or appointments to make a new chain call the class method like so objc create chain dttimeperiodchain chain dttimeperiodchain chain create a few time periods dttimeperiod firstperiod dttimeperiod timeperiodwithstartdate dateformatter datefromstring 2014 11 05 18 15 12 000 enddate dateformatter datefromstring 2015 11 05 18 15 12 000 dttimeperiod secondperiod dttimeperiod timeperiodwithstartdate dateformatter datefromstring 2015 11 05 18 15 12 000 enddate dateformatter datefromstring 2016 11 05 18 15 12 000 add test periods chain addtimeperiod firstperiod chain addtimeperiod secondperiod retreive chain items dttimeperiod firstperiod chain 0 any time a date is added to the time chain it retains its duration but is modified to have its startdate be the same as the latest period in the chains enddate this helps keep the tightly coupled structure of the chains time periods inserts besides those at index 0 shift dates after insertion index by the duration of the new time period while leaving those at indexes before untouched insertions at index 0 shift the start date of the collection by the duration of the new time period a full list of operations can be seen below operations like collections chains have an equality check and the ability to be shifted earlier and later here is a short list of other operations documentation all methods and variables have been documented and are available for option click inspection just like the sdk classes this includes an explanation of the methods as well as what their input and output parameters are for please raise an issue if you ever feel documentation is confusing or misleading and we will get it fixed up unit tests unit tests were performed on all the major classes in the library for quality assurance you can find theses under the tests folder at the top of the library there are over 300 test cases in all if you ever find a test case that is incomplete please open an issue so we can get it fixed continuous integration testing is performed by travis ci credits many thanks to grayson webster for helping rethink datetools for swift and crank out the necessary code thanks to kevin lawler for his initial work on nsdate timeago it laid the foundation for datetools timeago methods you can find this great project here many thanks to the net team for their datetime class and a major thank you to jani giannoudis for his work on itimeperiod images were first published through itenso com through code project i would also like to thank god through whom all things live and move and have their being acts 17 28 license the mit license mit copyright c 2014 matthew york permission is hereby granted free of charge to any person obtaining a copy of this software and associated documentation files the software to deal in the software without restriction including without limitation the rights to use copy modify merge publish distribute sublicense and or sell copies of the software and to permit persons to whom the software is furnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in all copies or substantial portions of the software the software is provided as is without warranty of any kind express or implied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall the authors or copyright holders be liable for any claim damages or other liability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in the software