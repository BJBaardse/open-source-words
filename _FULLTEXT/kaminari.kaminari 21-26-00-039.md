kaminari a scope engine based clean powerful customizable and sophisticated paginator for modern web app frameworks and orms features clean does not globally pollute array hash object or ar base easy to use just bundle the gem then your models are ready to be paginated no configuration required dont have to define anything in your models or helpers simple scope based api everything is method chainable with less hasheritis you know thats the modern rails way no special collection class or anything for the paginated values instead using a general ar relation instance so of course you can chain any other conditions before or after the paginator scope customizable engine based i18n aware helpers as the whole pagination helper is basically just a collection of links and non links kaminari renders each of them through its own partial template inside the engine so you can easily modify their behaviour style or whatever by overriding partial templates orm template engine agnostic kaminari supports multiple orms activerecord datamapper mongoid mongomapper multiple web frameworks rails sinatra grape and multiple template engines erb haml slim modern the pagination helper outputs the html5 nav tag by default plus the helper supports rails unobtrusive ajax supported versions ruby 2 0 0 2 1 x 2 2 x 2 3 x 2 4 x 2 5 x 2 6 rails 4 1 4 2 5 0 5 1 5 2 sinatra 1 4 haml 3 mongoid 3 mongomapper 0 9 datamapper 1 1 0 installation to install kaminari on the default rails stack just put this line in your gemfile ruby gem kaminari then bundle sh bundle if youre building non rails of non activerecord app and want the pagination feature on it please take a look at other framework library support section query basics the page scope to fetch the 7th page of users default per page is 25 ruby user page 7 note pagination starts at page 1 not at page 0 page 0 will return the same results as page 1 you can get page numbers or page conditions by using below methods ruby user count 1000 user page 1 limit value 20 user page 1 total pages 50 user page 1 current page 1 user page 1 next page 2 user page 2 prev page 1 user page 1 first page true user page 50 last page true user page 100 out of range true the per scope to show a lot more users per each page change the per page value ruby user page 7 per 50 note that the per scope is not directly defined on the models but is just a method defined on the page scope this is absolutely reasonable because you will never actually use per page without specifying the page number keep in mind that per internally utilizes limit and so it will override any limit that was set previously and if you want to get the size for all request records you can use total count method ruby user count 1000 a user limit 5 a count 5 a page 1 per 20 size 20 a page 1 per 20 total count 1000 the padding scope occasionally you need to pad a number of records that is not a multiple of the page size ruby user page 7 per 50 padding 3 note that the padding scope also is not directly defined on the models unscoping if for some reason you need to unscope page and per methods you can call except limit offset ruby users user page 7 per 50 unpaged users users except limit offset unpaged users will not use the kaminari scopes configuring kaminari general configuration options you can configure the following default values by overriding these values using kaminari configure method default per page 25 by default max per page nil by default max pages nil by default window 4 by default outer window 0 by default left 0 by default right 0 by default page method name page by default param name page by default params on first page false by default theres a handy generator that generates the default configuration file into config initializers directory run the following generator command then edit the generated file sh rails g kaminari config changing page method name you can change the method name page to bonzo or plant or whatever you like in order to play nice with existing page method or association or scope or any other plugin that defines page method on your models configuring default per page value for each model by paginates per you can specify default per page value per each model using the following declarative dsl ruby class user activerecord base paginates per 50 end configuring max per page value for each model by max paginates per you can specify max per page value per each model using the following declarative dsl if the variable that specified via per scope is more than this variable max paginates per is used instead of it default value is nil which means you are not imposing any max per page value ruby class user activerecord base max paginates per 100 end controllers the page parameter is in params page typically your controller code will look like this ruby users user order name page params page views the same old helper method just call the paginate helper erb paginate users this will render several page n pagination links surrounded by an html5 nav tag helpers the paginate helper method erb paginate users this would output several pagination links such as « first ‹ prev 2 3 4 5 6 7 8 9 10 next › last » specifying the inner window size 4 by default erb paginate users window 2 this would output something like 5 6 7 8 9 when 7 is the current page specifying the outer window size 0 by default erb paginate users outer window 3 this would output something like 1 2 3 snip 18 19 20 while having 20 pages in total outer window can be separately specified by left right 0 by default erb paginate users left 1 right 3 this would output something like 1 snip 18 19 20 while having 20 pages in total changing the parameter name param name for the links erb paginate users param name pagina this would modify the query parameter name on each links extra parameters params for the links erb paginate users params controller foo action bar this would modify each links url option controller and action might be the keys in common ajax links crazy simple but works perfectly erb paginate users remote true this would add data remote true to all the links inside specifying an alternative views directory default is kaminari erb paginate users views prefix templates this would search for partials in app views templates kaminari this option makes it easier to do things like a b testing pagination templates themes using new old templates at the same time as well as better integration with other gems such as cells the link to next page and link to previous page aliased to link to prev page helper methods erb link to next page items next page this simply renders a link to the next page this would be helpful for creating a twitter like pagination feature the page entries info helper method erb page entries info posts this renders a helpful message with numbers of displayed vs total entries by default the message will use the humanized class name of objects in collection for instance project types for projecttype models the namespace will be cut out and only the last name will be used override this with the entry name parameter erb page entries info posts entry name item displaying items 6 10 of 26 in total the rel next prev link tags helper method erb rel next prev link tags users this renders the rel next and prev link tags for the head the path to next page helper method erb path to next page users this returns the server relative path to the next page the path to prev page helper method erb path to prev page users this returns the server relative path to the previous page i18n and labels the default labels for first last previous and next are stored in the i18n yaml inside the engine and rendered through i18n api you can switch the label value per i18n locale for your internationalized application keys and the default values are the following you can override them by adding to a yaml file in your rails root config locales directory yaml en views pagination first laquo first last last raquo previous lsaquo prev next next rsaquo truncate hellip helpers page entries info one page display entries zero no entry name found one displaying b 1 b entry name other displaying b all count b entry name more pages display entries displaying entry name b first nbsp nbsp last b of b total b in total if you use non english localization see i18n rules for changing one page display entries block customizing the pagination helper kaminari includes a handy template generator to edit your paginator run the generator first sh rails g kaminari views default then edit the partials in your apps app views kaminari directory for haml slim users you can use the html2haml gem or the html2slim gem to convert erb templates the kaminari gem will automatically pick up haml slim templates if you place them in app views kaminari multiple templates in case you need different templates for your paginator for example public and admin you can pass views prefix directory like this sh rails g kaminari views default views prefix admin that will generate partials in app views admin kaminari directory themes the generator has the ability to fetch several sample template themes from the external repository https github com amatsuda kaminari themes in addition to the bundled default one which will help you creating a nice looking paginator sh rails g kaminari views theme to see the full list of available themes take a look at the themes repository or just hit the generator without specifying theme argument sh rails g kaminari views multiple themes to utilize multiple themes from within a single application create a directory within the app views kaminari and move your custom template files into that directory sh rails g kaminari views default skip if you have existing kaminari views cd app views kaminari mkdir my custom theme cp html my custom theme next reference that directory when calling the paginate method erb paginate users theme my custom theme customize away note if the theme isnt present or none is specified kaminari will default back to the views included within the gem paginating without issuing select count query generally the paginator needs to know the total number of records to display the links but sometimes we dont need the total number of records and just need the previous page and next page links for such use case kaminari provides without count mode that creates a paginatable collection without counting the number of all records this may be helpful when youre dealing with a very large dataset because counting on a big table tends to become slow on rdbms just add without count to your paginated object ruby user page 3 without count in your view file you can only use simple helpers like the following instead of the full featured paginate helper erb link to prev page users previous page link to next page users next page paginating a generic array object kaminari provides an array wrapper class that adapts a generic array object to the paginate view helper however the paginate helper doesnt automatically handle your array object this is intentional and by design kaminari paginate array method converts your array object into a paginatable array that accepts page method ruby paginatable array kaminari paginate array my array object page params page per 10 you can specify the total count value through options hash this would be helpful when handling an array ish object that has a different count value from actual count such as rsolr search result or when you need to generate a custom pagination for example ruby paginatable array kaminari paginate array total count 145 page params page per 10 creating friendly urls and caching because of the page parameter and rails routing you can easily generate seo and user friendly urls for any resource youd like to paginate just add the following to your routes rb ruby resources my resources do get page page action index on collection end if you are using rails 4 or later you can simplify route definitions by using concern ruby concern paginatable do get page page action index on collection as end resources my resources concerns paginatable this will create urls like my resources page 33 instead of my resources page 33 this is now a friendly url but it also has other added benefits because the page parameter is now a url segment we can leverage on rails page caching note in this example ive pointed the route to my index action you may have defined a custom pagination action in your controller you should point action your custom action instead other framework library support the kaminari gem technically the kaminari gem consists of 3 individual components kaminari core the core pagination logic kaminari activerecord active record adapter kaminari actionview action view adapter so bundling gem kaminari is equivalent to the following 2 lines kaminari core is referenced from the adapters ruby gem kaminari activerecord gem kaminari actionview for other orm users if you want to use other supported orms instead of activerecord for example mongoid bundle its adapter instead of kaminari activerecord ruby gem kaminari mongoid gem kaminari actionview kaminari currently provides adapters for the following orms active record https github com kaminari kaminari tree master kaminari activerecord included in this repo mongoid https github com kaminari kaminari mongoid mongomapper https github com kaminari kaminari mongo mapper datamapper https github com kaminari kaminari data mapper would not work on kaminari 1 0 x for other web framework users if you want to use other web frameworks instead of rails action view for example sinatra bundle its adapter instead of kaminari actionview ruby gem kaminari activerecord gem kaminari sinatra kaminari currently provides adapters for the following web frameworks action view https github com kaminari kaminari tree master kaminari actionview included in this repo sinatra https github com kaminari kaminari sinatra grape https github com kaminari kaminari grape for more information check out kaminari recipes on the github wiki for more advanced tips and techniques https github com kaminari kaminari wiki kaminari recipes questions feedback feel free to message me on github amatsuda or twitter a matsuda ☇☇☇ contributing to kaminari fork fix then send a pull request to run the test suite locally against all supported frameworks sh bundle install rake test all to target the test suite against one framework sh rake test active record 50 you can find a list of supported test tasks by running rake t you may also find it useful to run a specific test for a specific framework to do so youll have to first make sure you have bundled everything for that configuration then you can run the specific test sh bundle gemfile gemfiles active record 50 gemfile bundle install bundle gemfile gemfiles active record 50 gemfile test kaminari core test requests navigation test rb bundle exec rake test copyright copyright c 2011 akira matsuda see mit license for further details