this repo is a collection of simple demos of webpack these demos are purposely written in a simple and clear style you will find no difficulty in following them to learn the powerful tool how to use first install webpack and webpack dev server globally bash npm i g webpack webpack dev server then clone the repo bash git clone https github com ruanyf webpack demos git install the dependencies bash cd webpack demos npm install now play with the source files under the repos demo directories bash cd demo01 npm run dev if the above command doesnt open your browser automaticly you have to visit http 127 0 0 1 8080 by yourself foreword what is webpack webpack is a front end tool to build javascript module scripts for browsers it can be used similar to browserify and do much more bash browserify main js bundle js be equivalent to webpack main js bundle js webpack needs a configuration file called webpack config js which is just a commonjs module javascript webpack config js module exports entry main js output filename bundle js after having webpack config js you can invoke webpack without any arguments bash webpack some command line options you should know webpack – building for development webpack p – building for production minification webpack watch – for continuous incremental building webpack d – including source maps webpack colors – making building output pretty you could customize scripts field in your package json file as following javascript package json scripts dev webpack dev server devtool eval progress colors deploy node env production webpack p index entry file multiple entry files babel loader css loader image loader css module uglifyjs plugin html webpack plugin and open browser webpack plugin environment flags code splitting code splitting with bundle loader common chunk vendor chunk exposing global variables react router demo01 entry file source entry file is a file which webpack reads to build bundle js for example main js is an entry file javascript main js document write h1 hello world h1 index html html html body script type text javascript src bundle js script body html webpack follows webpack config js to build bundle js javascript webpack config js module exports entry main js output filename bundle js launch the server visit http 127 0 0 1 8080 bash cd demo01 npm run dev demo02 multiple entry files source multiple entry files are allowed it is useful for a multi page app which has different entry file for each page javascript main1 js document write hello world main2 js document write hello webpack index html html html body script src bundle1 js script script src bundle2 js script body html webpack config js javascript module exports entry bundle1 main1 js bundle2 main2 js output filename name js demo03 babel loader source loaders are preprocessors which transform a resource file of your app more info before webpacks building process for example babel loader can transform jsx es6 file into normal js files，after which webpack will begin to build these js files webpacks official doc has a complete list of loaders main jsx is a jsx file javascript main jsx const react require react const reactdom require react dom reactdom render hello world document queryselector wrapper index html html html body div id wrapper div script src bundle js script body html webpack config js javascript module exports entry main jsx output filename bundle js module rules test \ jsx exclude node modules use loader babel loader options presets es2015 react the above snippet uses babel loader which needs babels preset plugins babel preset es2015 and babel preset react to transpile es6 and react demo04 css loader source webpack allows you to include css in js file then preprocessed css file with css loader main js javascript require app css app css css body background color blue index html html html head script type text javascript src bundle js script head body h1 hello world h1 body html webpack config js javascript module exports entry main js output filename bundle js module rules test \ css use style loader css loader attention you have to use two loaders to transform css file first is css loader to read css file and another one is style loader to insert style tag into html page then launch the server bash cd demo04 npm run dev actually webpack inserts an internal style sheet into index html html head script type text javascript src bundle js script style type text css body background color blue style head demo05 image loader source webpack could also include images in js files main js javascript var img1 document createelement img img1 src require small png document body appendchild img1 var img2 document createelement img img2 src require big png document body appendchild img2 index html html html body script type text javascript src bundle js script body html webpack config js javascript module exports entry main js output filename bundle js module rules test \ png jpg use loader url loader options limit 8192 url loader transforms image files into img tag if the image size is smaller than 8192 bytes it will be transformed into data url otherwise it will be transformed into normal url after launching the server small png and big png have the following urls html img src data image png base64 ivbor uqmcc img src 4853ca667a2b8b8844eb2693ac1b2578 png demo06 css module source css loader modules the query parameter modules enables the css module which gives a local scoped css to your js modules css you can switch it off with global selector more info index html html html body h1 class h1 hello world h1 h2 class h2 hello webpack h2 div id example div script src bundle js script body html app css css local scope h1 color red global scope global h2 color blue main jsx javascript var react require react var reactdom require react dom var style require app css reactdom render hello world hello webpack document getelementbyid example webpack config js javascript module exports entry main jsx output filename bundle js module rules test \ js x exclude node modules use loader babel loader options presets es2015 react test \ css use loader style loader loader css loader options modules true launch the server bash cd demo06 npm run dev visiting http 127 0 0 1 8080 youll find that only second h1 is red because its css is local scoped and both h2 is blue because its css is global scoped demo07 uglifyjs plugin source webpack has a plugin system to expand its functions for example uglifyjs plugin will minify output bundle js js codes main js javascript var longvariablename hello longvariablename world document write h1 longvariablename h1 index html html html body script src bundle js script body html webpack config js javascript var webpack require webpack var uglifyjsplugin require uglifyjs webpack plugin module exports entry main js output filename bundle js plugins new uglifyjsplugin after launching the server main js will be minified into following javascript var o hello o world document write h1 o h1 demo08 html webpack plugin and open browser webpack plugin source this demo shows you how to load 3rd party plugins html webpack plugin could create index html for you and open browser webpack plugin could open a new browser tab when webpack loads main js javascript document write h1 hello world h1 webpack config js javascript var htmlwebpackplugin require html webpack plugin var openbrowserplugin require open browser webpack plugin module exports entry main js output filename bundle js plugins new htmlwebpackplugin title webpack demos filename index html new openbrowserplugin url http localhost 8080 launch the server bash cd demo08 npm run dev now you dont need to write index html by hand and dont have to open browser by yourself webpack did all these things for you demo09 environment flags source you can enable some codes only in development environment with environment flags main js javascript document write hello world if dev document write new date index html html html body script src bundle js script body html webpack config js javascript var webpack require webpack var devflagplugin new webpack defineplugin dev json stringify json parse process env debug false module exports entry main js output filename bundle js plugins devflagplugin now pass environment variable into webpack opening demo09 package json you should find scripts field as following javascript package json scripts dev cross env debug true webpack dev server open launch the server javascript cd demo09 npm run dev demo10 code splitting source for big web apps its not efficient to put all code into a single file webpack allows you to split a large js file into several chunks especially if some blocks of code are only required under some circumstances these chunks could be loaded on demand webpack uses require ensure to define a split point official document javascript main js require ensure a function require var content require a document open document write h1 content h1 document close require ensure tells webpack that a js should be separated from bundle js and built into a single chunk file javascript a js module exports hello world now webpack takes care of the dependencies output files and runtime stuff you dont have to put any redundancy into your index html and webpack config js html html body script src bundle js script body html webpack config js javascript module exports entry main js output filename bundle js launch the server bash cd demo10 npm run dev on the surface you wont feel any differences however webpack actually builds main js and a js into different chunks bundle js and 0 bundle js and loads 0 bundle js from bundle js when on demand demo11 code splitting with bundle loader source another way of code splitting is using bundle loader javascript main js now a js is requested it will be bundled into another file var load require bundle loader a js to wait until a js is available and get the exports you need to async wait for it load function file document open document write file document close require bundle loader a js tells webpack to load a js from another chunk now webpack will build main js into bundle js and a js into 0 bundle js demo12 common chunk source when multi scripts have common chunks you can extract the common part into a separate file with commonschunkplugin which is useful for browser caching and saving bandwidth javascript main1 jsx var react require react var reactdom require react dom reactdom render hello world document getelementbyid a main2 jsx var react require react var reactdom require react dom reactdom render hello webpack document getelementbyid b index html html html body div id a div div id b div script src commons js script script src bundle1 js script script src bundle2 js script body html the above commons js is the common chunk of main1 jsx and main2 jsx as you can imagine commons js includes react and react dom webpack config js javascript var webpack require webpack module exports entry bundle1 main1 jsx bundle2 main2 jsx output filename name js module rules test js x exclude node modules use loader babel loader options presets es2015 react plugins new webpack optimize commonschunkplugin name commons the commons chunk name filename commons js the filename of the commons chunk demo13 vendor chunk source you can also extract the vendor libraries from a script into a separate file with commonschunkplugin main js javascript var require jquery h1 text hello world index html html html body h1 h1 script src vendor js script script src bundle js script body html webpack config js javascript var webpack require webpack module exports entry app main js vendor jquery output filename bundle js plugins new webpack optimize commonschunkplugin name vendor filename vendor js in above codes entry vendor jquery tells webpack that jquery should be included in the common chunk vendor js if you want a module available as a global variable in every module such as making and jquery available in every module without writing require jquery you should use provideplugin official doc which automatically loads modules instead of having to import or require them everywhere javascript main js h1 text hello world webpack config js var webpack require webpack module exports entry app main js output filename bundle js plugins new webpack provideplugin jquery jquery jquery of course in this case you should load jquery js globally by yourself demo14 exposing global variables source if you want to use some global variables and dont want to include them in the webpack bundle you can enable externals field in webpack config js official document for example we have a data js javascript data js var data hello world index html html html body script src data js script script src bundle js script body html attention webpack will only build bundle js but not data js we can expose data as a global variable javascript webpack config js module exports entry main jsx output filename bundle js module rules test \ js x exclude node modules use loader babel loader options presets es2015 react externals require data is external and available on the global var data data data now you require data as a module variable in your script but it actually is a global variable javascript main jsx var data require data var react require react var reactdom require react dom reactdom render data document body you could also put react and react dom into externals which will greatly decreace the building time and building size of bundle js demo15 react router source this demo uses webpack to build react routers official example lets imagine a little app with a dashboard inbox and calendar dashboard inbox calendar logged in as jane dashboard webpack config js javascript module exports entry index js output filename bundle js module rules test \ css use style loader css loader test \ jsx exclude node modules use loader babel loader options presets es2015 react index js javascript import react from react import render from react dom import browserrouter switch route link from react router dom import app css class app extends react component render return dashboard inbox calendar logged in as jane class dashboard extends react component render return dashboard class inbox extends react component render return inbox class calendar extends react component render return calendar render document queryselector app index html html html body div id app div script src bundle js script body html launch the server bash cd demo15 npm run dev useful links webpack docs webpack howto by pete hunt survivejs webpack book by juho vepsäläinen diving into webpack by web design weekly webpack and react is awesome by christian alfoni browserify vs webpack by cory house license mit