passport passport is express compatible authentication middleware for node js passports sole purpose is to authenticate requests which it does through an extensible set of plugins known as strategies passport does not mount routes or assume any particular database schema which maximizes flexibility and allows application level decisions to be made by the developer the api is simple you provide passport a request to authenticate and passport provides hooks for controlling what occurs when authentication succeeds or fails status sponsorship passport is open source software ongoing development is made possible by generous contributions from individuals and corporations to learn more about how you can help keep this project financially sustainable please visit jared hansons page on patreon install npm install passport usage strategies passport uses the concept of strategies to authenticate requests strategies can range from verifying username and password credentials delegated authentication using oauth for example via facebook or twitter or federated authentication using openid before authenticating requests the strategy or strategies used by an application must be configured javascript passport use new localstrategy function username password done user findone username username function err user if err return done err if user return done null false if user verifypassword password return done null false return done null user there are 480 strategies find the ones you want at passportjs org sessions passport will maintain persistent login sessions in order for persistent sessions to work the authenticated user must be serialized to the session and deserialized when subsequent requests are made passport does not impose any restrictions on how your user records are stored instead you provide functions to passport which implements the necessary serialization and deserialization logic in a typical application this will be as simple as serializing the user id and finding the user by id when deserializing javascript passport serializeuser function user done done null user id passport deserializeuser function id done user findbyid id function err user done err user middleware to use passport in an express or connect based application configure it with the required passport initialize middleware if your application uses persistent login sessions recommended but not required passport session middleware must also be used javascript var app express app use require serve static dirname public app use require cookie parser app use require body parser urlencoded extended true app use require express session secret keyboard cat resave true saveuninitialized true app use passport initialize app use passport session authenticate requests passport provides an authenticate function which is used as route middleware to authenticate requests javascript app post login passport authenticate local failureredirect login function req res res redirect strategies passport has a comprehensive set of over 480 authentication strategies covering social networking enterprise integration api services and more search all strategies there is a strategy search at passportjs org the following table lists commonly used strategies strategy protocol developer local html form jared hanson openid openid jared hanson browserid browserid jared hanson facebook oauth 2 0 jared hanson google openid jared hanson google oauth oauth 2 0 jared hanson twitter oauth jared hanson azure active directory oauth 2 0 openid saml azure examples for a complete working example refer to the example that uses passport local local strategy refer to the following tutorials for setting up user authentication via localstrategy passport local mongo express v3x tutorial working example express v4x tutorial working example postgres tutorial working example social authentication refer to the following tutorials for setting up various social authentication strategies express v3x tutorial working example express v4x tutorial working example related modules locomotive — powerful mvc web framework oauthorize — oauth service provider toolkit oauth2orize — oauth 2 0 authorization server toolkit connect ensure login — middleware to ensure login sessions the modules page on the wiki lists other useful modules that build upon or integrate with passport tests npm install make test credits jared hanson supporters this project is supported by auth0 license the mit license copyright c 2011 2015 jared hanson http jaredhanson net