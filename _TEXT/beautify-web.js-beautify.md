js beautifier this little beautifier will reformat and re indent bookmarklets ugly javascript unpack scripts packed by dean edwards popular packer as well as deobfuscate scripts processed by javascriptobfuscator com open jsbeautifier org to try it out options are available via the ui contributors needed im putting this front and center above because existing owners have very limited time to work on this project currently this is a popular project and widely used but it desperately needs contributors who have time to commit to fixing both customer facing bugs and underlying problems with the internal design and implementation if you are interested please take a look at the contributing md then fix an issue marked with the good first issue label and submit a pr repeat as often as possible thanks installation you can install the beautifier for node js or python node js javascript you may install the npm package js beautify when installed globally it provides an executable js beautify script as with the python script the beautified result is sent to stdout unless otherwise configured bash npm g install js beautify js beautify foo js you can also use js beautify as a node library install locally the npm default bash npm install js beautify node js javascript vnext the above install the latest stable release to install beta or rc versions bash npm install js beautify next web library the beautifier can be added on your page as web library js beautifier is hosted on two cdn services cdnjs and rawgit to pull the latest version from one of these services include one set of the script tags below in your document html older versions are available by changing the version number disclaimer these are free services so there are no uptime or support guarantees python to install the python version of the beautifier bash pip install jsbeautifier usage you can beautify javascript using js beautifier in your web browser or on the command line using node js or python web browser open jsbeautifier org options are available via the ui web libary the script tags above expose three functions js beautify css beautify and html beautify node js javascript when installed globally the beautifier provides an executable js beautify script the beautified result is sent to stdout unless otherwise configured bash js beautify foo js to use js beautify as a node library after install locally import and call the appropriate beautifier method for javascript js css or html all three method signatures are beautify code options code is the string of code to be beautified options is an object with the settings you would like used to beautify the code the configuration option names are the same as the cli names but with underscores instead of dashes for example indent size 2 space in empty paren would be indent size 2 space in empty paren true js var beautify require js beautify js fs require fs fs readfile foo js utf8 function err data if err throw err console log beautify data indent size 2 space in empty paren true python after installing to beautify using python bash js beautify file js beautified output goes to stdout by default to use jsbeautifier as a library is simple python import jsbeautifier res jsbeautifier beautify your javascript string res jsbeautifier beautify file some file js or to specify some options python opts jsbeautifier default options opts indent size 2 opts space in empty paren true res jsbeautifier beautify some javascript opts the configuration option names are the same as the cli names but with underscores instead of dashes the example above would be set on the command line as indent size 2 space in empty paren options these are the command line flags for both python and js scripts text cli options f file input file s pass for stdin r replace write output in place replacing input o outfile write output to file default stdout config path to config file type js css html js q quiet suppress logging to stdout h help show this help v version show the version beautifier options s indent size indentation size 4 c indent char indentation character t indent with tabs indent with tabs overrides s and c e eol character s to use as line terminators first newline in file otherwise \n n end with newline end output with newline editorconfig use editorconfig to set up the options l indent level initial indentation level 0 p preserve newlines preserve line breaks no preserve newlines disables m max preserve newlines number of line breaks to be preserved in one chunk 10 p space in paren add padding spaces within paren ie f a b e space in empty paren add a single space inside empty paren ie f j jslint happy enable jslint stricter mode a space after anon function add a space before an anonymous functions parens ie function b brace style collapse expand end expand none preserve inline collapse preserve inline u unindent chained methods dont indent chained method calls b break chained methods break chained method calls across subsequent lines k keep array indentation preserve array indentation x unescape strings decode printable characters encoded in xnn notation w wrap line length wrap lines at next opportunity after n characters 0 x e4x pass e4x xml literals through untouched good stuff warm the cockles of crockfords heart c comma first put commas at the beginning of new line instead of end o operator position set operator position before newline after newline preserve newline before newline which correspond to the underscored option keys for both library interfaces defaults per cli options json indent size 4 indent char indent with tabs false eol \n end with newline false indent level 0 preserve newlines true max preserve newlines 10 space in paren false space in empty paren false jslint happy false space after anon function false brace style collapse unindent chained methods false break chained methods false keep array indentation false unescape strings false wrap line length 0 e4x false comma first false operator position before newline defaults not exposed in the cli json eval code false space before conditional true notice not all defaults are exposed via the cli historically the python and js apis have not been 100 identical there are still a few other additional cases keeping us from 100 api compatibility loading settings from environment or jsbeautifyrc javascript only in addition to cli arguments you may pass config to the js executable via any jsbeautify prefixed environment variables a json formatted file indicated by the config parameter a jsbeautifyrc file containing json data at any level of the filesystem above pwd configuration sources provided earlier in this stack will override later ones setting inheritance and language specific overrides the settings are a shallow tree whose values are inherited for all languages but can be overridden this works for settings passed directly to the api in either implementation in the javascript implementation settings loaded from a config file such as jsbeautifyrc can also use inheritance overriding below is an example configuration tree showing all the supported locations for language override nodes well use indent size to discuss how this configuration would behave but any number of settings can be inherited or overridden json indent size 4 html end with newline true js indent size 2 css indent size 2 css indent size 1 js preserve newlines true using the above example would have the following result html files inherit indent size of 4 spaces from the top level setting the files would also end with a newline javascript and css inside html inherit the html end with newline setting override their indentation to 2 spaces css files override the top level setting to an indent size of 1 space javascript files inherit indent size of 4 spaces from the top level setting set preserve newlines to true css html in addition to the js beautify executable css beautify and html beautify are also provided as an easy interface into those scripts alternatively js beautify css or js beautify html will accomplish the same thing respectively js programmatic access var beautify js require js beautify also available under js export var beautify css require js beautify css var beautify html require js beautify html all methods accept two arguments the string to be beautified and an options object the css html beautifiers are much simpler in scope and possess far fewer options text css beautifier options s indent size indentation size 4 c indent char indentation character t indent with tabs indent with tabs overrides s and c e eol character s to use as line terminators default newline \n n end with newline end output with newline l selector separator newline add a newline between multiple selectors n newline between rules add a newline between css rules html beautifier options s indent size indentation size 4 c indent char indentation character t indent with tabs indent with tabs overrides s and c e eol character s to use as line terminators default newline \n n end with newline end output with newline p preserve newlines preserve existing line breaks no preserve newlines disables m max preserve newlines maximum number of line breaks to be preserved in one chunk 10 i indent inner html indent and sections default is false b brace style collapse preserve inline collapse expand end expand none collapse s indent scripts keep separate normal normal w wrap line length maximum characters per line 0 disables 250 a wrap attributes wrap attributes to new lines auto force force aligned force expand multiline aligned multiple auto i wrap attributes indent size indent wrapped attributes to after n characters indent size ignored if wrap attributes is aligned d inline list of tags to be considered inline tags u unformatted list of tags defaults to inline that should not be reformatted t content unformatted list of tags defaults to pre whose content should not be reformatted e extra liners list of tags defaults to head body html that should have an extra newline before them editorconfig use editorconfig to set up the options directives to ignore or preserve sections javascript beautifier only beautifier for supports directives in comments inside the file this allows you to tell the beautifier to preserve the formatting of or completely ignore part of a file the example input below will remain changed after beautification js use preserve when the content is not javascript but you dont want it reformatted beautify preserve start browsername internet explorer platform windows 7 version 8 beautify preserve end use ignore when the content is not parsable as javascript var a 1 beautify ignore start this is some strange template language using open braces beautify ignore end license you are free to use this in any way you want in case you find this useful or working for you but you must keep the copyright notice and license mit credits created by einar lielmanis einar jsbeautifier org python version flourished by stefano sanfilippo a little coder gmail com command line for node js by daniel stockman daniel stockman gmail com maintained and expanded by liam newman bitwiseman gmail com thanks also to jason diamond patrick hof nochum sossonko andreas schneider dave vasilevsky vital batmanov ron baldwin gabriel harrison chris j shull mathias bynens vittorio gambaletta and others readme md js beautify 1 8 0 rc2